var wD=Object.defineProperty;var t1=t=>{throw TypeError(t)};var SD=(t,e,n)=>e in t?wD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fn=(t,e,n)=>SD(t,typeof e!="symbol"?e+"":e,n),Ug=(t,e,n)=>e.has(t)||t1("Cannot "+n);var le=(t,e,n)=>(Ug(t,e,"read from private field"),n?n.call(t):e.get(t)),Nt=(t,e,n)=>e.has(t)?t1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ft=(t,e,n,r)=>(Ug(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),et=(t,e,n)=>(Ug(t,e,"access private method"),n);var bd=(t,e,n,r)=>({set _(s){ft(t,e,s,n)},get _(){return le(t,e,r)}});function ED(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function F_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bg={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function TD(){if(n1)return Jc;n1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Jc.Fragment=e,Jc.jsx=n,Jc.jsxs=n,Jc}var r1;function xD(){return r1||(r1=1,Bg.exports=TD()),Bg.exports}var W=xD(),zg={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function CD(){if(i1)return yt;i1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(R,Z,U){this.props=R,this.context=Z,this.refs=E,this.updater=U||y}C.prototype.isReactComponent={},C.prototype.setState=function(R,Z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Z,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=C.prototype;function T(R,Z,U){this.props=R,this.context=Z,this.refs=E,this.updater=U||y}var A=T.prototype=new k;A.constructor=T,w(A,C.prototype),A.isPureReactComponent=!0;var z=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function I(R,Z,U,re,ve,X){return U=X.ref,{$$typeof:t,type:R,key:Z,ref:U!==void 0?U:null,props:X}}function P(R,Z){return I(R.type,Z,void 0,void 0,void 0,R.props)}function Q(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function ne(R){var Z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(U){return Z[U]})}var se=/\/+/g;function L(R,Z){return typeof R=="object"&&R!==null&&R.key!=null?ne(""+R.key):Z.toString(36)}function ae(){}function ie(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function(Z){R.status==="pending"&&(R.status="fulfilled",R.value=Z)},function(Z){R.status==="pending"&&(R.status="rejected",R.reason=Z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function H(R,Z,U,re,ve){var X=typeof R;(X==="undefined"||X==="boolean")&&(R=null);var Ae=!1;if(R===null)Ae=!0;else switch(X){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(R.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=R._init,H(Ae(R._payload),Z,U,re,ve)}}if(Ae)return ve=ve(R),Ae=re===""?"."+L(R,0):re,z(ve)?(U="",Ae!=null&&(U=Ae.replace(se,"$&/")+"/"),H(ve,Z,U,"",function(be){return be})):ve!=null&&(Q(ve)&&(ve=P(ve,U+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+Ae)),Z.push(ve)),1;Ae=0;var J=re===""?".":re+":";if(z(R))for(var K=0;K<R.length;K++)re=R[K],X=J+L(re,K),Ae+=H(re,Z,U,X,ve);else if(K=g(R),typeof K=="function")for(R=K.call(R),K=0;!(re=R.next()).done;)re=re.value,X=J+L(re,K++),Ae+=H(re,Z,U,X,ve);else if(X==="object"){if(typeof R.then=="function")return H(ie(R),Z,U,re,ve);throw Z=String(R),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function D(R,Z,U){if(R==null)return R;var re=[],ve=0;return H(R,re,"","",function(X){return Z.call(U,X,ve++)}),re}function G(R){if(R._status===-1){var Z=R._result;Z=Z(),Z.then(function(U){(R._status===0||R._status===-1)&&(R._status=1,R._result=U)},function(U){(R._status===0||R._status===-1)&&(R._status=2,R._result=U)}),R._status===-1&&(R._status=0,R._result=Z)}if(R._status===1)return R._result.default;throw R._result}var q=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ye(){}return yt.Children={map:D,forEach:function(R,Z,U){D(R,function(){Z.apply(this,arguments)},U)},count:function(R){var Z=0;return D(R,function(){Z++}),Z},toArray:function(R){return D(R,function(Z){return Z})||[]},only:function(R){if(!Q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},yt.Component=C,yt.Fragment=n,yt.Profiler=s,yt.PureComponent=T,yt.StrictMode=r,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,yt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return N.H.useMemoCache(R)}},yt.cache=function(R){return function(){return R.apply(null,arguments)}},yt.cloneElement=function(R,Z,U){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var re=w({},R.props),ve=R.key,X=void 0;if(Z!=null)for(Ae in Z.ref!==void 0&&(X=void 0),Z.key!==void 0&&(ve=""+Z.key),Z)!M.call(Z,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Z.ref===void 0||(re[Ae]=Z[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=U;else if(1<Ae){for(var J=Array(Ae),K=0;K<Ae;K++)J[K]=arguments[K+2];re.children=J}return I(R.type,ve,void 0,void 0,X,re)},yt.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},yt.createElement=function(R,Z,U){var re,ve={},X=null;if(Z!=null)for(re in Z.key!==void 0&&(X=""+Z.key),Z)M.call(Z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=Z[re]);var Ae=arguments.length-2;if(Ae===1)ve.children=U;else if(1<Ae){for(var J=Array(Ae),K=0;K<Ae;K++)J[K]=arguments[K+2];ve.children=J}if(R&&R.defaultProps)for(re in Ae=R.defaultProps,Ae)ve[re]===void 0&&(ve[re]=Ae[re]);return I(R,X,void 0,void 0,null,ve)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(R){return{$$typeof:c,render:R}},yt.isValidElement=Q,yt.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:G}},yt.memo=function(R,Z){return{$$typeof:d,type:R,compare:Z===void 0?null:Z}},yt.startTransition=function(R){var Z=N.T,U={};N.T=U;try{var re=R(),ve=N.S;ve!==null&&ve(U,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ye,q)}catch(X){q(X)}finally{N.T=Z}},yt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},yt.use=function(R){return N.H.use(R)},yt.useActionState=function(R,Z,U){return N.H.useActionState(R,Z,U)},yt.useCallback=function(R,Z){return N.H.useCallback(R,Z)},yt.useContext=function(R){return N.H.useContext(R)},yt.useDebugValue=function(){},yt.useDeferredValue=function(R,Z){return N.H.useDeferredValue(R,Z)},yt.useEffect=function(R,Z,U){var re=N.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(R,Z)},yt.useId=function(){return N.H.useId()},yt.useImperativeHandle=function(R,Z,U){return N.H.useImperativeHandle(R,Z,U)},yt.useInsertionEffect=function(R,Z){return N.H.useInsertionEffect(R,Z)},yt.useLayoutEffect=function(R,Z){return N.H.useLayoutEffect(R,Z)},yt.useMemo=function(R,Z){return N.H.useMemo(R,Z)},yt.useOptimistic=function(R,Z){return N.H.useOptimistic(R,Z)},yt.useReducer=function(R,Z,U){return N.H.useReducer(R,Z,U)},yt.useRef=function(R){return N.H.useRef(R)},yt.useState=function(R){return N.H.useState(R)},yt.useSyncExternalStore=function(R,Z,U){return N.H.useSyncExternalStore(R,Z,U)},yt.useTransition=function(){return N.H.useTransition()},yt.version="19.1.0",yt}var s1;function V_(){return s1||(s1=1,zg.exports=CD()),zg.exports}var V=V_();const Pe=F_(V),TC=ED({__proto__:null,default:Pe},[V]);var Fg={exports:{}},eu={},Vg={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function AD(){return o1||(o1=1,function(t){function e(D,G){var q=D.length;D.push(G);e:for(;0<q;){var ye=q-1>>>1,R=D[ye];if(0<s(R,G))D[ye]=G,D[q]=R,q=ye;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],q=D.pop();if(q!==G){D[0]=q;e:for(var ye=0,R=D.length,Z=R>>>1;ye<Z;){var U=2*(ye+1)-1,re=D[U],ve=U+1,X=D[ve];if(0>s(re,q))ve<R&&0>s(X,re)?(D[ye]=X,D[ve]=q,ye=ve):(D[ye]=re,D[U]=q,ye=U);else if(ve<R&&0>s(X,q))D[ye]=X,D[ve]=q,ye=ve;else break e}}return G}function s(D,G){var q=D.sortIndex-G.sortIndex;return q!==0?q:D.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],p=1,m=null,g=3,y=!1,w=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z(D){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=D)r(d),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(d)}}function N(D){if(E=!1,z(D),!w)if(n(f)!==null)w=!0,M||(M=!0,L());else{var G=n(d);G!==null&&H(N,G.startTime-D)}}var M=!1,I=-1,P=5,Q=-1;function ne(){return C?!0:!(t.unstable_now()-Q<P)}function se(){if(C=!1,M){var D=t.unstable_now();Q=D;var G=!0;try{e:{w=!1,E&&(E=!1,T(I),I=-1),y=!0;var q=g;try{t:{for(z(D),m=n(f);m!==null&&!(m.expirationTime>D&&ne());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,g=m.priorityLevel;var R=ye(m.expirationTime<=D);if(D=t.unstable_now(),typeof R=="function"){m.callback=R,z(D),G=!0;break t}m===n(f)&&r(f),z(D)}else r(f);m=n(f)}if(m!==null)G=!0;else{var Z=n(d);Z!==null&&H(N,Z.startTime-D),G=!1}}break e}finally{m=null,g=q,y=!1}G=void 0}}finally{G?L():M=!1}}}var L;if(typeof A=="function")L=function(){A(se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ie=ae.port2;ae.port1.onmessage=se,L=function(){ie.postMessage(null)}}else L=function(){k(se,0)};function H(D,G){I=k(function(){D(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(D){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var q=g;g=G;try{return D()}finally{g=q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=g;g=D;try{return G()}finally{g=q}},t.unstable_scheduleCallback=function(D,G,q){var ye=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ye+q:ye):q=ye,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,D={id:p++,callback:G,priorityLevel:D,startTime:q,expirationTime:R,sortIndex:-1},q>ye?(D.sortIndex=q,e(d,D),n(f)===null&&D===n(d)&&(E?(T(I),I=-1):E=!0,H(N,q-ye))):(D.sortIndex=R,e(f,D),w||y||(w=!0,M||(M=!0,L()))),D},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(D){var G=g;return function(){var q=g;g=G;try{return D.apply(this,arguments)}finally{g=q}}}}(Hg)),Hg}var a1;function RD(){return a1||(a1=1,Vg.exports=AD()),Vg.exports}var Wg={exports:{}},er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function kD(){if(l1)return er;l1=1;var t=V_();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,er.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},er.flushSync=function(f){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=p,r.d.f()}},er.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},er.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},er.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},er.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},er.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},er.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},er.requestFormReset=function(f){r.d.r(f)},er.unstable_batchedUpdates=function(f,d){return f(d)},er.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},er.useFormStatus=function(){return l.H.useHostTransitionStatus()},er.version="19.1.0",er}var c1;function xC(){if(c1)return Wg.exports;c1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=kD(),Wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function OD(){if(u1)return eu;u1=1;var t=RD(),e=V_(),n=xC();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,h=a;;){var v=u.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===u)return c(v),i;if(_===h)return c(v),a;_=_.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=_;else{for(var O=!1,F=v.child;F;){if(F===u){O=!0,u=v,h=_;break}if(F===h){O=!0,h=v,u=_;break}F=F.sibling}if(!O){for(F=_.child;F;){if(F===u){O=!0,u=_,h=v;break}if(F===h){O=!0,h=_,u=v;break}F=F.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList";case Q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case A:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:ie(i.type)||"Memo";case P:a=i._payload,i=i._init;try{return ie(i(a))}catch{}}return null}var H=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ye=[],R=-1;function Z(i){return{current:i}}function U(i){0>R||(i.current=ye[R],ye[R]=null,R--)}function re(i,a){R++,ye[R]=i.current,i.current=a}var ve=Z(null),X=Z(null),Ae=Z(null),J=Z(null);function K(i,a){switch(re(Ae,a),re(X,i),re(ve,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?kE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=kE(a),i=OE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(ve),re(ve,i)}function be(){U(ve),U(X),U(Ae)}function ue(i){i.memoizedState!==null&&re(J,i);var a=ve.current,u=OE(a,i.type);a!==u&&(re(X,i),re(ve,u))}function fe(i){X.current===i&&(U(ve),U(X)),J.current===i&&(U(J),Yc._currentValue=q)}var pe=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Ie=t.unstable_cancelCallback,ce=t.unstable_shouldYield,me=t.unstable_requestPaint,we=t.unstable_now,De=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,$=t.unstable_UserBlockingPriority,B=t.unstable_NormalPriority,oe=t.unstable_LowPriority,Te=t.unstable_IdlePriority,ge=t.log,Me=t.unstable_setDisableYieldValue,b=null,S=null;function x(i){if(typeof ge=="function"&&Me(i),S&&typeof S.setStrictMode=="function")try{S.setStrictMode(b,i)}catch{}}var j=Math.clz32?Math.clz32:Se,te=Math.log,he=Math.LN2;function Se(i){return i>>>=0,i===0?32:31-(te(i)/he|0)|0}var qe=256,$e=4194304;function Je(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lt(i,a,u){var h=i.pendingLanes;if(h===0)return 0;var v=0,_=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var F=h&134217727;return F!==0?(h=F&~_,h!==0?v=Je(h):(O&=F,O!==0?v=Je(O):u||(u=F&~i,u!==0&&(v=Je(u))))):(F=h&~_,F!==0?v=Je(F):O!==0?v=Je(O):u||(u=h&~i,u!==0&&(v=Je(u)))),v===0?0:a!==0&&a!==v&&(a&_)===0&&(_=v&-v,u=a&-a,_>=u||_===32&&(u&4194048)!==0)?a:v}function ot(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function In(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var i=qe;return qe<<=1,(qe&4194048)===0&&(qe=256),i}function Un(){var i=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),i}function Ft(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Xt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ct(i,a,u,h,v,_){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var F=i.entanglements,de=i.expirationTimes,Ce=i.hiddenUpdates;for(u=O&~u;0<u;){var Le=31-j(u),Be=1<<Le;F[Le]=0,de[Le]=-1;var Re=Ce[Le];if(Re!==null)for(Ce[Le]=null,Le=0;Le<Re.length;Le++){var Oe=Re[Le];Oe!==null&&(Oe.lane&=-536870913)}u&=~Be}h!==0&&Ze(i,h,0),_!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=_&~(O&~a))}function Ze(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-j(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194090}function St(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var h=31-j(u),v=1<<h;v&a|i[h]&a&&(i[h]|=a),u&=~v}}function _t(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function It(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xn(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:KE(i.type))}function Y(i,a){var u=G.p;try{return G.p=i,a()}finally{G.p=u}}var ee=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ee,We="__reactProps$"+ee,Ke="__reactContainer$"+ee,pn="__reactEvents$"+ee,yn="__reactListeners$"+ee,hi="__reactHandles$"+ee,oc="__reactResources$"+ee,Io="__reactMarker$"+ee;function Aa(i){delete i[Ue],delete i[We],delete i[pn],delete i[yn],delete i[hi]}function Li(i){var a=i[Ue];if(a)return a;for(var u=i.parentNode;u;){if(a=u[Ke]||u[Ue]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=DE(i);i!==null;){if(u=i[Ue])return u;i=DE(i)}return a}i=u,u=i.parentNode}return null}function pi(i){if(i=i[Ue]||i[Ke]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ji(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function mi(i){var a=i[oc];return a||(a=i[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function cn(i){i[Io]=!0}var gi=new Set,Dr={};function No(i,a){Ra(i,a),Ra(i+"Capture",a)}function Ra(i,a){for(Dr[i]=a,i=0;i<a.length;i++)gi.add(a[i])}var h2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b0={},w0={};function p2(i){return pe.call(w0,i)?!0:pe.call(b0,i)?!1:h2.test(i)?w0[i]=!0:(b0[i]=!0,!1)}function uf(i,a,u){if(p2(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function ff(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function Ui(i,a,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+h)}}var Np,S0;function ka(i){if(Np===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Np=a&&a[1]||"",S0=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Np+i+S0}var Mp=!1;function Dp(i,a){if(!i||Mp)return"";Mp=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Oe){var Re=Oe}Reflect.construct(i,[],Be)}else{try{Be.call()}catch(Oe){Re=Oe}i.call(Be.prototype)}}else{try{throw Error()}catch(Oe){Re=Oe}(Be=i())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Oe){if(Oe&&Re&&typeof Oe.stack=="string")return[Oe.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),O=_[0],F=_[1];if(O&&F){var de=O.split(`
`),Ce=F.split(`
`);for(v=h=0;h<de.length&&!de[h].includes("DetermineComponentFrameRoot");)h++;for(;v<Ce.length&&!Ce[v].includes("DetermineComponentFrameRoot");)v++;if(h===de.length||v===Ce.length)for(h=de.length-1,v=Ce.length-1;1<=h&&0<=v&&de[h]!==Ce[v];)v--;for(;1<=h&&0<=v;h--,v--)if(de[h]!==Ce[v]){if(h!==1||v!==1)do if(h--,v--,0>v||de[h]!==Ce[v]){var Le=`
`+de[h].replace(" at new "," at ");return i.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",i.displayName)),Le}while(1<=h&&0<=v);break}}}finally{Mp=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ka(u):""}function m2(i){switch(i.tag){case 26:case 27:case 5:return ka(i.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 15:return Dp(i.type,!1);case 11:return Dp(i.type.render,!1);case 1:return Dp(i.type,!0);case 31:return ka("Activity");default:return""}}function E0(i){try{var a="";do a+=m2(i),i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Pr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function T0(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function g2(i){var a=T0(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,_=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(O){h=""+O,_.call(this,O)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function df(i){i._valueTracker||(i._valueTracker=g2(i))}function x0(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return i&&(h=T0(i)?i.checked?"true":"false":i.value),i=h,i!==u?(a.setValue(i),!0):!1}function hf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var v2=/[\n"\\]/g;function Lr(i){return i.replace(v2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pp(i,a,u,h,v,_,O,F){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),a!=null?O==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Pr(a)):i.value!==""+Pr(a)&&(i.value=""+Pr(a)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),a!=null?Lp(i,O,Pr(a)):u!=null?Lp(i,O,Pr(u)):h!=null&&i.removeAttribute("value"),v==null&&_!=null&&(i.defaultChecked=!!_),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+Pr(F):i.removeAttribute("name")}function C0(i,a,u,h,v,_,O,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),a!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;u=u!=null?""+Pr(u):"",a=a!=null?""+Pr(a):u,F||a===i.value||(i.value=a),i.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=F?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O)}function Lp(i,a,u){a==="number"&&hf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Oa(i,a,u,h){if(i=i.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=a.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Pr(u),a=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,h&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function A0(i,a,u){if(a!=null&&(a=""+Pr(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+Pr(u):""}function R0(i,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(H(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=Pr(a),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function Ia(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var y2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k0(i,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,u):typeof u!="number"||u===0||y2.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function O0(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&u[v]!==h&&k0(i,v,h)}else for(var _ in a)a.hasOwnProperty(_)&&k0(i,_,a[_])}function jp(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pf(i){return b2.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Up=null;function Bp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Na=null,Ma=null;function I0(i){var a=pi(i);if(a&&(i=a.stateNode)){var u=i[We]||null;e:switch(i=a.stateNode,a.type){case"input":if(Pp(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Lr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==i&&h.form===i.form){var v=h[We]||null;if(!v)throw Error(r(90));Pp(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===i.form&&x0(h)}break e;case"textarea":A0(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Oa(i,!!u.multiple,a,!1)}}}var zp=!1;function N0(i,a,u){if(zp)return i(a,u);zp=!0;try{var h=i(a);return h}finally{if(zp=!1,(Na!==null||Ma!==null)&&(Jf(),Na&&(a=Na,i=Ma,Ma=Na=null,I0(a),i)))for(a=0;a<i.length;a++)I0(i[a])}}function ac(i,a){var u=i.stateNode;if(u===null)return null;var h=u[We]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=!1;if(Bi)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Fp=!1}var xs=null,Vp=null,mf=null;function M0(){if(mf)return mf;var i,a=Vp,u=a.length,h,v="value"in xs?xs.value:xs.textContent,_=v.length;for(i=0;i<u&&a[i]===v[i];i++);var O=u-i;for(h=1;h<=O&&a[u-h]===v[_-h];h++);return mf=v.slice(i,1<h?1-h:void 0)}function gf(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function vf(){return!0}function D0(){return!1}function cr(i){function a(u,h,v,_,O){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vf:D0,this.isPropagationStopped=D0,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),a}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=cr(Mo),cc=p({},Mo,{view:0,detail:0}),w2=cr(cc),Hp,Wp,uc,_f=p({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==uc&&(uc&&i.type==="mousemove"?(Hp=i.screenX-uc.screenX,Wp=i.screenY-uc.screenY):Wp=Hp=0,uc=i),Hp)},movementY:function(i){return"movementY"in i?i.movementY:Wp}}),P0=cr(_f),S2=p({},_f,{dataTransfer:0}),E2=cr(S2),T2=p({},cc,{relatedTarget:0}),qp=cr(T2),x2=p({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=cr(x2),A2=p({},Mo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),R2=cr(A2),k2=p({},Mo,{data:0}),L0=cr(k2),O2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M2(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=N2[i])?!!a[i]:!1}function $p(){return M2}var D2=p({},cc,{key:function(i){if(i.key){var a=O2[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=gf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?I2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(i){return i.type==="keypress"?gf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),P2=cr(D2),L2=p({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=cr(L2),j2=p({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),U2=cr(j2),B2=p({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),z2=cr(B2),F2=p({},_f,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),V2=cr(F2),H2=p({},Mo,{newState:0,oldState:0}),W2=cr(H2),q2=[9,13,27,32],Gp=Bi&&"CompositionEvent"in window,fc=null;Bi&&"documentMode"in document&&(fc=document.documentMode);var $2=Bi&&"TextEvent"in window&&!fc,U0=Bi&&(!Gp||fc&&8<fc&&11>=fc),B0=" ",z0=!1;function F0(i,a){switch(i){case"keyup":return q2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Da=!1;function G2(i,a){switch(i){case"compositionend":return V0(a);case"keypress":return a.which!==32?null:(z0=!0,B0);case"textInput":return i=a.data,i===B0&&z0?null:i;default:return null}}function Y2(i,a){if(Da)return i==="compositionend"||!Gp&&F0(i,a)?(i=M0(),mf=Vp=xs=null,Da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return U0&&a.locale!=="ko"?null:a.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!K2[i.type]:a==="textarea"}function W0(i,a,u,h){Na?Ma?Ma.push(h):Ma=[h]:Na=h,a=sd(a,"onChange"),0<a.length&&(u=new yf("onChange","change",null,u,h),i.push({event:u,listeners:a}))}var dc=null,hc=null;function Q2(i){TE(i,0)}function bf(i){var a=ji(i);if(x0(a))return i}function q0(i,a){if(i==="change")return a}var $0=!1;if(Bi){var Yp;if(Bi){var Kp="oninput"in document;if(!Kp){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Kp=typeof G0.oninput=="function"}Yp=Kp}else Yp=!1;$0=Yp&&(!document.documentMode||9<document.documentMode)}function Y0(){dc&&(dc.detachEvent("onpropertychange",K0),hc=dc=null)}function K0(i){if(i.propertyName==="value"&&bf(hc)){var a=[];W0(a,hc,i,Bp(i)),N0(Q2,a)}}function Z2(i,a,u){i==="focusin"?(Y0(),dc=a,hc=u,dc.attachEvent("onpropertychange",K0)):i==="focusout"&&Y0()}function X2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bf(hc)}function J2(i,a){if(i==="click")return bf(a)}function eM(i,a){if(i==="input"||i==="change")return bf(a)}function tM(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Sr=typeof Object.is=="function"?Object.is:tM;function pc(i,a){if(Sr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!pe.call(a,v)||!Sr(i[v],a[v]))return!1}return!0}function Q0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Z0(i,a){var u=Q0(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=a&&h>=a)return{node:u,offset:a-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Q0(u)}}function X0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?X0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function J0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=hf(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=hf(i.document)}return a}function Qp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var nM=Bi&&"documentMode"in document&&11>=document.documentMode,Pa=null,Zp=null,mc=null,Xp=!1;function ew(i,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xp||Pa==null||Pa!==hf(h)||(h=Pa,"selectionStart"in h&&Qp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),mc&&pc(mc,h)||(mc=h,h=sd(Zp,"onSelect"),0<h.length&&(a=new yf("onSelect","select",null,a,u),i.push({event:a,listeners:h}),a.target=Pa)))}function Do(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var La={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},Jp={},tw={};Bi&&(tw=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Po(i){if(Jp[i])return Jp[i];if(!La[i])return i;var a=La[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in tw)return Jp[i]=a[u];return i}var nw=Po("animationend"),rw=Po("animationiteration"),iw=Po("animationstart"),rM=Po("transitionrun"),iM=Po("transitionstart"),sM=Po("transitioncancel"),sw=Po("transitionend"),ow=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function Gr(i,a){ow.set(i,a),No(a,[i])}var aw=new WeakMap;function jr(i,a){if(typeof i=="object"&&i!==null){var u=aw.get(i);return u!==void 0?u:(a={value:i,source:a,stack:E0(a)},aw.set(i,a),a)}return{value:i,source:a,stack:E0(a)}}var Ur=[],ja=0,tm=0;function wf(){for(var i=ja,a=tm=ja=0;a<i;){var u=Ur[a];Ur[a++]=null;var h=Ur[a];Ur[a++]=null;var v=Ur[a];Ur[a++]=null;var _=Ur[a];if(Ur[a++]=null,h!==null&&v!==null){var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}_!==0&&lw(u,v,_)}}function Sf(i,a,u,h){Ur[ja++]=i,Ur[ja++]=a,Ur[ja++]=u,Ur[ja++]=h,tm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function nm(i,a,u,h){return Sf(i,a,u,h),Ef(i)}function Ua(i,a){return Sf(i,null,null,a),Ef(i)}function lw(i,a,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var v=!1,_=i.return;_!==null;)_.childLanes|=u,h=_.alternate,h!==null&&(h.childLanes|=u),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(v=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,v&&a!==null&&(v=31-j(u),i=_.hiddenUpdates,h=i[v],h===null?i[v]=[a]:h.push(a),a.lane=u|536870912),_):null}function Ef(i){if(50<zc)throw zc=0,lg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ba={};function oM(i,a,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,a,u,h){return new oM(i,a,u,h)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zi(i,a){var u=i.alternate;return u===null?(u=Er(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function cw(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Tf(i,a,u,h,v,_){var O=0;if(h=i,typeof i=="function")rm(i)&&(O=1);else if(typeof i=="string")O=lD(i,u,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Q:return i=Er(31,u,a,v),i.elementType=Q,i.lanes=_,i;case w:return Lo(u.children,v,_,a);case E:O=8,v|=24;break;case C:return i=Er(12,u,a,v|2),i.elementType=C,i.lanes=_,i;case N:return i=Er(13,u,a,v),i.elementType=N,i.lanes=_,i;case M:return i=Er(19,u,a,v),i.elementType=M,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case A:O=10;break e;case T:O=9;break e;case z:O=11;break e;case I:O=14;break e;case P:O=16,h=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Er(O,u,a,v),a.elementType=i,a.type=h,a.lanes=_,a}function Lo(i,a,u,h){return i=Er(7,i,h,a),i.lanes=u,i}function im(i,a,u){return i=Er(6,i,null,a),i.lanes=u,i}function sm(i,a,u){return a=Er(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var za=[],Fa=0,xf=null,Cf=0,Br=[],zr=0,jo=null,Fi=1,Vi="";function Uo(i,a){za[Fa++]=Cf,za[Fa++]=xf,xf=i,Cf=a}function uw(i,a,u){Br[zr++]=Fi,Br[zr++]=Vi,Br[zr++]=jo,jo=i;var h=Fi;i=Vi;var v=32-j(h)-1;h&=~(1<<v),u+=1;var _=32-j(a)+v;if(30<_){var O=v-v%5;_=(h&(1<<O)-1).toString(32),h>>=O,v-=O,Fi=1<<32-j(a)+v|u<<v|h,Vi=_+i}else Fi=1<<_|u<<v|h,Vi=i}function om(i){i.return!==null&&(Uo(i,1),uw(i,1,0))}function am(i){for(;i===xf;)xf=za[--Fa],za[Fa]=null,Cf=za[--Fa],za[Fa]=null;for(;i===jo;)jo=Br[--zr],Br[zr]=null,Vi=Br[--zr],Br[zr]=null,Fi=Br[--zr],Br[zr]=null}var rr=null,_n=null,zt=!1,Bo=null,vi=!1,lm=Error(r(519));function zo(i){var a=Error(r(418,""));throw yc(jr(a,i)),lm}function fw(i){var a=i.stateNode,u=i.type,h=i.memoizedProps;switch(a[Ue]=i,a[We]=h,u){case"dialog":At("cancel",a),At("close",a);break;case"iframe":case"object":case"embed":At("load",a);break;case"video":case"audio":for(u=0;u<Vc.length;u++)At(Vc[u],a);break;case"source":At("error",a);break;case"img":case"image":case"link":At("error",a),At("load",a);break;case"details":At("toggle",a);break;case"input":At("invalid",a),C0(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),df(a);break;case"select":At("invalid",a);break;case"textarea":At("invalid",a),R0(a,h.value,h.defaultValue,h.children),df(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||RE(a.textContent,u)?(h.popover!=null&&(At("beforetoggle",a),At("toggle",a)),h.onScroll!=null&&At("scroll",a),h.onScrollEnd!=null&&At("scrollend",a),h.onClick!=null&&(a.onclick=od),a=!0):a=!1,a||zo(i)}function dw(i){for(rr=i.return;rr;)switch(rr.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:rr=rr.return}}function gc(i){if(i!==rr)return!1;if(!zt)return dw(i),zt=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Tg(i.type,i.memoizedProps)),u=!u),u&&_n&&zo(i),dw(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(a===0){_n=Kr(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;i=i.nextSibling}_n=null}}else a===27?(a=_n,Fs(i.type)?(i=Rg,Rg=null,_n=i):_n=a):_n=rr?Kr(i.stateNode.nextSibling):null;return!0}function vc(){_n=rr=null,zt=!1}function hw(){var i=Bo;return i!==null&&(dr===null?dr=i:dr.push.apply(dr,i),Bo=null),i}function yc(i){Bo===null?Bo=[i]:Bo.push(i)}var cm=Z(null),Fo=null,Hi=null;function Cs(i,a,u){re(cm,a._currentValue),a._currentValue=u}function Wi(i){i._currentValue=cm.current,U(cm)}function um(i,a,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===u)break;i=i.return}}function fm(i,a,u,h){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var _=v.dependencies;if(_!==null){var O=v.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=v;for(var de=0;de<a.length;de++)if(F.context===a[de]){_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),um(_.return,u,i),h||(O=null);break e}_=F.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(r(341));O.lanes|=u,_=O.alternate,_!==null&&(_.lanes|=u),um(O,u,i),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===i){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function _c(i,a,u,h){i=null;for(var v=a,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var F=v.type;Sr(v.pendingProps.value,O.value)||(i!==null?i.push(F):i=[F])}}else if(v===J.current){if(O=v.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Yc):i=[Yc])}v=v.return}i!==null&&fm(a,i,u,h),a.flags|=262144}function Af(i){for(i=i.firstContext;i!==null;){if(!Sr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vo(i){Fo=i,Hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jn(i){return pw(Fo,i)}function Rf(i,a){return Fo===null&&Vo(i),pw(i,a)}function pw(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Hi===null){if(i===null)throw Error(r(308));Hi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Hi=Hi.next=a;return u}var aM=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},lM=t.unstable_scheduleCallback,cM=t.unstable_NormalPriority,Nn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new aM,data:new Map,refCount:0}}function bc(i){i.refCount--,i.refCount===0&&lM(cM,function(){i.controller.abort()})}var wc=null,hm=0,Va=0,Ha=null;function uM(i,a){if(wc===null){var u=wc=[];hm=0,Va=mg(),Ha={status:"pending",value:void 0,then:function(h){u.push(h)}}}return hm++,a.then(mw,mw),a}function mw(){if(--hm===0&&wc!==null){Ha!==null&&(Ha.status="fulfilled");var i=wc;wc=null,Va=0,Ha=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function fM(i,a){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var gw=D.S;D.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&uM(i,a),gw!==null&&gw(i,a)};var Ho=Z(null);function pm(){var i=Ho.current;return i!==null?i:sn.pooledCache}function kf(i,a){a===null?re(Ho,Ho.current):re(Ho,a.pool)}function vw(){var i=pm();return i===null?null:{parent:Nn._currentValue,pool:i}}var Sc=Error(r(460)),yw=Error(r(474)),Of=Error(r(542)),mm={then:function(){}};function _w(i){return i=i.status,i==="fulfilled"||i==="rejected"}function If(){}function bw(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(If,If),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Sw(i),i;default:if(typeof a.status=="string")a.then(If,If);else{if(i=sn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Sw(i),i}throw Ec=a,Sc}}var Ec=null;function ww(){if(Ec===null)throw Error(r(459));var i=Ec;return Ec=null,i}function Sw(i){if(i===Sc||i===Of)throw Error(r(483))}var As=!1;function gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ks(i,a,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ht&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=Ef(i),lw(i,null,u),a}return Sf(i,h,a,u),Ef(i)}function Tc(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,St(i,u)}}function ym(i,a){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?v=_=O:_=_.next=O,u=u.next}while(u!==null);_===null?v=_=a:_=_.next=a}else v=_=a;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var _m=!1;function xc(){if(_m){var i=Ha;if(i!==null)throw i}}function Cc(i,a,u,h){_m=!1;var v=i.updateQueue;As=!1;var _=v.firstBaseUpdate,O=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var de=F,Ce=de.next;de.next=null,O===null?_=Ce:O.next=Ce,O=de;var Le=i.alternate;Le!==null&&(Le=Le.updateQueue,F=Le.lastBaseUpdate,F!==O&&(F===null?Le.firstBaseUpdate=Ce:F.next=Ce,Le.lastBaseUpdate=de))}if(_!==null){var Be=v.baseState;O=0,Le=Ce=de=null,F=_;do{var Re=F.lane&-536870913,Oe=Re!==F.lane;if(Oe?(Ot&Re)===Re:(h&Re)===Re){Re!==0&&Re===Va&&(_m=!0),Le!==null&&(Le=Le.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var mt=i,ut=F;Re=a;var Gt=u;switch(ut.tag){case 1:if(mt=ut.payload,typeof mt=="function"){Be=mt.call(Gt,Be,Re);break e}Be=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ut.payload,Re=typeof mt=="function"?mt.call(Gt,Be,Re):mt,Re==null)break e;Be=p({},Be,Re);break e;case 2:As=!0}}Re=F.callback,Re!==null&&(i.flags|=64,Oe&&(i.flags|=8192),Oe=v.callbacks,Oe===null?v.callbacks=[Re]:Oe.push(Re))}else Oe={lane:Re,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Le===null?(Ce=Le=Oe,de=Be):Le=Le.next=Oe,O|=Re;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;Oe=F,F=Oe.next,Oe.next=null,v.lastBaseUpdate=Oe,v.shared.pending=null}}while(!0);Le===null&&(de=Be),v.baseState=de,v.firstBaseUpdate=Ce,v.lastBaseUpdate=Le,_===null&&(v.shared.lanes=0),js|=O,i.lanes=O,i.memoizedState=Be}}function Ew(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Tw(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Ew(u[i],a)}var Wa=Z(null),Nf=Z(0);function xw(i,a){i=Zi,re(Nf,i),re(Wa,a),Zi=i|a.baseLanes}function bm(){re(Nf,Zi),re(Wa,Wa.current)}function wm(){Zi=Nf.current,U(Wa),U(Nf)}var Os=0,bt=null,qt=null,An=null,Mf=!1,qa=!1,Wo=!1,Df=0,Ac=0,$a=null,dM=0;function En(){throw Error(r(321))}function Sm(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Sr(i[u],a[u]))return!1;return!0}function Em(i,a,u,h,v,_){return Os=_,bt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,D.H=i===null||i.memoizedState===null?lS:cS,Wo=!1,_=u(h,v),Wo=!1,qa&&(_=Aw(a,u,h,v)),Cw(i),_}function Cw(i){D.H=zf;var a=qt!==null&&qt.next!==null;if(Os=0,An=qt=bt=null,Mf=!1,Ac=0,$a=null,a)throw Error(r(300));i===null||Bn||(i=i.dependencies,i!==null&&Af(i)&&(Bn=!0))}function Aw(i,a,u,h){bt=i;var v=0;do{if(qa&&($a=null),Ac=0,qa=!1,25<=v)throw Error(r(301));if(v+=1,An=qt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}D.H=_M,_=a(u,h)}while(qa);return _}function hM(){var i=D.H,a=i.useState()[0];return a=typeof a.then=="function"?Rc(a):a,i=i.useState()[0],(qt!==null?qt.memoizedState:null)!==i&&(bt.flags|=1024),a}function Tm(){var i=Df!==0;return Df=0,i}function xm(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function Cm(i){if(Mf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Mf=!1}Os=0,An=qt=bt=null,qa=!1,Ac=Df=0,$a=null}function ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?bt.memoizedState=An=i:An=An.next=i,An}function Rn(){if(qt===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=qt.next;var a=An===null?bt.memoizedState:An.next;if(a!==null)An=a,qt=i;else{if(i===null)throw bt.alternate===null?Error(r(467)):Error(r(310));qt=i,i={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},An===null?bt.memoizedState=An=i:An=An.next=i}return An}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(i){var a=Ac;return Ac+=1,$a===null&&($a=[]),i=bw($a,i,a),a=bt,(An===null?a.memoizedState:An.next)===null&&(a=a.alternate,D.H=a===null||a.memoizedState===null?lS:cS),i}function Pf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Rc(i);if(i.$$typeof===A)return Jn(i)}throw Error(r(438,String(i)))}function Rm(i){var a=null,u=bt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=bt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Am(),bt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),h=0;h<i;h++)u[h]=ne;return a.index++,u}function qi(i,a){return typeof a=="function"?a(i):a}function Lf(i){var a=Rn();return km(a,qt,i)}function km(i,a,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=i.baseQueue,_=h.pending;if(_!==null){if(v!==null){var O=v.next;v.next=_.next,_.next=O}a.baseQueue=v=_,h.pending=null}if(_=i.baseState,v===null)i.memoizedState=_;else{a=v.next;var F=O=null,de=null,Ce=a,Le=!1;do{var Be=Ce.lane&-536870913;if(Be!==Ce.lane?(Ot&Be)===Be:(Os&Be)===Be){var Re=Ce.revertLane;if(Re===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Be===Va&&(Le=!0);else if((Os&Re)===Re){Ce=Ce.next,Re===Va&&(Le=!0);continue}else Be={lane:0,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},de===null?(F=de=Be,O=_):de=de.next=Be,bt.lanes|=Re,js|=Re;Be=Ce.action,Wo&&u(_,Be),_=Ce.hasEagerState?Ce.eagerState:u(_,Be)}else Re={lane:Be,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},de===null?(F=de=Re,O=_):de=de.next=Re,bt.lanes|=Be,js|=Be;Ce=Ce.next}while(Ce!==null&&Ce!==a);if(de===null?O=_:de.next=F,!Sr(_,i.memoizedState)&&(Bn=!0,Le&&(u=Ha,u!==null)))throw u;i.memoizedState=_,i.baseState=O,i.baseQueue=de,h.lastRenderedState=_}return v===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Om(i){var a=Rn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,v=u.pending,_=a.memoizedState;if(v!==null){u.pending=null;var O=v=v.next;do _=i(_,O.action),O=O.next;while(O!==v);Sr(_,a.memoizedState)||(Bn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,h]}function Rw(i,a,u){var h=bt,v=Rn(),_=zt;if(_){if(u===void 0)throw Error(r(407));u=u()}else u=a();var O=!Sr((qt||v).memoizedState,u);O&&(v.memoizedState=u,Bn=!0),v=v.queue;var F=Iw.bind(null,h,v,i);if(kc(2048,8,F,[i]),v.getSnapshot!==a||O||An!==null&&An.memoizedState.tag&1){if(h.flags|=2048,Ga(9,jf(),Ow.bind(null,h,v,u,a),null),sn===null)throw Error(r(349));_||(Os&124)!==0||kw(h,a,u)}return u}function kw(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=bt.updateQueue,a===null?(a=Am(),bt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Ow(i,a,u,h){a.value=u,a.getSnapshot=h,Nw(a)&&Mw(i)}function Iw(i,a,u){return u(function(){Nw(a)&&Mw(i)})}function Nw(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Sr(i,u)}catch{return!0}}function Mw(i){var a=Ua(i,2);a!==null&&Rr(a,i,2)}function Im(i){var a=ur();if(typeof i=="function"){var u=i;if(i=u(),Wo){x(!0);try{u()}finally{x(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:i},a}function Dw(i,a,u,h){return i.baseState=u,km(i,qt,typeof h=="function"?h:qi)}function pM(i,a,u,h,v){if(Bf(i))throw Error(r(485));if(i=a.action,i!==null){var _={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};D.T!==null?u(!0):_.isTransition=!1,h(_),u=a.pending,u===null?(_.next=a.pending=_,Pw(a,_)):(_.next=u.next,a.pending=u.next=_)}}function Pw(i,a){var u=a.action,h=a.payload,v=i.state;if(a.isTransition){var _=D.T,O={};D.T=O;try{var F=u(v,h),de=D.S;de!==null&&de(O,F),Lw(i,a,F)}catch(Ce){Nm(i,a,Ce)}finally{D.T=_}}else try{_=u(v,h),Lw(i,a,_)}catch(Ce){Nm(i,a,Ce)}}function Lw(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){jw(i,a,h)},function(h){return Nm(i,a,h)}):jw(i,a,u)}function jw(i,a,u){a.status="fulfilled",a.value=u,Uw(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,Pw(i,u)))}function Nm(i,a,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,Uw(a),a=a.next;while(a!==h)}i.action=null}function Uw(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Bw(i,a){return a}function zw(i,a){if(zt){var u=sn.formState;if(u!==null){e:{var h=bt;if(zt){if(_n){t:{for(var v=_n,_=vi;v.nodeType!==8;){if(!_){v=null;break t}if(v=Kr(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){_n=Kr(v.nextSibling),h=v.data==="F!";break e}}zo(h)}h=!1}h&&(a=u[0])}}return u=ur(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bw,lastRenderedState:a},u.queue=h,u=sS.bind(null,bt,h),h.dispatch=u,h=Im(!1),_=jm.bind(null,bt,!1,h.queue),h=ur(),v={state:a,dispatch:null,action:i,pending:null},h.queue=v,u=pM.bind(null,bt,v,_,u),v.dispatch=u,h.memoizedState=i,[a,u,!1]}function Fw(i){var a=Rn();return Vw(a,qt,i)}function Vw(i,a,u){if(a=km(i,a,Bw)[0],i=Lf(qi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Rc(a)}catch(O){throw O===Sc?Of:O}else h=a;a=Rn();var v=a.queue,_=v.dispatch;return u!==a.memoizedState&&(bt.flags|=2048,Ga(9,jf(),mM.bind(null,v,u),null)),[h,_,i]}function mM(i,a){i.action=a}function Hw(i){var a=Rn(),u=qt;if(u!==null)return Vw(a,u,i);Rn(),a=a.memoizedState,u=Rn();var h=u.queue.dispatch;return u.memoizedState=i,[a,h,!1]}function Ga(i,a,u,h){return i={tag:i,create:u,deps:h,inst:a,next:null},a=bt.updateQueue,a===null&&(a=Am(),bt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,a.lastEffect=i),i}function jf(){return{destroy:void 0,resource:void 0}}function Ww(){return Rn().memoizedState}function Uf(i,a,u,h){var v=ur();h=h===void 0?null:h,bt.flags|=i,v.memoizedState=Ga(1|a,jf(),u,h)}function kc(i,a,u,h){var v=Rn();h=h===void 0?null:h;var _=v.memoizedState.inst;qt!==null&&h!==null&&Sm(h,qt.memoizedState.deps)?v.memoizedState=Ga(a,_,u,h):(bt.flags|=i,v.memoizedState=Ga(1|a,_,u,h))}function qw(i,a){Uf(8390656,8,i,a)}function $w(i,a){kc(2048,8,i,a)}function Gw(i,a){return kc(4,2,i,a)}function Yw(i,a){return kc(4,4,i,a)}function Kw(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Qw(i,a,u){u=u!=null?u.concat([i]):null,kc(4,4,Kw.bind(null,a,i),u)}function Mm(){}function Zw(i,a){var u=Rn();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&Sm(a,h[1])?h[0]:(u.memoizedState=[i,a],i)}function Xw(i,a){var u=Rn();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&Sm(a,h[1]))return h[0];if(h=i(),Wo){x(!0);try{i()}finally{x(!1)}}return u.memoizedState=[h,a],h}function Dm(i,a,u){return u===void 0||(Os&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=tE(),bt.lanes|=i,js|=i,u)}function Jw(i,a,u,h){return Sr(u,a)?u:Wa.current!==null?(i=Dm(i,u,h),Sr(i,a)||(Bn=!0),i):(Os&42)===0?(Bn=!0,i.memoizedState=u):(i=tE(),bt.lanes|=i,js|=i,a)}function eS(i,a,u,h,v){var _=G.p;G.p=_!==0&&8>_?_:8;var O=D.T,F={};D.T=F,jm(i,!1,a,u);try{var de=v(),Ce=D.S;if(Ce!==null&&Ce(F,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Le=fM(de,h);Oc(i,a,Le,Ar(i))}else Oc(i,a,h,Ar(i))}catch(Be){Oc(i,a,{then:function(){},status:"rejected",reason:Be},Ar())}finally{G.p=_,D.T=O}}function gM(){}function Pm(i,a,u,h){if(i.tag!==5)throw Error(r(476));var v=tS(i).queue;eS(i,v,a,q,u===null?gM:function(){return nS(i),u(h)})}function tS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:q},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function nS(i){var a=tS(i).next.queue;Oc(i,a,{},Ar())}function Lm(){return Jn(Yc)}function rS(){return Rn().memoizedState}function iS(){return Rn().memoizedState}function vM(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Ar();i=Rs(u);var h=ks(a,i,u);h!==null&&(Rr(h,a,u),Tc(h,a,u)),a={cache:dm()},i.payload=a;return}a=a.return}}function yM(i,a,u){var h=Ar();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bf(i)?oS(a,u):(u=nm(i,a,u,h),u!==null&&(Rr(u,i,h),aS(u,a,h)))}function sS(i,a,u){var h=Ar();Oc(i,a,u,h)}function Oc(i,a,u,h){var v={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bf(i))oS(a,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var O=a.lastRenderedState,F=_(O,u);if(v.hasEagerState=!0,v.eagerState=F,Sr(F,O))return Sf(i,a,v,0),sn===null&&wf(),!1}catch{}finally{}if(u=nm(i,a,v,h),u!==null)return Rr(u,i,h),aS(u,a,h),!0}return!1}function jm(i,a,u,h){if(h={lane:2,revertLane:mg(),action:h,hasEagerState:!1,eagerState:null,next:null},Bf(i)){if(a)throw Error(r(479))}else a=nm(i,u,h,2),a!==null&&Rr(a,i,2)}function Bf(i){var a=i.alternate;return i===bt||a!==null&&a===bt}function oS(i,a){qa=Mf=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function aS(i,a,u){if((u&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,St(i,u)}}var zf={readContext:Jn,use:Pf,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},lS={readContext:Jn,use:Pf,useCallback:function(i,a){return ur().memoizedState=[i,a===void 0?null:a],i},useContext:Jn,useEffect:qw,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,Uf(4194308,4,Kw.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Uf(4194308,4,i,a)},useInsertionEffect:function(i,a){Uf(4,2,i,a)},useMemo:function(i,a){var u=ur();a=a===void 0?null:a;var h=i();if(Wo){x(!0);try{i()}finally{x(!1)}}return u.memoizedState=[h,a],h},useReducer:function(i,a,u){var h=ur();if(u!==void 0){var v=u(a);if(Wo){x(!0);try{u(a)}finally{x(!1)}}}else v=a;return h.memoizedState=h.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},h.queue=i,i=i.dispatch=yM.bind(null,bt,i),[h.memoizedState,i]},useRef:function(i){var a=ur();return i={current:i},a.memoizedState=i},useState:function(i){i=Im(i);var a=i.queue,u=sS.bind(null,bt,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:Mm,useDeferredValue:function(i,a){var u=ur();return Dm(u,i,a)},useTransition:function(){var i=Im(!1);return i=eS.bind(null,bt,i.queue,!0,!1),ur().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var h=bt,v=ur();if(zt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),sn===null)throw Error(r(349));(Ot&124)!==0||kw(h,a,u)}v.memoizedState=u;var _={value:u,getSnapshot:a};return v.queue=_,qw(Iw.bind(null,h,_,i),[i]),h.flags|=2048,Ga(9,jf(),Ow.bind(null,h,_,u,a),null),u},useId:function(){var i=ur(),a=sn.identifierPrefix;if(zt){var u=Vi,h=Fi;u=(h&~(1<<32-j(h)-1)).toString(32)+u,a=""+a+"R"+u,u=Df++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=dM++,a=""+a+"r"+u.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Lm,useFormState:zw,useActionState:zw,useOptimistic:function(i){var a=ur();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=jm.bind(null,bt,!0,u),u.dispatch=a,[i,a]},useMemoCache:Rm,useCacheRefresh:function(){return ur().memoizedState=vM.bind(null,bt)}},cS={readContext:Jn,use:Pf,useCallback:Zw,useContext:Jn,useEffect:$w,useImperativeHandle:Qw,useInsertionEffect:Gw,useLayoutEffect:Yw,useMemo:Xw,useReducer:Lf,useRef:Ww,useState:function(){return Lf(qi)},useDebugValue:Mm,useDeferredValue:function(i,a){var u=Rn();return Jw(u,qt.memoizedState,i,a)},useTransition:function(){var i=Lf(qi)[0],a=Rn().memoizedState;return[typeof i=="boolean"?i:Rc(i),a]},useSyncExternalStore:Rw,useId:rS,useHostTransitionStatus:Lm,useFormState:Fw,useActionState:Fw,useOptimistic:function(i,a){var u=Rn();return Dw(u,qt,i,a)},useMemoCache:Rm,useCacheRefresh:iS},_M={readContext:Jn,use:Pf,useCallback:Zw,useContext:Jn,useEffect:$w,useImperativeHandle:Qw,useInsertionEffect:Gw,useLayoutEffect:Yw,useMemo:Xw,useReducer:Om,useRef:Ww,useState:function(){return Om(qi)},useDebugValue:Mm,useDeferredValue:function(i,a){var u=Rn();return qt===null?Dm(u,i,a):Jw(u,qt.memoizedState,i,a)},useTransition:function(){var i=Om(qi)[0],a=Rn().memoizedState;return[typeof i=="boolean"?i:Rc(i),a]},useSyncExternalStore:Rw,useId:rS,useHostTransitionStatus:Lm,useFormState:Hw,useActionState:Hw,useOptimistic:function(i,a){var u=Rn();return qt!==null?Dw(u,qt,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:iS},Ya=null,Ic=0;function Ff(i){var a=Ic;return Ic+=1,Ya===null&&(Ya=[]),bw(Ya,i,a)}function Nc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Vf(i,a){throw a.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function uS(i){var a=i._init;return a(i._payload)}function fS(i){function a(Ee,_e){if(i){var xe=Ee.deletions;xe===null?(Ee.deletions=[_e],Ee.flags|=16):xe.push(_e)}}function u(Ee,_e){if(!i)return null;for(;_e!==null;)a(Ee,_e),_e=_e.sibling;return null}function h(Ee){for(var _e=new Map;Ee!==null;)Ee.key!==null?_e.set(Ee.key,Ee):_e.set(Ee.index,Ee),Ee=Ee.sibling;return _e}function v(Ee,_e){return Ee=zi(Ee,_e),Ee.index=0,Ee.sibling=null,Ee}function _(Ee,_e,xe){return Ee.index=xe,i?(xe=Ee.alternate,xe!==null?(xe=xe.index,xe<_e?(Ee.flags|=67108866,_e):xe):(Ee.flags|=67108866,_e)):(Ee.flags|=1048576,_e)}function O(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function F(Ee,_e,xe,je){return _e===null||_e.tag!==6?(_e=im(xe,Ee.mode,je),_e.return=Ee,_e):(_e=v(_e,xe),_e.return=Ee,_e)}function de(Ee,_e,xe,je){var tt=xe.type;return tt===w?Le(Ee,_e,xe.props.children,je,xe.key):_e!==null&&(_e.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&uS(tt)===_e.type)?(_e=v(_e,xe.props),Nc(_e,xe),_e.return=Ee,_e):(_e=Tf(xe.type,xe.key,xe.props,null,Ee.mode,je),Nc(_e,xe),_e.return=Ee,_e)}function Ce(Ee,_e,xe,je){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==xe.containerInfo||_e.stateNode.implementation!==xe.implementation?(_e=sm(xe,Ee.mode,je),_e.return=Ee,_e):(_e=v(_e,xe.children||[]),_e.return=Ee,_e)}function Le(Ee,_e,xe,je,tt){return _e===null||_e.tag!==7?(_e=Lo(xe,Ee.mode,je,tt),_e.return=Ee,_e):(_e=v(_e,xe),_e.return=Ee,_e)}function Be(Ee,_e,xe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=im(""+_e,Ee.mode,xe),_e.return=Ee,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case g:return xe=Tf(_e.type,_e.key,_e.props,null,Ee.mode,xe),Nc(xe,_e),xe.return=Ee,xe;case y:return _e=sm(_e,Ee.mode,xe),_e.return=Ee,_e;case P:var je=_e._init;return _e=je(_e._payload),Be(Ee,_e,xe)}if(H(_e)||L(_e))return _e=Lo(_e,Ee.mode,xe,null),_e.return=Ee,_e;if(typeof _e.then=="function")return Be(Ee,Ff(_e),xe);if(_e.$$typeof===A)return Be(Ee,Rf(Ee,_e),xe);Vf(Ee,_e)}return null}function Re(Ee,_e,xe,je){var tt=_e!==null?_e.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return tt!==null?null:F(Ee,_e,""+xe,je);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return xe.key===tt?de(Ee,_e,xe,je):null;case y:return xe.key===tt?Ce(Ee,_e,xe,je):null;case P:return tt=xe._init,xe=tt(xe._payload),Re(Ee,_e,xe,je)}if(H(xe)||L(xe))return tt!==null?null:Le(Ee,_e,xe,je,null);if(typeof xe.then=="function")return Re(Ee,_e,Ff(xe),je);if(xe.$$typeof===A)return Re(Ee,_e,Rf(Ee,xe),je);Vf(Ee,xe)}return null}function Oe(Ee,_e,xe,je,tt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Ee=Ee.get(xe)||null,F(_e,Ee,""+je,tt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case g:return Ee=Ee.get(je.key===null?xe:je.key)||null,de(_e,Ee,je,tt);case y:return Ee=Ee.get(je.key===null?xe:je.key)||null,Ce(_e,Ee,je,tt);case P:var Et=je._init;return je=Et(je._payload),Oe(Ee,_e,xe,je,tt)}if(H(je)||L(je))return Ee=Ee.get(xe)||null,Le(_e,Ee,je,tt,null);if(typeof je.then=="function")return Oe(Ee,_e,xe,Ff(je),tt);if(je.$$typeof===A)return Oe(Ee,_e,xe,Rf(_e,je),tt);Vf(_e,je)}return null}function mt(Ee,_e,xe,je){for(var tt=null,Et=null,at=_e,dt=_e=0,Fn=null;at!==null&&dt<xe.length;dt++){at.index>dt?(Fn=at,at=null):Fn=at.sibling;var Pt=Re(Ee,at,xe[dt],je);if(Pt===null){at===null&&(at=Fn);break}i&&at&&Pt.alternate===null&&a(Ee,at),_e=_(Pt,_e,dt),Et===null?tt=Pt:Et.sibling=Pt,Et=Pt,at=Fn}if(dt===xe.length)return u(Ee,at),zt&&Uo(Ee,dt),tt;if(at===null){for(;dt<xe.length;dt++)at=Be(Ee,xe[dt],je),at!==null&&(_e=_(at,_e,dt),Et===null?tt=at:Et.sibling=at,Et=at);return zt&&Uo(Ee,dt),tt}for(at=h(at);dt<xe.length;dt++)Fn=Oe(at,Ee,dt,xe[dt],je),Fn!==null&&(i&&Fn.alternate!==null&&at.delete(Fn.key===null?dt:Fn.key),_e=_(Fn,_e,dt),Et===null?tt=Fn:Et.sibling=Fn,Et=Fn);return i&&at.forEach(function($s){return a(Ee,$s)}),zt&&Uo(Ee,dt),tt}function ut(Ee,_e,xe,je){if(xe==null)throw Error(r(151));for(var tt=null,Et=null,at=_e,dt=_e=0,Fn=null,Pt=xe.next();at!==null&&!Pt.done;dt++,Pt=xe.next()){at.index>dt?(Fn=at,at=null):Fn=at.sibling;var $s=Re(Ee,at,Pt.value,je);if($s===null){at===null&&(at=Fn);break}i&&at&&$s.alternate===null&&a(Ee,at),_e=_($s,_e,dt),Et===null?tt=$s:Et.sibling=$s,Et=$s,at=Fn}if(Pt.done)return u(Ee,at),zt&&Uo(Ee,dt),tt;if(at===null){for(;!Pt.done;dt++,Pt=xe.next())Pt=Be(Ee,Pt.value,je),Pt!==null&&(_e=_(Pt,_e,dt),Et===null?tt=Pt:Et.sibling=Pt,Et=Pt);return zt&&Uo(Ee,dt),tt}for(at=h(at);!Pt.done;dt++,Pt=xe.next())Pt=Oe(at,Ee,dt,Pt.value,je),Pt!==null&&(i&&Pt.alternate!==null&&at.delete(Pt.key===null?dt:Pt.key),_e=_(Pt,_e,dt),Et===null?tt=Pt:Et.sibling=Pt,Et=Pt);return i&&at.forEach(function(bD){return a(Ee,bD)}),zt&&Uo(Ee,dt),tt}function Gt(Ee,_e,xe,je){if(typeof xe=="object"&&xe!==null&&xe.type===w&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:e:{for(var tt=xe.key;_e!==null;){if(_e.key===tt){if(tt=xe.type,tt===w){if(_e.tag===7){u(Ee,_e.sibling),je=v(_e,xe.props.children),je.return=Ee,Ee=je;break e}}else if(_e.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&uS(tt)===_e.type){u(Ee,_e.sibling),je=v(_e,xe.props),Nc(je,xe),je.return=Ee,Ee=je;break e}u(Ee,_e);break}else a(Ee,_e);_e=_e.sibling}xe.type===w?(je=Lo(xe.props.children,Ee.mode,je,xe.key),je.return=Ee,Ee=je):(je=Tf(xe.type,xe.key,xe.props,null,Ee.mode,je),Nc(je,xe),je.return=Ee,Ee=je)}return O(Ee);case y:e:{for(tt=xe.key;_e!==null;){if(_e.key===tt)if(_e.tag===4&&_e.stateNode.containerInfo===xe.containerInfo&&_e.stateNode.implementation===xe.implementation){u(Ee,_e.sibling),je=v(_e,xe.children||[]),je.return=Ee,Ee=je;break e}else{u(Ee,_e);break}else a(Ee,_e);_e=_e.sibling}je=sm(xe,Ee.mode,je),je.return=Ee,Ee=je}return O(Ee);case P:return tt=xe._init,xe=tt(xe._payload),Gt(Ee,_e,xe,je)}if(H(xe))return mt(Ee,_e,xe,je);if(L(xe)){if(tt=L(xe),typeof tt!="function")throw Error(r(150));return xe=tt.call(xe),ut(Ee,_e,xe,je)}if(typeof xe.then=="function")return Gt(Ee,_e,Ff(xe),je);if(xe.$$typeof===A)return Gt(Ee,_e,Rf(Ee,xe),je);Vf(Ee,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,_e!==null&&_e.tag===6?(u(Ee,_e.sibling),je=v(_e,xe),je.return=Ee,Ee=je):(u(Ee,_e),je=im(xe,Ee.mode,je),je.return=Ee,Ee=je),O(Ee)):u(Ee,_e)}return function(Ee,_e,xe,je){try{Ic=0;var tt=Gt(Ee,_e,xe,je);return Ya=null,tt}catch(at){if(at===Sc||at===Of)throw at;var Et=Er(29,at,null,Ee.mode);return Et.lanes=je,Et.return=Ee,Et}finally{}}}var Ka=fS(!0),dS=fS(!1),Fr=Z(null),yi=null;function Is(i){var a=i.alternate;re(Mn,Mn.current&1),re(Fr,i),yi===null&&(a===null||Wa.current!==null||a.memoizedState!==null)&&(yi=i)}function hS(i){if(i.tag===22){if(re(Mn,Mn.current),re(Fr,i),yi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(yi=i)}}else Ns()}function Ns(){re(Mn,Mn.current),re(Fr,Fr.current)}function $i(i){U(Fr),yi===i&&(yi=null),U(Mn)}var Mn=Z(0);function Hf(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ag(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Um(i,a,u,h){a=i.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Bm={enqueueSetState:function(i,a,u){i=i._reactInternals;var h=Ar(),v=Rs(h);v.payload=a,u!=null&&(v.callback=u),a=ks(i,v,h),a!==null&&(Rr(a,i,h),Tc(a,i,h))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var h=Ar(),v=Rs(h);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=ks(i,v,h),a!==null&&(Rr(a,i,h),Tc(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Ar(),h=Rs(u);h.tag=2,a!=null&&(h.callback=a),a=ks(i,h,u),a!==null&&(Rr(a,i,u),Tc(a,i,u))}};function pS(i,a,u,h,v,_,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,O):a.prototype&&a.prototype.isPureReactComponent?!pc(u,h)||!pc(v,_):!0}function mS(i,a,u,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==i&&Bm.enqueueReplaceState(a,a.state,null)}function qo(i,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(i=i.defaultProps){u===a&&(u=p({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var Wf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function gS(i){Wf(i)}function vS(i){console.error(i)}function yS(i){Wf(i)}function qf(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function _S(i,a,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function zm(i,a,u){return u=Rs(u),u.tag=3,u.payload={element:null},u.callback=function(){qf(i,a)},u}function bS(i){return i=Rs(i),i.tag=3,i}function wS(i,a,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;i.payload=function(){return v(_)},i.callback=function(){_S(a,u,h)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){_S(a,u,h),typeof v!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function bM(i,a,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&_c(a,u,v,!0),u=Fr.current,u!==null){switch(u.tag){case 13:return yi===null?ug():u.alternate===null&&bn===0&&(bn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===mm?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),dg(i,h,v)),!1;case 22:return u.flags|=65536,h===mm?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),dg(i,h,v)),!1}throw Error(r(435,u.tag))}return dg(i,h,v),ug(),!1}if(zt)return a=Fr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==lm&&(i=Error(r(422),{cause:h}),yc(jr(i,u)))):(h!==lm&&(a=Error(r(423),{cause:h}),yc(jr(a,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,h=jr(h,u),v=zm(i.stateNode,h,v),ym(i,v),bn!==4&&(bn=2)),!1;var _=Error(r(520),{cause:h});if(_=jr(_,u),Bc===null?Bc=[_]:Bc.push(_),bn!==4&&(bn=2),a===null)return!0;h=jr(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=zm(u.stateNode,h,i),ym(u,i),!1;case 1:if(a=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Us===null||!Us.has(_))))return u.flags|=65536,v&=-v,u.lanes|=v,v=bS(v),wS(v,i,u,h),ym(u,v),!1}u=u.return}while(u!==null);return!1}var SS=Error(r(461)),Bn=!1;function Gn(i,a,u,h){a.child=i===null?dS(a,null,u,h):Ka(a,i.child,u,h)}function ES(i,a,u,h,v){u=u.render;var _=a.ref;if("ref"in h){var O={};for(var F in h)F!=="ref"&&(O[F]=h[F])}else O=h;return Vo(a),h=Em(i,a,u,O,_,v),F=Tm(),i!==null&&!Bn?(xm(i,a,v),Gi(i,a,v)):(zt&&F&&om(a),a.flags|=1,Gn(i,a,h,v),a.child)}function TS(i,a,u,h,v){if(i===null){var _=u.type;return typeof _=="function"&&!rm(_)&&_.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=_,xS(i,a,_,h,v)):(i=Tf(u.type,null,h,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,!Ym(i,v)){var O=_.memoizedProps;if(u=u.compare,u=u!==null?u:pc,u(O,h)&&i.ref===a.ref)return Gi(i,a,v)}return a.flags|=1,i=zi(_,h),i.ref=a.ref,i.return=a,a.child=i}function xS(i,a,u,h,v){if(i!==null){var _=i.memoizedProps;if(pc(_,h)&&i.ref===a.ref)if(Bn=!1,a.pendingProps=h=_,Ym(i,v))(i.flags&131072)!==0&&(Bn=!0);else return a.lanes=i.lanes,Gi(i,a,v)}return Fm(i,a,u,h,v)}function CS(i,a,u){var h=a.pendingProps,v=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=_!==null?_.baseLanes|u:u,i!==null){for(v=a.child=i.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;a.childLanes=_&~h}else a.childLanes=0,a.child=null;return AS(i,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&kf(a,_!==null?_.cachePool:null),_!==null?xw(a,_):bm(),hS(a);else return a.lanes=a.childLanes=536870912,AS(i,a,_!==null?_.baseLanes|u:u,u)}else _!==null?(kf(a,_.cachePool),xw(a,_),Ns(),a.memoizedState=null):(i!==null&&kf(a,null),bm(),Ns());return Gn(i,a,v,u),a.child}function AS(i,a,u,h){var v=pm();return v=v===null?null:{parent:Nn._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},i!==null&&kf(a,null),bm(),hS(a),i!==null&&_c(i,a,h,!0),null}function $f(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function Fm(i,a,u,h,v){return Vo(a),u=Em(i,a,u,h,void 0,v),h=Tm(),i!==null&&!Bn?(xm(i,a,v),Gi(i,a,v)):(zt&&h&&om(a),a.flags|=1,Gn(i,a,u,v),a.child)}function RS(i,a,u,h,v,_){return Vo(a),a.updateQueue=null,u=Aw(a,h,u,v),Cw(i),h=Tm(),i!==null&&!Bn?(xm(i,a,_),Gi(i,a,_)):(zt&&h&&om(a),a.flags|=1,Gn(i,a,u,_),a.child)}function kS(i,a,u,h,v){if(Vo(a),a.stateNode===null){var _=Ba,O=u.contextType;typeof O=="object"&&O!==null&&(_=Jn(O)),_=new u(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Bm,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},gm(a),O=u.contextType,_.context=typeof O=="object"&&O!==null?Jn(O):Ba,_.state=a.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Um(a,u,O,h),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&Bm.enqueueReplaceState(_,_.state,null),Cc(a,h,_,v),xc(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){_=a.stateNode;var F=a.memoizedProps,de=qo(u,F);_.props=de;var Ce=_.context,Le=u.contextType;O=Ba,typeof Le=="object"&&Le!==null&&(O=Jn(Le));var Be=u.getDerivedStateFromProps;Le=typeof Be=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,Le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||Ce!==O)&&mS(a,_,h,O),As=!1;var Re=a.memoizedState;_.state=Re,Cc(a,h,_,v),xc(),Ce=a.memoizedState,F||Re!==Ce||As?(typeof Be=="function"&&(Um(a,u,Be,h),Ce=a.memoizedState),(de=As||pS(a,u,de,h,Re,Ce,O))?(Le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Ce),_.props=h,_.state=Ce,_.context=O,h=de):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,vm(i,a),O=a.memoizedProps,Le=qo(u,O),_.props=Le,Be=a.pendingProps,Re=_.context,Ce=u.contextType,de=Ba,typeof Ce=="object"&&Ce!==null&&(de=Jn(Ce)),F=u.getDerivedStateFromProps,(Ce=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==Be||Re!==de)&&mS(a,_,h,de),As=!1,Re=a.memoizedState,_.state=Re,Cc(a,h,_,v),xc();var Oe=a.memoizedState;O!==Be||Re!==Oe||As||i!==null&&i.dependencies!==null&&Af(i.dependencies)?(typeof F=="function"&&(Um(a,u,F,h),Oe=a.memoizedState),(Le=As||pS(a,u,Le,h,Re,Oe,de)||i!==null&&i.dependencies!==null&&Af(i.dependencies))?(Ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Oe,de),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Oe,de)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&Re===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Re===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Oe),_.props=h,_.state=Oe,_.context=de,h=Le):(typeof _.componentDidUpdate!="function"||O===i.memoizedProps&&Re===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&Re===i.memoizedState||(a.flags|=1024),h=!1)}return _=h,$f(i,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,i!==null&&h?(a.child=Ka(a,i.child,null,v),a.child=Ka(a,null,u,v)):Gn(i,a,u,v),a.memoizedState=_.state,i=a.child):i=Gi(i,a,v),i}function OS(i,a,u,h){return vc(),a.flags|=256,Gn(i,a,u,h),a.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(i){return{baseLanes:i,cachePool:vw()}}function Wm(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=Vr),i}function IS(i,a,u){var h=a.pendingProps,v=!1,_=(a.flags&128)!==0,O;if((O=_)||(O=i!==null&&i.memoizedState===null?!1:(Mn.current&2)!==0),O&&(v=!0,a.flags&=-129),O=(a.flags&32)!==0,a.flags&=-33,i===null){if(zt){if(v?Is(a):Ns(),zt){var F=_n,de;if(de=F){e:{for(de=F,F=vi;de.nodeType!==8;){if(!F){F=null;break e}if(de=Kr(de.nextSibling),de===null){F=null;break e}}F=de}F!==null?(a.memoizedState={dehydrated:F,treeContext:jo!==null?{id:Fi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},de=Er(18,null,null,0),de.stateNode=F,de.return=a,a.child=de,rr=a,_n=null,de=!0):de=!1}de||zo(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Ag(F)?a.lanes=32:a.lanes=536870912,null;$i(a)}return F=h.children,h=h.fallback,v?(Ns(),v=a.mode,F=Gf({mode:"hidden",children:F},v),h=Lo(h,v,u,null),F.return=a,h.return=a,F.sibling=h,a.child=F,v=a.child,v.memoizedState=Hm(u),v.childLanes=Wm(i,O,u),a.memoizedState=Vm,h):(Is(a),qm(a,F))}if(de=i.memoizedState,de!==null&&(F=de.dehydrated,F!==null)){if(_)a.flags&256?(Is(a),a.flags&=-257,a=$m(i,a,u)):a.memoizedState!==null?(Ns(),a.child=i.child,a.flags|=128,a=null):(Ns(),v=h.fallback,F=a.mode,h=Gf({mode:"visible",children:h.children},F),v=Lo(v,F,u,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,Ka(a,i.child,null,u),h=a.child,h.memoizedState=Hm(u),h.childLanes=Wm(i,O,u),a.memoizedState=Vm,a=v);else if(Is(a),Ag(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var Ce=O.dgst;O=Ce,h=Error(r(419)),h.stack="",h.digest=O,yc({value:h,source:null,stack:null}),a=$m(i,a,u)}else if(Bn||_c(i,a,u,!1),O=(u&i.childLanes)!==0,Bn||O){if(O=sn,O!==null&&(h=u&-u,h=(h&42)!==0?1:_t(h),h=(h&(O.suspendedLanes|u))!==0?0:h,h!==0&&h!==de.retryLane))throw de.retryLane=h,Ua(i,h),Rr(O,i,h),SS;F.data==="$?"||ug(),a=$m(i,a,u)}else F.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=de.treeContext,_n=Kr(F.nextSibling),rr=a,zt=!0,Bo=null,vi=!1,i!==null&&(Br[zr++]=Fi,Br[zr++]=Vi,Br[zr++]=jo,Fi=i.id,Vi=i.overflow,jo=a),a=qm(a,h.children),a.flags|=4096);return a}return v?(Ns(),v=h.fallback,F=a.mode,de=i.child,Ce=de.sibling,h=zi(de,{mode:"hidden",children:h.children}),h.subtreeFlags=de.subtreeFlags&65011712,Ce!==null?v=zi(Ce,v):(v=Lo(v,F,u,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,F=i.child.memoizedState,F===null?F=Hm(u):(de=F.cachePool,de!==null?(Ce=Nn._currentValue,de=de.parent!==Ce?{parent:Ce,pool:Ce}:de):de=vw(),F={baseLanes:F.baseLanes|u,cachePool:de}),v.memoizedState=F,v.childLanes=Wm(i,O,u),a.memoizedState=Vm,h):(Is(a),u=i.child,i=u.sibling,u=zi(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,i!==null&&(O=a.deletions,O===null?(a.deletions=[i],a.flags|=16):O.push(i)),a.child=u,a.memoizedState=null,u)}function qm(i,a){return a=Gf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Gf(i,a){return i=Er(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function $m(i,a,u){return Ka(a,i.child,null,u),i=qm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function NS(i,a,u){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),um(i.return,a,u)}function Gm(i,a,u,h,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=u,_.tailMode=v)}function MS(i,a,u){var h=a.pendingProps,v=h.revealOrder,_=h.tail;if(Gn(i,a,h.children,u),h=Mn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&NS(i,u,a);else if(i.tag===19)NS(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(re(Mn,h),v){case"forwards":for(u=a.child,v=null;u!==null;)i=u.alternate,i!==null&&Hf(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Gm(a,!1,v,u,_);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&Hf(i)===null){a.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Gm(a,!0,u,null,_);break;case"together":Gm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Gi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),js|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(_c(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=zi(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=zi(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function Ym(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Af(i)))}function wM(i,a,u){switch(a.tag){case 3:K(a,a.stateNode.containerInfo),Cs(a,Nn,i.memoizedState.cache),vc();break;case 27:case 5:ue(a);break;case 4:K(a,a.stateNode.containerInfo);break;case 10:Cs(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Is(a),a.flags|=128,null):(u&a.child.childLanes)!==0?IS(i,a,u):(Is(a),i=Gi(i,a,u),i!==null?i.sibling:null);Is(a);break;case 19:var v=(i.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(_c(i,a,u,!1),h=(u&a.childLanes)!==0),v){if(h)return MS(i,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(Mn,Mn.current),h)break;return null;case 22:case 23:return a.lanes=0,CS(i,a,u);case 24:Cs(a,Nn,i.memoizedState.cache)}return Gi(i,a,u)}function DS(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)Bn=!0;else{if(!Ym(i,u)&&(a.flags&128)===0)return Bn=!1,wM(i,a,u);Bn=(i.flags&131072)!==0}else Bn=!1,zt&&(a.flags&1048576)!==0&&uw(a,Cf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,v=h._init;if(h=v(h._payload),a.type=h,typeof h=="function")rm(h)?(i=qo(h,i),a.tag=1,a=kS(null,a,h,i,u)):(a.tag=0,a=Fm(null,a,h,i,u));else{if(h!=null){if(v=h.$$typeof,v===z){a.tag=11,a=ES(null,a,h,i,u);break e}else if(v===I){a.tag=14,a=TS(null,a,h,i,u);break e}}throw a=ie(h)||h,Error(r(306,a,""))}}return a;case 0:return Fm(i,a,a.type,a.pendingProps,u);case 1:return h=a.type,v=qo(h,a.pendingProps),kS(i,a,h,v,u);case 3:e:{if(K(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var _=a.memoizedState;v=_.element,vm(i,a),Cc(a,h,null,u);var O=a.memoizedState;if(h=O.cache,Cs(a,Nn,h),h!==_.cache&&fm(a,[Nn],u,!0),xc(),h=O.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:O.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=OS(i,a,h,u);break e}else if(h!==v){v=jr(Error(r(424)),a),yc(v),a=OS(i,a,h,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_n=Kr(i.firstChild),rr=a,zt=!0,Bo=null,vi=!0,u=dS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vc(),h===v){a=Gi(i,a,u);break e}Gn(i,a,h,u)}a=a.child}return a;case 26:return $f(i,a),i===null?(u=UE(a.type,null,a.pendingProps,null))?a.memoizedState=u:zt||(u=a.type,i=a.pendingProps,h=ad(Ae.current).createElement(u),h[Ue]=a,h[We]=i,Kn(h,u,i),cn(h),a.stateNode=h):a.memoizedState=UE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ue(a),i===null&&zt&&(h=a.stateNode=PE(a.type,a.pendingProps,Ae.current),rr=a,vi=!0,v=_n,Fs(a.type)?(Rg=v,_n=Kr(h.firstChild)):_n=v),Gn(i,a,a.pendingProps.children,u),$f(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&zt&&((v=h=_n)&&(h=KM(h,a.type,a.pendingProps,vi),h!==null?(a.stateNode=h,rr=a,_n=Kr(h.firstChild),vi=!1,v=!0):v=!1),v||zo(a)),ue(a),v=a.type,_=a.pendingProps,O=i!==null?i.memoizedProps:null,h=_.children,Tg(v,_)?h=null:O!==null&&Tg(v,O)&&(a.flags|=32),a.memoizedState!==null&&(v=Em(i,a,hM,null,null,u),Yc._currentValue=v),$f(i,a),Gn(i,a,h,u),a.child;case 6:return i===null&&zt&&((i=u=_n)&&(u=QM(u,a.pendingProps,vi),u!==null?(a.stateNode=u,rr=a,_n=null,i=!0):i=!1),i||zo(a)),null;case 13:return IS(i,a,u);case 4:return K(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Ka(a,null,h,u):Gn(i,a,h,u),a.child;case 11:return ES(i,a,a.type,a.pendingProps,u);case 7:return Gn(i,a,a.pendingProps,u),a.child;case 8:return Gn(i,a,a.pendingProps.children,u),a.child;case 12:return Gn(i,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Cs(a,a.type,h.value),Gn(i,a,h.children,u),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,Vo(a),v=Jn(v),h=h(v),a.flags|=1,Gn(i,a,h,u),a.child;case 14:return TS(i,a,a.type,a.pendingProps,u);case 15:return xS(i,a,a.type,a.pendingProps,u);case 19:return MS(i,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},i===null?(u=Gf(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=zi(i.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return CS(i,a,u);case 24:return Vo(a),h=Jn(Nn),i===null?(v=pm(),v===null&&(v=sn,_=dm(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=u),v=_),a.memoizedState={parent:h,cache:v},gm(a),Cs(a,Nn,v)):((i.lanes&u)!==0&&(vm(i,a),Cc(a,null,null,u),xc()),v=i.memoizedState,_=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Cs(a,Nn,h)):(h=_.cache,Cs(a,Nn,h),h!==v.cache&&fm(a,[Nn],u,!0))),Gn(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Yi(i){i.flags|=4}function PS(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!HE(a)){if(a=Fr.current,a!==null&&((Ot&4194048)===Ot?yi!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||a!==yi))throw Ec=mm,yw;i.flags|=8192}}function Yf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Un():536870912,i.lanes|=a,Ja|=a)}function Mc(i,a){if(!zt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function mn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(a)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=h,i.childLanes=u,a}function SM(i,a,u){var h=a.pendingProps;switch(am(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(a),null;case 1:return mn(a),null;case 3:return u=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Wi(Nn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(gc(a)?Yi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hw())),mn(a),null;case 26:return u=a.memoizedState,i===null?(Yi(a),u!==null?(mn(a),PS(a,u)):(mn(a),a.flags&=-16777217)):u?u!==i.memoizedState?(Yi(a),mn(a),PS(a,u)):(mn(a),a.flags&=-16777217):(i.memoizedProps!==h&&Yi(a),mn(a),a.flags&=-16777217),null;case 27:fe(a),u=Ae.current;var v=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Yi(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return mn(a),null}i=ve.current,gc(a)?fw(a):(i=PE(v,h,u),a.stateNode=i,Yi(a))}return mn(a),null;case 5:if(fe(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Yi(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return mn(a),null}if(i=ve.current,gc(a))fw(a);else{switch(v=ad(Ae.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?v.createElement(u,{is:h.is}):v.createElement(u)}}i[Ue]=a,i[We]=h;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=i;e:switch(Kn(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Yi(a)}}return mn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Yi(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ae.current,gc(a)){if(i=a.stateNode,u=a.memoizedProps,h=null,v=rr,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}i[Ue]=a,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||RE(i.nodeValue,u)),i||zo(a)}else i=ad(i).createTextNode(h),i[Ue]=a,a.stateNode=i}return mn(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=gc(a),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Ue]=a}else vc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mn(a),v=!1}else v=hw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?($i(a),a):($i(a),null)}if($i(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)}return u!==i&&u&&(a.child.flags|=8192),Yf(a,a.updateQueue),mn(a),null;case 4:return be(),i===null&&_g(a.stateNode.containerInfo),mn(a),null;case 10:return Wi(a.type),mn(a),null;case 19:if(U(Mn),v=a.memoizedState,v===null)return mn(a),null;if(h=(a.flags&128)!==0,_=v.rendering,_===null)if(h)Mc(v,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=Hf(i),_!==null){for(a.flags|=128,Mc(v,!1),i=_.updateQueue,a.updateQueue=i,Yf(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)cw(u,i),u=u.sibling;return re(Mn,Mn.current&1|2),a.child}i=i.sibling}v.tail!==null&&we()>Zf&&(a.flags|=128,h=!0,Mc(v,!1),a.lanes=4194304)}else{if(!h)if(i=Hf(_),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Yf(a,i),Mc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!zt)return mn(a),null}else 2*we()-v.renderingStartTime>Zf&&u!==536870912&&(a.flags|=128,h=!0,Mc(v,!1),a.lanes=4194304);v.isBackwards?(_.sibling=a.child,a.child=_):(i=v.last,i!==null?i.sibling=_:a.child=_,v.last=_)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=we(),a.sibling=null,i=Mn.current,re(Mn,h?i&1|2:i&1),a):(mn(a),null);case 22:case 23:return $i(a),wm(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(mn(a),a.subtreeFlags&6&&(a.flags|=8192)):mn(a),u=a.updateQueue,u!==null&&Yf(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),i!==null&&U(Ho),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Wi(Nn),mn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EM(i,a){switch(am(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wi(Nn),be(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return fe(a),null;case 13:if($i(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));vc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return U(Mn),null;case 4:return be(),null;case 10:return Wi(a.type),null;case 22:case 23:return $i(a),wm(),i!==null&&U(Ho),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wi(Nn),null;case 25:return null;default:return null}}function LS(i,a){switch(am(a),a.tag){case 3:Wi(Nn),be();break;case 26:case 27:case 5:fe(a);break;case 4:be();break;case 13:$i(a);break;case 19:U(Mn);break;case 10:Wi(a.type);break;case 22:case 23:$i(a),wm(),i!==null&&U(Ho);break;case 24:Wi(Nn)}}function Dc(i,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&i)===i){h=void 0;var _=u.create,O=u.inst;h=_(),O.destroy=h}u=u.next}while(u!==v)}}catch(F){Jt(a,a.return,F)}}function Ms(i,a,u){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&i)===i){var O=h.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,v=a;var de=u,Ce=F;try{Ce()}catch(Le){Jt(v,de,Le)}}}h=h.next}while(h!==_)}}catch(Le){Jt(a,a.return,Le)}}function jS(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{Tw(a,u)}catch(h){Jt(i,i.return,h)}}}function US(i,a,u){u.props=qo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Jt(i,a,h)}}function Pc(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(v){Jt(i,a,v)}}function _i(i,a){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Jt(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Jt(i,a,v)}else u.current=null}function BS(i){var a=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Jt(i,i.return,v)}}function Km(i,a,u){try{var h=i.stateNode;WM(h,i.type,u,a),h[We]=a}catch(v){Jt(i,i.return,v)}}function zS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zm(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=od));else if(h!==4&&(h===27&&Fs(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(Zm(i,a,u),i=i.sibling;i!==null;)Zm(i,a,u),i=i.sibling}function Kf(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(h!==4&&(h===27&&Fs(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Kf(i,a,u),i=i.sibling;i!==null;)Kf(i,a,u),i=i.sibling}function FS(i){var a=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Kn(a,h,u),a[Ue]=i,a[We]=u}catch(_){Jt(i,i.return,_)}}var Ki=!1,Tn=!1,Xm=!1,VS=typeof WeakSet=="function"?WeakSet:Set,zn=null;function TM(i,a){if(i=i.containerInfo,Sg=hd,i=J0(i),Qp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var O=0,F=-1,de=-1,Ce=0,Le=0,Be=i,Re=null;t:for(;;){for(var Oe;Be!==u||v!==0&&Be.nodeType!==3||(F=O+v),Be!==_||h!==0&&Be.nodeType!==3||(de=O+h),Be.nodeType===3&&(O+=Be.nodeValue.length),(Oe=Be.firstChild)!==null;)Re=Be,Be=Oe;for(;;){if(Be===i)break t;if(Re===u&&++Ce===v&&(F=O),Re===_&&++Le===h&&(de=O),(Oe=Be.nextSibling)!==null)break;Be=Re,Re=Be.parentNode}Be=Oe}u=F===-1||de===-1?null:{start:F,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(Eg={focusedElem:i,selectionRange:u},hd=!1,zn=a;zn!==null;)if(a=zn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,zn=i;else for(;zn!==null;){switch(a=zn,_=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,u=a,v=_.memoizedProps,_=_.memoizedState,h=u.stateNode;try{var mt=qo(u.type,v,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(mt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(ut){Jt(u,u.return,ut)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)Cg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,zn=i;break}zn=a.return}}function HS(i,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ds(i,u),h&4&&Dc(5,u);break;case 1:if(Ds(i,u),h&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(O){Jt(u,u.return,O)}else{var v=qo(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Jt(u,u.return,O)}}h&64&&jS(u),h&512&&Pc(u,u.return);break;case 3:if(Ds(i,u),h&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Tw(i,a)}catch(O){Jt(u,u.return,O)}}break;case 27:a===null&&h&4&&FS(u);case 26:case 5:Ds(i,u),a===null&&h&4&&BS(u),h&512&&Pc(u,u.return);break;case 12:Ds(i,u);break;case 13:Ds(i,u),h&4&&$S(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=MM.bind(null,u),ZM(i,u))));break;case 22:if(h=u.memoizedState!==null||Ki,!h){a=a!==null&&a.memoizedState!==null||Tn,v=Ki;var _=Tn;Ki=h,(Tn=a)&&!_?Ps(i,u,(u.subtreeFlags&8772)!==0):Ds(i,u),Ki=v,Tn=_}break;case 30:break;default:Ds(i,u)}}function WS(i){var a=i.alternate;a!==null&&(i.alternate=null,WS(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Aa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var un=null,fr=!1;function Qi(i,a,u){for(u=u.child;u!==null;)qS(i,a,u),u=u.sibling}function qS(i,a,u){if(S&&typeof S.onCommitFiberUnmount=="function")try{S.onCommitFiberUnmount(b,u)}catch{}switch(u.tag){case 26:Tn||_i(u,a),Qi(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Tn||_i(u,a);var h=un,v=fr;Fs(u.type)&&(un=u.stateNode,fr=!1),Qi(i,a,u),Wc(u.stateNode),un=h,fr=v;break;case 5:Tn||_i(u,a);case 6:if(h=un,v=fr,un=null,Qi(i,a,u),un=h,fr=v,un!==null)if(fr)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(u.stateNode)}catch(_){Jt(u,a,_)}else try{un.removeChild(u.stateNode)}catch(_){Jt(u,a,_)}break;case 18:un!==null&&(fr?(i=un,ME(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Xc(i)):ME(un,u.stateNode));break;case 4:h=un,v=fr,un=u.stateNode.containerInfo,fr=!0,Qi(i,a,u),un=h,fr=v;break;case 0:case 11:case 14:case 15:Tn||Ms(2,u,a),Tn||Ms(4,u,a),Qi(i,a,u);break;case 1:Tn||(_i(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&US(u,a,h)),Qi(i,a,u);break;case 21:Qi(i,a,u);break;case 22:Tn=(h=Tn)||u.memoizedState!==null,Qi(i,a,u),Tn=h;break;default:Qi(i,a,u)}}function $S(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xc(i)}catch(u){Jt(a,a.return,u)}}function xM(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new VS),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new VS),a;default:throw Error(r(435,i.tag))}}function Jm(i,a){var u=xM(i);a.forEach(function(h){var v=DM.bind(null,i,h);u.has(h)||(u.add(h),h.then(v,v))})}function Tr(i,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],_=i,O=a,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(Fs(F.type)){un=F.stateNode,fr=!1;break e}break;case 5:un=F.stateNode,fr=!1;break e;case 3:case 4:un=F.stateNode.containerInfo,fr=!0;break e}F=F.return}if(un===null)throw Error(r(160));qS(_,O,v),un=null,fr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)GS(a,i),a=a.sibling}var Yr=null;function GS(i,a){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(a,i),xr(i),h&4&&(Ms(3,i,i.return),Dc(3,i),Ms(5,i,i.return));break;case 1:Tr(a,i),xr(i),h&512&&(Tn||u===null||_i(u,u.return)),h&64&&Ki&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Yr;if(Tr(a,i),xr(i),h&512&&(Tn||u===null||_i(u,u.return)),h&4){var _=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Io]||_[Ue]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),Kn(_,h,u),_[Ue]=i,cn(_),h=_;break e;case"link":var O=FE("link","href",v).get(h+(u.href||""));if(O){for(var F=0;F<O.length;F++)if(_=O[F],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(F,1);break t}}_=v.createElement(h),Kn(_,h,u),v.head.appendChild(_);break;case"meta":if(O=FE("meta","content",v).get(h+(u.content||""))){for(F=0;F<O.length;F++)if(_=O[F],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(F,1);break t}}_=v.createElement(h),Kn(_,h,u),v.head.appendChild(_);break;default:throw Error(r(468,h))}_[Ue]=i,cn(_),h=_}i.stateNode=h}else VE(v,i.type,i.stateNode);else i.stateNode=zE(v,h,i.memoizedProps);else _!==h?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,h===null?VE(v,i.type,i.stateNode):zE(v,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Km(i,i.memoizedProps,u.memoizedProps)}break;case 27:Tr(a,i),xr(i),h&512&&(Tn||u===null||_i(u,u.return)),u!==null&&h&4&&Km(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Tr(a,i),xr(i),h&512&&(Tn||u===null||_i(u,u.return)),i.flags&32){v=i.stateNode;try{Ia(v,"")}catch(Oe){Jt(i,i.return,Oe)}}h&4&&i.stateNode!=null&&(v=i.memoizedProps,Km(i,v,u!==null?u.memoizedProps:v)),h&1024&&(Xm=!0);break;case 6:if(Tr(a,i),xr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Oe){Jt(i,i.return,Oe)}}break;case 3:if(ud=null,v=Yr,Yr=ld(a.containerInfo),Tr(a,i),Yr=v,xr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Xc(a.containerInfo)}catch(Oe){Jt(i,i.return,Oe)}Xm&&(Xm=!1,YS(i));break;case 4:h=Yr,Yr=ld(i.stateNode.containerInfo),Tr(a,i),xr(i),Yr=h;break;case 12:Tr(a,i),xr(i);break;case 13:Tr(a,i),xr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sg=we()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Jm(i,h)));break;case 22:v=i.memoizedState!==null;var de=u!==null&&u.memoizedState!==null,Ce=Ki,Le=Tn;if(Ki=Ce||v,Tn=Le||de,Tr(a,i),Tn=Le,Ki=Ce,xr(i),h&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||de||Ki||Tn||$o(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){de=u=a;try{if(_=de.stateNode,v)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=de.stateNode;var Be=de.memoizedProps.style,Re=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;F.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Oe){Jt(de,de.return,Oe)}}}else if(a.tag===6){if(u===null){de=a;try{de.stateNode.nodeValue=v?"":de.memoizedProps}catch(Oe){Jt(de,de.return,Oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Jm(i,u))));break;case 19:Tr(a,i),xr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Jm(i,h)));break;case 30:break;case 21:break;default:Tr(a,i),xr(i)}}function xr(i){var a=i.flags;if(a&2){try{for(var u,h=i.return;h!==null;){if(zS(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,_=Qm(i);Kf(i,_,v);break;case 5:var O=u.stateNode;u.flags&32&&(Ia(O,""),u.flags&=-33);var F=Qm(i);Kf(i,F,O);break;case 3:case 4:var de=u.stateNode.containerInfo,Ce=Qm(i);Zm(i,Ce,de);break;default:throw Error(r(161))}}catch(Le){Jt(i,i.return,Le)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function YS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;YS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ds(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)HS(i,a.alternate,a),a=a.sibling}function $o(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ms(4,a,a.return),$o(a);break;case 1:_i(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&US(a,a.return,u),$o(a);break;case 27:Wc(a.stateNode);case 26:case 5:_i(a,a.return),$o(a);break;case 22:a.memoizedState===null&&$o(a);break;case 30:$o(a);break;default:$o(a)}i=i.sibling}}function Ps(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=i,_=a,O=_.flags;switch(_.tag){case 0:case 11:case 15:Ps(v,_,u),Dc(4,_);break;case 1:if(Ps(v,_,u),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Ce){Jt(h,h.return,Ce)}if(h=_,v=h.updateQueue,v!==null){var F=h.stateNode;try{var de=v.shared.hiddenCallbacks;if(de!==null)for(v.shared.hiddenCallbacks=null,v=0;v<de.length;v++)Ew(de[v],F)}catch(Ce){Jt(h,h.return,Ce)}}u&&O&64&&jS(_),Pc(_,_.return);break;case 27:FS(_);case 26:case 5:Ps(v,_,u),u&&h===null&&O&4&&BS(_),Pc(_,_.return);break;case 12:Ps(v,_,u);break;case 13:Ps(v,_,u),u&&O&4&&$S(v,_);break;case 22:_.memoizedState===null&&Ps(v,_,u),Pc(_,_.return);break;case 30:break;default:Ps(v,_,u)}a=a.sibling}}function eg(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&bc(u))}function tg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&bc(i))}function bi(i,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KS(i,a,u,h),a=a.sibling}function KS(i,a,u,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:bi(i,a,u,h),v&2048&&Dc(9,a);break;case 1:bi(i,a,u,h);break;case 3:bi(i,a,u,h),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&bc(i)));break;case 12:if(v&2048){bi(i,a,u,h),i=a.stateNode;try{var _=a.memoizedProps,O=_.id,F=_.onPostCommit;typeof F=="function"&&F(O,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){Jt(a,a.return,de)}}else bi(i,a,u,h);break;case 13:bi(i,a,u,h);break;case 23:break;case 22:_=a.stateNode,O=a.alternate,a.memoizedState!==null?_._visibility&2?bi(i,a,u,h):Lc(i,a):_._visibility&2?bi(i,a,u,h):(_._visibility|=2,Qa(i,a,u,h,(a.subtreeFlags&10256)!==0)),v&2048&&eg(O,a);break;case 24:bi(i,a,u,h),v&2048&&tg(a.alternate,a);break;default:bi(i,a,u,h)}}function Qa(i,a,u,h,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=i,O=a,F=u,de=h,Ce=O.flags;switch(O.tag){case 0:case 11:case 15:Qa(_,O,F,de,v),Dc(8,O);break;case 23:break;case 22:var Le=O.stateNode;O.memoizedState!==null?Le._visibility&2?Qa(_,O,F,de,v):Lc(_,O):(Le._visibility|=2,Qa(_,O,F,de,v)),v&&Ce&2048&&eg(O.alternate,O);break;case 24:Qa(_,O,F,de,v),v&&Ce&2048&&tg(O.alternate,O);break;default:Qa(_,O,F,de,v)}a=a.sibling}}function Lc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,h=a,v=h.flags;switch(h.tag){case 22:Lc(u,h),v&2048&&eg(h.alternate,h);break;case 24:Lc(u,h),v&2048&&tg(h.alternate,h);break;default:Lc(u,h)}a=a.sibling}}var jc=8192;function Za(i){if(i.subtreeFlags&jc)for(i=i.child;i!==null;)QS(i),i=i.sibling}function QS(i){switch(i.tag){case 26:Za(i),i.flags&jc&&i.memoizedState!==null&&uD(Yr,i.memoizedState,i.memoizedProps);break;case 5:Za(i);break;case 3:case 4:var a=Yr;Yr=ld(i.stateNode.containerInfo),Za(i),Yr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=jc,jc=16777216,Za(i),jc=a):Za(i));break;default:Za(i)}}function ZS(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Uc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];zn=h,JS(h,i)}ZS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)XS(i),i=i.sibling}function XS(i){switch(i.tag){case 0:case 11:case 15:Uc(i),i.flags&2048&&Ms(9,i,i.return);break;case 3:Uc(i);break;case 12:Uc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Qf(i)):Uc(i);break;default:Uc(i)}}function Qf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];zn=h,JS(h,i)}ZS(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ms(8,a,a.return),Qf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Qf(a));break;default:Qf(a)}i=i.sibling}}function JS(i,a){for(;zn!==null;){var u=zn;switch(u.tag){case 0:case 11:case 15:Ms(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:bc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,zn=h;else e:for(u=i;zn!==null;){h=zn;var v=h.sibling,_=h.return;if(WS(h),h===u){zn=null;break e}if(v!==null){v.return=_,zn=v;break e}zn=_}}}var CM={getCacheForType:function(i){var a=Jn(Nn),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u}},AM=typeof WeakMap=="function"?WeakMap:Map,Ht=0,sn=null,Ct=null,Ot=0,Wt=0,Cr=null,Ls=!1,Xa=!1,ng=!1,Zi=0,bn=0,js=0,Go=0,rg=0,Vr=0,Ja=0,Bc=null,dr=null,ig=!1,sg=0,Zf=1/0,Xf=null,Us=null,Yn=0,Bs=null,el=null,tl=0,og=0,ag=null,eE=null,zc=0,lg=null;function Ar(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(D.T!==null){var i=Va;return i!==0?i:mg()}return Xn()}function tE(){Vr===0&&(Vr=(Ot&536870912)===0||zt?rn():536870912);var i=Fr.current;return i!==null&&(i.flags|=32),Vr}function Rr(i,a,u){(i===sn&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)&&(nl(i,0),zs(i,Ot,Vr,!1)),Xt(i,u),((Ht&2)===0||i!==sn)&&(i===sn&&((Ht&2)===0&&(Go|=u),bn===4&&zs(i,Ot,Vr,!1)),wi(i))}function nE(i,a,u){if((Ht&6)!==0)throw Error(r(327));var h=!u&&(a&124)===0&&(a&i.expiredLanes)===0||ot(i,a),v=h?OM(i,a):fg(i,a,!0),_=h;do{if(v===0){Xa&&!h&&zs(i,a,0,!1);break}else{if(u=i.current.alternate,_&&!RM(u)){v=fg(i,a,!1),_=!1;continue}if(v===2){if(_=a,i.errorRecoveryDisabledLanes&_)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){a=O;e:{var F=i;v=Bc;var de=F.current.memoizedState.isDehydrated;if(de&&(nl(F,O).flags|=256),O=fg(F,O,!1),O!==2){if(ng&&!de){F.errorRecoveryDisabledLanes|=_,Go|=_,v=4;break e}_=dr,dr=v,_!==null&&(dr===null?dr=_:dr.push.apply(dr,_))}v=O}if(_=!1,v!==2)continue}}if(v===1){nl(i,0),zs(i,a,0,!0);break}e:{switch(h=i,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:zs(h,a,Vr,!Ls);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=sg+300-we(),10<v)){if(zs(h,a,Vr,!Ls),lt(h,0,!0)!==0)break e;h.timeoutHandle=IE(rE.bind(null,h,u,dr,Xf,ig,a,Vr,Go,Ja,Ls,_,2,-0,0),v);break e}rE(h,u,dr,Xf,ig,a,Vr,Go,Ja,Ls,_,0,-0,0)}}break}while(!0);wi(i)}function rE(i,a,u,h,v,_,O,F,de,Ce,Le,Be,Re,Oe){if(i.timeoutHandle=-1,Be=a.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(Gc={stylesheets:null,count:0,unsuspend:cD},QS(a),Be=fD(),Be!==null)){i.cancelPendingCommit=Be(uE.bind(null,i,a,_,u,h,v,O,F,de,Le,1,Re,Oe)),zs(i,_,O,!Ce);return}uE(i,a,_,u,h,v,O,F,de)}function RM(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],_=v.getSnapshot;v=v.value;try{if(!Sr(_(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(i,a,u,h){a&=~rg,a&=~Go,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var v=a;0<v;){var _=31-j(v),O=1<<_;h[_]=-1,v&=~O}u!==0&&Ze(i,u,a)}function Jf(){return(Ht&6)===0?(Fc(0),!1):!0}function cg(){if(Ct!==null){if(Wt===0)var i=Ct.return;else i=Ct,Hi=Fo=null,Cm(i),Ya=null,Ic=0,i=Ct;for(;i!==null;)LS(i.alternate,i),i=i.return;Ct=null}}function nl(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,$M(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),cg(),sn=i,Ct=u=zi(i.current,null),Ot=a,Wt=0,Cr=null,Ls=!1,Xa=ot(i,a),ng=!1,Ja=Vr=rg=Go=js=bn=0,dr=Bc=null,ig=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var v=31-j(h),_=1<<v;a|=i[v],h&=~_}return Zi=a,wf(),u}function iE(i,a){bt=null,D.H=zf,a===Sc||a===Of?(a=ww(),Wt=3):a===yw?(a=ww(),Wt=4):Wt=a===SS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cr=a,Ct===null&&(bn=1,qf(i,jr(a,i.current)))}function sE(){var i=D.H;return D.H=zf,i===null?zf:i}function oE(){var i=D.A;return D.A=CM,i}function ug(){bn=4,Ls||(Ot&4194048)!==Ot&&Fr.current!==null||(Xa=!0),(js&134217727)===0&&(Go&134217727)===0||sn===null||zs(sn,Ot,Vr,!1)}function fg(i,a,u){var h=Ht;Ht|=2;var v=sE(),_=oE();(sn!==i||Ot!==a)&&(Xf=null,nl(i,a)),a=!1;var O=bn;e:do try{if(Wt!==0&&Ct!==null){var F=Ct,de=Cr;switch(Wt){case 8:cg(),O=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(a=!0);var Ce=Wt;if(Wt=0,Cr=null,rl(i,F,de,Ce),u&&Xa){O=0;break e}break;default:Ce=Wt,Wt=0,Cr=null,rl(i,F,de,Ce)}}kM(),O=bn;break}catch(Le){iE(i,Le)}while(!0);return a&&i.shellSuspendCounter++,Hi=Fo=null,Ht=h,D.H=v,D.A=_,Ct===null&&(sn=null,Ot=0,wf()),O}function kM(){for(;Ct!==null;)aE(Ct)}function OM(i,a){var u=Ht;Ht|=2;var h=sE(),v=oE();sn!==i||Ot!==a?(Xf=null,Zf=we()+500,nl(i,a)):Xa=ot(i,a);e:do try{if(Wt!==0&&Ct!==null){a=Ct;var _=Cr;t:switch(Wt){case 1:Wt=0,Cr=null,rl(i,a,_,1);break;case 2:case 9:if(_w(_)){Wt=0,Cr=null,lE(a);break}a=function(){Wt!==2&&Wt!==9||sn!==i||(Wt=7),wi(i)},_.then(a,a);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:_w(_)?(Wt=0,Cr=null,lE(a)):(Wt=0,Cr=null,rl(i,a,_,7));break;case 5:var O=null;switch(Ct.tag){case 26:O=Ct.memoizedState;case 5:case 27:var F=Ct;if(!O||HE(O)){Wt=0,Cr=null;var de=F.sibling;if(de!==null)Ct=de;else{var Ce=F.return;Ce!==null?(Ct=Ce,ed(Ce)):Ct=null}break t}}Wt=0,Cr=null,rl(i,a,_,5);break;case 6:Wt=0,Cr=null,rl(i,a,_,6);break;case 8:cg(),bn=6;break e;default:throw Error(r(462))}}IM();break}catch(Le){iE(i,Le)}while(!0);return Hi=Fo=null,D.H=h,D.A=v,Ht=u,Ct!==null?0:(sn=null,Ot=0,wf(),bn)}function IM(){for(;Ct!==null&&!ce();)aE(Ct)}function aE(i){var a=DS(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,a===null?ed(i):Ct=a}function lE(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=RS(u,a,a.pendingProps,a.type,void 0,Ot);break;case 11:a=RS(u,a,a.pendingProps,a.type.render,a.ref,Ot);break;case 5:Cm(a);default:LS(u,a),a=Ct=cw(a,Zi),a=DS(u,a,Zi)}i.memoizedProps=i.pendingProps,a===null?ed(i):Ct=a}function rl(i,a,u,h){Hi=Fo=null,Cm(a),Ya=null,Ic=0;var v=a.return;try{if(bM(i,v,a,u,Ot)){bn=1,qf(i,jr(u,i.current)),Ct=null;return}}catch(_){if(v!==null)throw Ct=v,_;bn=1,qf(i,jr(u,i.current)),Ct=null;return}a.flags&32768?(zt||h===1?i=!0:Xa||(Ot&536870912)!==0?i=!1:(Ls=i=!0,(h===2||h===9||h===3||h===6)&&(h=Fr.current,h!==null&&h.tag===13&&(h.flags|=16384))),cE(a,i)):ed(a)}function ed(i){var a=i;do{if((a.flags&32768)!==0){cE(a,Ls);return}i=a.return;var u=SM(a.alternate,a,Zi);if(u!==null){Ct=u;return}if(a=a.sibling,a!==null){Ct=a;return}Ct=a=i}while(a!==null);bn===0&&(bn=5)}function cE(i,a){do{var u=EM(i.alternate,i);if(u!==null){u.flags&=32767,Ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){Ct=i;return}Ct=i=u}while(i!==null);bn=6,Ct=null}function uE(i,a,u,h,v,_,O,F,de){i.cancelPendingCommit=null;do td();while(Yn!==0);if((Ht&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=tm,ct(i,u,_,O,F,de),i===sn&&(Ct=sn=null,Ot=0),el=a,Bs=i,tl=u,og=_,ag=v,eE=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PM(B,function(){return mE(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=D.T,D.T=null,v=G.p,G.p=2,O=Ht,Ht|=4;try{TM(i,a,u)}finally{Ht=O,G.p=v,D.T=h}}Yn=1,fE(),dE(),hE()}}function fE(){if(Yn===1){Yn=0;var i=Bs,a=el,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var h=G.p;G.p=2;var v=Ht;Ht|=4;try{GS(a,i);var _=Eg,O=J0(i.containerInfo),F=_.focusedElem,de=_.selectionRange;if(O!==F&&F&&F.ownerDocument&&X0(F.ownerDocument.documentElement,F)){if(de!==null&&Qp(F)){var Ce=de.start,Le=de.end;if(Le===void 0&&(Le=Ce),"selectionStart"in F)F.selectionStart=Ce,F.selectionEnd=Math.min(Le,F.value.length);else{var Be=F.ownerDocument||document,Re=Be&&Be.defaultView||window;if(Re.getSelection){var Oe=Re.getSelection(),mt=F.textContent.length,ut=Math.min(de.start,mt),Gt=de.end===void 0?ut:Math.min(de.end,mt);!Oe.extend&&ut>Gt&&(O=Gt,Gt=ut,ut=O);var Ee=Z0(F,ut),_e=Z0(F,Gt);if(Ee&&_e&&(Oe.rangeCount!==1||Oe.anchorNode!==Ee.node||Oe.anchorOffset!==Ee.offset||Oe.focusNode!==_e.node||Oe.focusOffset!==_e.offset)){var xe=Be.createRange();xe.setStart(Ee.node,Ee.offset),Oe.removeAllRanges(),ut>Gt?(Oe.addRange(xe),Oe.extend(_e.node,_e.offset)):(xe.setEnd(_e.node,_e.offset),Oe.addRange(xe))}}}}for(Be=[],Oe=F;Oe=Oe.parentNode;)Oe.nodeType===1&&Be.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Be.length;F++){var je=Be[F];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}hd=!!Sg,Eg=Sg=null}finally{Ht=v,G.p=h,D.T=u}}i.current=a,Yn=2}}function dE(){if(Yn===2){Yn=0;var i=Bs,a=el,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var h=G.p;G.p=2;var v=Ht;Ht|=4;try{HS(i,a.alternate,a)}finally{Ht=v,G.p=h,D.T=u}}Yn=3}}function hE(){if(Yn===4||Yn===3){Yn=0,me();var i=Bs,a=el,u=tl,h=eE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Yn=5:(Yn=0,el=Bs=null,pE(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Us=null),It(u),a=a.stateNode,S&&typeof S.onCommitFiberRoot=="function")try{S.onCommitFiberRoot(b,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=D.T,v=G.p,G.p=2,D.T=null;try{for(var _=i.onRecoverableError,O=0;O<h.length;O++){var F=h[O];_(F.value,{componentStack:F.stack})}}finally{D.T=a,G.p=v}}(tl&3)!==0&&td(),wi(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===lg?zc++:(zc=0,lg=i):zc=0,Fc(0)}}function pE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,bc(a)))}function td(i){return fE(),dE(),hE(),mE()}function mE(){if(Yn!==5)return!1;var i=Bs,a=og;og=0;var u=It(tl),h=D.T,v=G.p;try{G.p=32>u?32:u,D.T=null,u=ag,ag=null;var _=Bs,O=tl;if(Yn=0,el=Bs=null,tl=0,(Ht&6)!==0)throw Error(r(331));var F=Ht;if(Ht|=4,XS(_.current),KS(_,_.current,O,u),Ht=F,Fc(0,!1),S&&typeof S.onPostCommitFiberRoot=="function")try{S.onPostCommitFiberRoot(b,_)}catch{}return!0}finally{G.p=v,D.T=h,pE(i,a)}}function gE(i,a,u){a=jr(u,a),a=zm(i.stateNode,a,2),i=ks(i,a,2),i!==null&&(Xt(i,2),wi(i))}function Jt(i,a,u){if(i.tag===3)gE(i,i,u);else for(;a!==null;){if(a.tag===3){gE(a,i,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Us===null||!Us.has(h))){i=jr(u,i),u=bS(2),h=ks(a,u,2),h!==null&&(wS(u,h,a,i),Xt(h,2),wi(h));break}}a=a.return}}function dg(i,a,u){var h=i.pingCache;if(h===null){h=i.pingCache=new AM;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(u)||(ng=!0,v.add(u),i=NM.bind(null,i,a,u),a.then(i,i))}function NM(i,a,u){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,sn===i&&(Ot&u)===u&&(bn===4||bn===3&&(Ot&62914560)===Ot&&300>we()-sg?(Ht&2)===0&&nl(i,0):rg|=u,Ja===Ot&&(Ja=0)),wi(i)}function vE(i,a){a===0&&(a=Un()),i=Ua(i,a),i!==null&&(Xt(i,a),wi(i))}function MM(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),vE(i,u)}function DM(i,a){var u=0;switch(i.tag){case 13:var h=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),vE(i,u)}function PM(i,a){return Ne(i,a)}var nd=null,il=null,hg=!1,rd=!1,pg=!1,Yo=0;function wi(i){i!==il&&i.next===null&&(il===null?nd=il=i:il=il.next=i),rd=!0,hg||(hg=!0,jM())}function Fc(i,a){if(!pg&&rd){pg=!0;do for(var u=!1,h=nd;h!==null;){if(i!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var O=h.suspendedLanes,F=h.pingedLanes;_=(1<<31-j(42|i)+1)-1,_&=v&~(O&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,wE(h,_))}else _=Ot,_=lt(h,h===sn?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ot(h,_)||(u=!0,wE(h,_));h=h.next}while(u);pg=!1}}function LM(){yE()}function yE(){rd=hg=!1;var i=0;Yo!==0&&(qM()&&(i=Yo),Yo=0);for(var a=we(),u=null,h=nd;h!==null;){var v=h.next,_=_E(h,a);_===0?(h.next=null,u===null?nd=v:u.next=v,v===null&&(il=u)):(u=h,(i!==0||(_&3)!==0)&&(rd=!0)),h=v}Fc(i)}function _E(i,a){for(var u=i.suspendedLanes,h=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var O=31-j(_),F=1<<O,de=v[O];de===-1?((F&u)===0||(F&h)!==0)&&(v[O]=In(F,a)):de<=a&&(i.expiredLanes|=F),_&=~F}if(a=sn,u=Ot,u=lt(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===a&&(Wt===2||Wt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ie(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ot(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(h!==null&&Ie(h),It(u)){case 2:case 8:u=$;break;case 32:u=B;break;case 268435456:u=Te;break;default:u=B}return h=bE.bind(null,i),u=Ne(u,h),i.callbackPriority=a,i.callbackNode=u,a}return h!==null&&h!==null&&Ie(h),i.callbackPriority=2,i.callbackNode=null,2}function bE(i,a){if(Yn!==0&&Yn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(td()&&i.callbackNode!==u)return null;var h=Ot;return h=lt(i,i===sn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(nE(i,h,a),_E(i,we()),i.callbackNode!=null&&i.callbackNode===u?bE.bind(null,i):null)}function wE(i,a){if(td())return null;nE(i,a,!0)}function jM(){GM(function(){(Ht&6)!==0?Ne(ke,LM):yE()})}function mg(){return Yo===0&&(Yo=rn()),Yo}function SE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:pf(""+i)}function EE(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function UM(i,a,u,h,v){if(a==="submit"&&u&&u.stateNode===v){var _=SE((v[We]||null).action),O=h.submitter;O&&(a=(a=O[We]||null)?SE(a.formAction):O.getAttribute("formAction"),a!==null&&(_=a,O=null));var F=new yf("action","action",null,h,v);i.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Yo!==0){var de=O?EE(v,O):new FormData(v);Pm(u,{pending:!0,data:de,method:v.method,action:_},null,de)}}else typeof _=="function"&&(F.preventDefault(),de=O?EE(v,O):new FormData(v),Pm(u,{pending:!0,data:de,method:v.method,action:_},_,de))},currentTarget:v}]})}}for(var gg=0;gg<em.length;gg++){var vg=em[gg],BM=vg.toLowerCase(),zM=vg[0].toUpperCase()+vg.slice(1);Gr(BM,"on"+zM)}Gr(nw,"onAnimationEnd"),Gr(rw,"onAnimationIteration"),Gr(iw,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(rM,"onTransitionRun"),Gr(iM,"onTransitionStart"),Gr(sM,"onTransitionCancel"),Gr(sw,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),No("onBeforeInput",["compositionend","keypress","textInput","paste"]),No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function TE(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],v=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var O=h.length-1;0<=O;O--){var F=h[O],de=F.instance,Ce=F.currentTarget;if(F=F.listener,de!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=Ce;try{_(v)}catch(Le){Wf(Le)}v.currentTarget=null,_=de}else for(O=0;O<h.length;O++){if(F=h[O],de=F.instance,Ce=F.currentTarget,F=F.listener,de!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=Ce;try{_(v)}catch(Le){Wf(Le)}v.currentTarget=null,_=de}}}}function At(i,a){var u=a[pn];u===void 0&&(u=a[pn]=new Set);var h=i+"__bubble";u.has(h)||(xE(a,i,2,!1),u.add(h))}function yg(i,a,u){var h=0;a&&(h|=4),xE(u,i,h,a)}var id="_reactListening"+Math.random().toString(36).slice(2);function _g(i){if(!i[id]){i[id]=!0,gi.forEach(function(u){u!=="selectionchange"&&(FM.has(u)||yg(u,!1,i),yg(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[id]||(a[id]=!0,yg("selectionchange",!1,a))}}function xE(i,a,u,h){switch(KE(a)){case 2:var v=pD;break;case 8:v=mD;break;default:v=Mg}u=v.bind(null,a,u,i),v=void 0,!Fp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?i.addEventListener(a,u,{capture:!0,passive:v}):i.addEventListener(a,u,!0):v!==void 0?i.addEventListener(a,u,{passive:v}):i.addEventListener(a,u,!1)}function bg(i,a,u,h,v){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var F=h.stateNode.containerInfo;if(F===v)break;if(O===4)for(O=h.return;O!==null;){var de=O.tag;if((de===3||de===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;F!==null;){if(O=Li(F),O===null)return;if(de=O.tag,de===5||de===6||de===26||de===27){h=_=O;continue e}F=F.parentNode}}h=h.return}N0(function(){var Ce=_,Le=Bp(u),Be=[];e:{var Re=ow.get(i);if(Re!==void 0){var Oe=yf,mt=i;switch(i){case"keypress":if(gf(u)===0)break e;case"keydown":case"keyup":Oe=P2;break;case"focusin":mt="focus",Oe=qp;break;case"focusout":mt="blur",Oe=qp;break;case"beforeblur":case"afterblur":Oe=qp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=U2;break;case nw:case rw:case iw:Oe=C2;break;case sw:Oe=z2;break;case"scroll":case"scrollend":Oe=w2;break;case"wheel":Oe=V2;break;case"copy":case"cut":case"paste":Oe=R2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=j0;break;case"toggle":case"beforetoggle":Oe=W2}var ut=(a&4)!==0,Gt=!ut&&(i==="scroll"||i==="scrollend"),Ee=ut?Re!==null?Re+"Capture":null:Re;ut=[];for(var _e=Ce,xe;_e!==null;){var je=_e;if(xe=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||xe===null||Ee===null||(je=ac(_e,Ee),je!=null&&ut.push(Hc(_e,je,xe))),Gt)break;_e=_e.return}0<ut.length&&(Re=new Oe(Re,mt,null,u,Le),Be.push({event:Re,listeners:ut}))}}if((a&7)===0){e:{if(Re=i==="mouseover"||i==="pointerover",Oe=i==="mouseout"||i==="pointerout",Re&&u!==Up&&(mt=u.relatedTarget||u.fromElement)&&(Li(mt)||mt[Ke]))break e;if((Oe||Re)&&(Re=Le.window===Le?Le:(Re=Le.ownerDocument)?Re.defaultView||Re.parentWindow:window,Oe?(mt=u.relatedTarget||u.toElement,Oe=Ce,mt=mt?Li(mt):null,mt!==null&&(Gt=o(mt),ut=mt.tag,mt!==Gt||ut!==5&&ut!==27&&ut!==6)&&(mt=null)):(Oe=null,mt=Ce),Oe!==mt)){if(ut=P0,je="onMouseLeave",Ee="onMouseEnter",_e="mouse",(i==="pointerout"||i==="pointerover")&&(ut=j0,je="onPointerLeave",Ee="onPointerEnter",_e="pointer"),Gt=Oe==null?Re:ji(Oe),xe=mt==null?Re:ji(mt),Re=new ut(je,_e+"leave",Oe,u,Le),Re.target=Gt,Re.relatedTarget=xe,je=null,Li(Le)===Ce&&(ut=new ut(Ee,_e+"enter",mt,u,Le),ut.target=xe,ut.relatedTarget=Gt,je=ut),Gt=je,Oe&&mt)t:{for(ut=Oe,Ee=mt,_e=0,xe=ut;xe;xe=sl(xe))_e++;for(xe=0,je=Ee;je;je=sl(je))xe++;for(;0<_e-xe;)ut=sl(ut),_e--;for(;0<xe-_e;)Ee=sl(Ee),xe--;for(;_e--;){if(ut===Ee||Ee!==null&&ut===Ee.alternate)break t;ut=sl(ut),Ee=sl(Ee)}ut=null}else ut=null;Oe!==null&&CE(Be,Re,Oe,ut,!1),mt!==null&&Gt!==null&&CE(Be,Gt,mt,ut,!0)}}e:{if(Re=Ce?ji(Ce):window,Oe=Re.nodeName&&Re.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Re.type==="file")var tt=q0;else if(H0(Re))if($0)tt=eM;else{tt=X2;var Et=Z2}else Oe=Re.nodeName,!Oe||Oe.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ce&&jp(Ce.elementType)&&(tt=q0):tt=J2;if(tt&&(tt=tt(i,Ce))){W0(Be,tt,u,Le);break e}Et&&Et(i,Re,Ce),i==="focusout"&&Ce&&Re.type==="number"&&Ce.memoizedProps.value!=null&&Lp(Re,"number",Re.value)}switch(Et=Ce?ji(Ce):window,i){case"focusin":(H0(Et)||Et.contentEditable==="true")&&(Pa=Et,Zp=Ce,mc=null);break;case"focusout":mc=Zp=Pa=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,ew(Be,u,Le);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":ew(Be,u,Le)}var at;if(Gp)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Da?F0(i,u)&&(dt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(dt="onCompositionStart");dt&&(U0&&u.locale!=="ko"&&(Da||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Da&&(at=M0()):(xs=Le,Vp="value"in xs?xs.value:xs.textContent,Da=!0)),Et=sd(Ce,dt),0<Et.length&&(dt=new L0(dt,i,null,u,Le),Be.push({event:dt,listeners:Et}),at?dt.data=at:(at=V0(u),at!==null&&(dt.data=at)))),(at=$2?G2(i,u):Y2(i,u))&&(dt=sd(Ce,"onBeforeInput"),0<dt.length&&(Et=new L0("onBeforeInput","beforeinput",null,u,Le),Be.push({event:Et,listeners:dt}),Et.data=at)),UM(Be,i,Ce,u,Le)}TE(Be,a)})}function Hc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function sd(i,a){for(var u=a+"Capture",h=[];i!==null;){var v=i,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=ac(i,u),v!=null&&h.unshift(Hc(i,v,_)),v=ac(i,a),v!=null&&h.push(Hc(i,v,_))),i.tag===3)return h;i=i.return}return[]}function sl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function CE(i,a,u,h,v){for(var _=a._reactName,O=[];u!==null&&u!==h;){var F=u,de=F.alternate,Ce=F.stateNode;if(F=F.tag,de!==null&&de===h)break;F!==5&&F!==26&&F!==27||Ce===null||(de=Ce,v?(Ce=ac(u,_),Ce!=null&&O.unshift(Hc(u,Ce,de))):v||(Ce=ac(u,_),Ce!=null&&O.push(Hc(u,Ce,de)))),u=u.return}O.length!==0&&i.push({event:a,listeners:O})}var VM=/\r\n?/g,HM=/\u0000|\uFFFD/g;function AE(i){return(typeof i=="string"?i:""+i).replace(VM,`
`).replace(HM,"")}function RE(i,a){return a=AE(a),AE(i)===a}function od(){}function $t(i,a,u,h,v,_){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Ia(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Ia(i,""+h);break;case"className":ff(i,"class",h);break;case"tabIndex":ff(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ff(i,u,h);break;case"style":O0(i,h,_);break;case"data":if(a!=="object"){ff(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=pf(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(a!=="input"&&$t(i,a,"name",v.name,v,null),$t(i,a,"formEncType",v.formEncType,v,null),$t(i,a,"formMethod",v.formMethod,v,null),$t(i,a,"formTarget",v.formTarget,v,null)):($t(i,a,"encType",v.encType,v,null),$t(i,a,"method",v.method,v,null),$t(i,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=pf(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=od);break;case"onScroll":h!=null&&At("scroll",i);break;case"onScrollEnd":h!=null&&At("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=pf(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":At("beforetoggle",i),At("toggle",i),uf(i,"popover",h);break;case"xlinkActuate":Ui(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ui(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ui(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ui(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ui(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ui(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ui(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ui(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ui(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":uf(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=_2.get(u)||u,uf(i,u,h))}}function wg(i,a,u,h,v,_){switch(u){case"style":O0(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?Ia(i,h):(typeof h=="number"||typeof h=="bigint")&&Ia(i,""+h);break;case"onScroll":h!=null&&At("scroll",i);break;case"onScrollEnd":h!=null&&At("scrollend",i);break;case"onClick":h!=null&&(i.onclick=od);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),_=i[We]||null,_=_!=null?_[u]:null,typeof _=="function"&&i.removeEventListener(a,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,h,v);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):uf(i,u,h)}}}function Kn(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",i),At("load",i);var h=!1,v=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var O=u[_];if(O!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:$t(i,a,_,O,u,null)}}v&&$t(i,a,"srcSet",u.srcSet,u,null),h&&$t(i,a,"src",u.src,u,null);return;case"input":At("invalid",i);var F=_=O=v=null,de=null,Ce=null;for(h in u)if(u.hasOwnProperty(h)){var Le=u[h];if(Le!=null)switch(h){case"name":v=Le;break;case"type":O=Le;break;case"checked":de=Le;break;case"defaultChecked":Ce=Le;break;case"value":_=Le;break;case"defaultValue":F=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,a));break;default:$t(i,a,h,Le,u,null)}}C0(i,_,F,de,Ce,O,v,!1),df(i);return;case"select":At("invalid",i),h=O=_=null;for(v in u)if(u.hasOwnProperty(v)&&(F=u[v],F!=null))switch(v){case"value":_=F;break;case"defaultValue":O=F;break;case"multiple":h=F;default:$t(i,a,v,F,u,null)}a=_,u=O,i.multiple=!!h,a!=null?Oa(i,!!h,a,!1):u!=null&&Oa(i,!!h,u,!0);return;case"textarea":At("invalid",i),_=v=h=null;for(O in u)if(u.hasOwnProperty(O)&&(F=u[O],F!=null))switch(O){case"value":h=F;break;case"defaultValue":v=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:$t(i,a,O,F,u,null)}R0(i,h,v,_),df(i);return;case"option":for(de in u)if(u.hasOwnProperty(de)&&(h=u[de],h!=null))switch(de){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:$t(i,a,de,h,u,null)}return;case"dialog":At("beforetoggle",i),At("toggle",i),At("cancel",i),At("close",i);break;case"iframe":case"object":At("load",i);break;case"video":case"audio":for(h=0;h<Vc.length;h++)At(Vc[h],i);break;case"image":At("error",i),At("load",i);break;case"details":At("toggle",i);break;case"embed":case"source":case"link":At("error",i),At("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in u)if(u.hasOwnProperty(Ce)&&(h=u[Ce],h!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:$t(i,a,Ce,h,u,null)}return;default:if(jp(a)){for(Le in u)u.hasOwnProperty(Le)&&(h=u[Le],h!==void 0&&wg(i,a,Le,h,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(h=u[F],h!=null&&$t(i,a,F,h,u,null))}function WM(i,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,O=null,F=null,de=null,Ce=null,Le=null;for(Oe in u){var Be=u[Oe];if(u.hasOwnProperty(Oe)&&Be!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":de=Be;default:h.hasOwnProperty(Oe)||$t(i,a,Oe,null,h,Be)}}for(var Re in h){var Oe=h[Re];if(Be=u[Re],h.hasOwnProperty(Re)&&(Oe!=null||Be!=null))switch(Re){case"type":_=Oe;break;case"name":v=Oe;break;case"checked":Ce=Oe;break;case"defaultChecked":Le=Oe;break;case"value":O=Oe;break;case"defaultValue":F=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:Oe!==Be&&$t(i,a,Re,Oe,h,Be)}}Pp(i,O,F,de,Ce,Le,_,v);return;case"select":Oe=O=F=Re=null;for(_ in u)if(de=u[_],u.hasOwnProperty(_)&&de!=null)switch(_){case"value":break;case"multiple":Oe=de;default:h.hasOwnProperty(_)||$t(i,a,_,null,h,de)}for(v in h)if(_=h[v],de=u[v],h.hasOwnProperty(v)&&(_!=null||de!=null))switch(v){case"value":Re=_;break;case"defaultValue":F=_;break;case"multiple":O=_;default:_!==de&&$t(i,a,v,_,h,de)}a=F,u=O,h=Oe,Re!=null?Oa(i,!!u,Re,!1):!!h!=!!u&&(a!=null?Oa(i,!!u,a,!0):Oa(i,!!u,u?[]:"",!1));return;case"textarea":Oe=Re=null;for(F in u)if(v=u[F],u.hasOwnProperty(F)&&v!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:$t(i,a,F,null,h,v)}for(O in h)if(v=h[O],_=u[O],h.hasOwnProperty(O)&&(v!=null||_!=null))switch(O){case"value":Re=v;break;case"defaultValue":Oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&$t(i,a,O,v,h,_)}A0(i,Re,Oe);return;case"option":for(var mt in u)if(Re=u[mt],u.hasOwnProperty(mt)&&Re!=null&&!h.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:$t(i,a,mt,null,h,Re)}for(de in h)if(Re=h[de],Oe=u[de],h.hasOwnProperty(de)&&Re!==Oe&&(Re!=null||Oe!=null))switch(de){case"selected":i.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:$t(i,a,de,Re,h,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)Re=u[ut],u.hasOwnProperty(ut)&&Re!=null&&!h.hasOwnProperty(ut)&&$t(i,a,ut,null,h,Re);for(Ce in h)if(Re=h[Ce],Oe=u[Ce],h.hasOwnProperty(Ce)&&Re!==Oe&&(Re!=null||Oe!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,a));break;default:$t(i,a,Ce,Re,h,Oe)}return;default:if(jp(a)){for(var Gt in u)Re=u[Gt],u.hasOwnProperty(Gt)&&Re!==void 0&&!h.hasOwnProperty(Gt)&&wg(i,a,Gt,void 0,h,Re);for(Le in h)Re=h[Le],Oe=u[Le],!h.hasOwnProperty(Le)||Re===Oe||Re===void 0&&Oe===void 0||wg(i,a,Le,Re,h,Oe);return}}for(var Ee in u)Re=u[Ee],u.hasOwnProperty(Ee)&&Re!=null&&!h.hasOwnProperty(Ee)&&$t(i,a,Ee,null,h,Re);for(Be in h)Re=h[Be],Oe=u[Be],!h.hasOwnProperty(Be)||Re===Oe||Re==null&&Oe==null||$t(i,a,Be,Re,h,Oe)}var Sg=null,Eg=null;function ad(i){return i.nodeType===9?i:i.ownerDocument}function kE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Tg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xg=null;function qM(){var i=window.event;return i&&i.type==="popstate"?i===xg?!1:(xg=i,!0):(xg=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,$M=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,GM=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(i){return NE.resolve(null).then(i).catch(YM)}:IE;function YM(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function ME(i,a){var u=a,h=0,v=0;do{var _=u.nextSibling;if(i.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<h&&8>h){u=h;var O=i.ownerDocument;if(u&1&&Wc(O.documentElement),u&2&&Wc(O.body),u&4)for(u=O.head,Wc(u),O=u.firstChild;O;){var F=O.nextSibling,de=O.nodeName;O[Io]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=F}}if(v===0){i.removeChild(_),Xc(a);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:h=u.charCodeAt(0)-48;else h=0;u=_}while(u);Xc(a)}function Cg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cg(u),Aa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function KM(i,a,u,h){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Io])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Kr(i.nextSibling),i===null)break}return null}function QM(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Kr(i.nextSibling),i===null))return null;return i}function Ag(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function ZM(i,a){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Kr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Rg=null;function DE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}function PE(i,a,u){switch(a=ad(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Aa(i)}var Hr=new Map,LE=new Set;function ld(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xi=G.d;G.d={f:XM,r:JM,D:eD,C:tD,L:nD,m:rD,X:sD,S:iD,M:oD};function XM(){var i=Xi.f(),a=Jf();return i||a}function JM(i){var a=pi(i);a!==null&&a.tag===5&&a.type==="form"?nS(a):Xi.r(i)}var ol=typeof document>"u"?null:document;function jE(i,a,u){var h=ol;if(h&&typeof a=="string"&&a){var v=Lr(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),LE.has(v)||(LE.add(v),i={rel:i,crossOrigin:u,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),Kn(a,"link",i),cn(a),h.head.appendChild(a)))}}function eD(i){Xi.D(i),jE("dns-prefetch",i,null)}function tD(i,a){Xi.C(i,a),jE("preconnect",i,a)}function nD(i,a,u){Xi.L(i,a,u);var h=ol;if(h&&i&&a){var v='link[rel="preload"][as="'+Lr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Lr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Lr(u.imageSizes)+'"]')):v+='[href="'+Lr(i)+'"]';var _=v;switch(a){case"style":_=al(i);break;case"script":_=ll(i)}Hr.has(_)||(i=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Hr.set(_,i),h.querySelector(v)!==null||a==="style"&&h.querySelector(qc(_))||a==="script"&&h.querySelector($c(_))||(a=h.createElement("link"),Kn(a,"link",i),cn(a),h.head.appendChild(a)))}}function rD(i,a){Xi.m(i,a);var u=ol;if(u&&i){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(i)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ll(i)}if(!Hr.has(_)&&(i=p({rel:"modulepreload",href:i},a),Hr.set(_,i),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector($c(_)))return}h=u.createElement("link"),Kn(h,"link",i),cn(h),u.head.appendChild(h)}}}function iD(i,a,u){Xi.S(i,a,u);var h=ol;if(h&&i){var v=mi(h).hoistableStyles,_=al(i);a=a||"default";var O=v.get(_);if(!O){var F={loading:0,preload:null};if(O=h.querySelector(qc(_)))F.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Hr.get(_))&&kg(i,u);var de=O=h.createElement("link");cn(de),Kn(de,"link",i),de._p=new Promise(function(Ce,Le){de.onload=Ce,de.onerror=Le}),de.addEventListener("load",function(){F.loading|=1}),de.addEventListener("error",function(){F.loading|=2}),F.loading|=4,cd(O,a,h)}O={type:"stylesheet",instance:O,count:1,state:F},v.set(_,O)}}}function sD(i,a){Xi.X(i,a);var u=ol;if(u&&i){var h=mi(u).hoistableScripts,v=ll(i),_=h.get(v);_||(_=u.querySelector($c(v)),_||(i=p({src:i,async:!0},a),(a=Hr.get(v))&&Og(i,a),_=u.createElement("script"),cn(_),Kn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function oD(i,a){Xi.M(i,a);var u=ol;if(u&&i){var h=mi(u).hoistableScripts,v=ll(i),_=h.get(v);_||(_=u.querySelector($c(v)),_||(i=p({src:i,async:!0,type:"module"},a),(a=Hr.get(v))&&Og(i,a),_=u.createElement("script"),cn(_),Kn(_,"link",i),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function UE(i,a,u,h){var v=(v=Ae.current)?ld(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=al(u.href),u=mi(v).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=al(u.href);var _=mi(v).hoistableStyles,O=_.get(i);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,O),(_=v.querySelector(qc(i)))&&!_._p&&(O.instance=_,O.state.loading=5),Hr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Hr.set(i,u),_||aD(v,i,u,O.state))),a&&h===null)throw Error(r(528,""));return O}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(u),u=mi(v).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function al(i){return'href="'+Lr(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function BE(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function aD(i,a,u,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Kn(a,"link",u),cn(a),i.head.appendChild(a))}function ll(i){return'[src="'+Lr(i)+'"]'}function $c(i){return"script[async]"+i}function zE(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Lr(u.href)+'"]');if(h)return a.instance=h,cn(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),cn(h),Kn(h,"style",v),cd(h,u.precedence,i),a.instance=h;case"stylesheet":v=al(u.href);var _=i.querySelector(qc(v));if(_)return a.state.loading|=4,a.instance=_,cn(_),_;h=BE(u),(v=Hr.get(v))&&kg(h,v),_=(i.ownerDocument||i).createElement("link"),cn(_);var O=_;return O._p=new Promise(function(F,de){O.onload=F,O.onerror=de}),Kn(_,"link",h),a.state.loading|=4,cd(_,u.precedence,i),a.instance=_;case"script":return _=ll(u.src),(v=i.querySelector($c(_)))?(a.instance=v,cn(v),v):(h=u,(v=Hr.get(_))&&(h=p({},u),Og(h,v)),i=i.ownerDocument||i,v=i.createElement("script"),cn(v),Kn(v,"link",h),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,cd(h,u.precedence,i));return a.instance}function cd(i,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,O=0;O<h.length;O++){var F=h[O];if(F.dataset.precedence===a)_=F;else if(_!==v)break}_?_.parentNode.insertBefore(i,_.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function kg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Og(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ud=null;function FE(i,a,u){if(ud===null){var h=new Map,v=ud=new Map;v.set(u,h)}else v=ud,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var _=u[v];if(!(_[Io]||_[Ue]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(a)||"";O=i+O;var F=h.get(O);F?F.push(_):h.set(O,[_])}}return h}function VE(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function lD(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function HE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Gc=null;function cD(){}function uD(i,a,u){if(Gc===null)throw Error(r(475));var h=Gc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=al(u.href),_=i.querySelector(qc(v));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=fd.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=_,cn(_);return}_=i.ownerDocument||i,u=BE(u),(v=Hr.get(v))&&kg(u,v),_=_.createElement("link"),cn(_);var O=_;O._p=new Promise(function(F,de){O.onload=F,O.onerror=de}),Kn(_,"link",u),a.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=fd.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function fD(){if(Gc===null)throw Error(r(475));var i=Gc;return i.stylesheets&&i.count===0&&Ig(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&Ig(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function fd(){if(this.count--,this.count===0){if(this.stylesheets)Ig(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var dd=null;function Ig(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,dd=new Map,a.forEach(dD,i),dd=null,fd.call(i))}function dD(i,a){if(!(a.state.loading&4)){var u=dd.get(i);if(u)var h=u.get(null);else{u=new Map,dd.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var O=v[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),h=O)}h&&u.set(null,h)}v=a.instance,O=v.getAttribute("data-precedence"),_=u.get(O)||h,_===h&&u.set(null,v),u.set(O,v),this.count++,h=fd.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var Yc={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function hD(i,a,u,h,v,_,O,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function WE(i,a,u,h,v,_,O,F,de,Ce,Le,Be){return i=new hD(i,a,u,O,F,de,Ce,Be),a=1,_===!0&&(a|=24),_=Er(3,null,null,a),i.current=_,_.stateNode=i,a=dm(),a.refCount++,i.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:u,cache:a},gm(_),i}function qE(i){return i?(i=Ba,i):Ba}function $E(i,a,u,h,v,_){v=qE(v),h.context===null?h.context=v:h.pendingContext=v,h=Rs(a),h.payload={element:u},_=_===void 0?null:_,_!==null&&(h.callback=_),u=ks(i,h,a),u!==null&&(Rr(u,i,a),Tc(u,i,a))}function GE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Ng(i,a){GE(i,a),(i=i.alternate)&&GE(i,a)}function YE(i){if(i.tag===13){var a=Ua(i,67108864);a!==null&&Rr(a,i,67108864),Ng(i,67108864)}}var hd=!0;function pD(i,a,u,h){var v=D.T;D.T=null;var _=G.p;try{G.p=2,Mg(i,a,u,h)}finally{G.p=_,D.T=v}}function mD(i,a,u,h){var v=D.T;D.T=null;var _=G.p;try{G.p=8,Mg(i,a,u,h)}finally{G.p=_,D.T=v}}function Mg(i,a,u,h){if(hd){var v=Dg(h);if(v===null)bg(i,a,h,pd,u),QE(i,h);else if(vD(v,i,a,u,h))h.stopPropagation();else if(QE(i,h),a&4&&-1<gD.indexOf(i)){for(;v!==null;){var _=pi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=Je(_.pendingLanes);if(O!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var de=1<<31-j(O);F.entanglements[1]|=de,O&=~de}wi(_),(Ht&6)===0&&(Zf=we()+500,Fc(0))}}break;case 13:F=Ua(_,2),F!==null&&Rr(F,_,2),Jf(),Ng(_,2)}if(_=Dg(h),_===null&&bg(i,a,h,pd,u),_===v)break;v=_}v!==null&&h.stopPropagation()}else bg(i,a,h,null,u)}}function Dg(i){return i=Bp(i),Pg(i)}var pd=null;function Pg(i){if(pd=null,i=Li(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=l(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return pd=i,null}function KE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case ke:return 2;case $:return 8;case B:case oe:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Lg=!1,Vs=null,Hs=null,Ws=null,Kc=new Map,Qc=new Map,qs=[],gD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(i,a){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(a.pointerId)}}function Zc(i,a,u,h,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},a!==null&&(a=pi(a),a!==null&&YE(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function vD(i,a,u,h,v){switch(a){case"focusin":return Vs=Zc(Vs,i,a,u,h,v),!0;case"dragenter":return Hs=Zc(Hs,i,a,u,h,v),!0;case"mouseover":return Ws=Zc(Ws,i,a,u,h,v),!0;case"pointerover":var _=v.pointerId;return Kc.set(_,Zc(Kc.get(_)||null,i,a,u,h,v)),!0;case"gotpointercapture":return _=v.pointerId,Qc.set(_,Zc(Qc.get(_)||null,i,a,u,h,v)),!0}return!1}function ZE(i){var a=Li(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){i.blockedOn=a,Y(i.priority,function(){if(u.tag===13){var h=Ar();h=_t(h);var v=Ua(u,h);v!==null&&Rr(v,u,h),Ng(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Dg(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Up=h,u.target.dispatchEvent(h),Up=null}else return a=pi(u),a!==null&&YE(a),i.blockedOn=u,!1;a.shift()}return!0}function XE(i,a,u){md(i)&&u.delete(a)}function yD(){Lg=!1,Vs!==null&&md(Vs)&&(Vs=null),Hs!==null&&md(Hs)&&(Hs=null),Ws!==null&&md(Ws)&&(Ws=null),Kc.forEach(XE),Qc.forEach(XE)}function gd(i,a){i.blockedOn===a&&(i.blockedOn=null,Lg||(Lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yD)))}var vd=null;function JE(i){vd!==i&&(vd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vd===i&&(vd=null);for(var a=0;a<i.length;a+=3){var u=i[a],h=i[a+1],v=i[a+2];if(typeof h!="function"){if(Pg(h||u)===null)continue;break}var _=pi(u);_!==null&&(i.splice(a,3),a-=3,Pm(_,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function Xc(i){function a(de){return gd(de,i)}Vs!==null&&gd(Vs,i),Hs!==null&&gd(Hs,i),Ws!==null&&gd(Ws,i),Kc.forEach(a),Qc.forEach(a);for(var u=0;u<qs.length;u++){var h=qs[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<qs.length&&(u=qs[0],u.blockedOn===null);)ZE(u),u.blockedOn===null&&qs.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],_=u[h+1],O=v[We]||null;if(typeof _=="function")O||JE(u);else if(O){var F=null;if(_&&_.hasAttribute("formAction")){if(v=_,O=_[We]||null)F=O.formAction;else if(Pg(v)!==null)continue}else F=O.action;typeof F=="function"?u[h+1]=F:(u.splice(h,3),h-=3),JE(u)}}}function jg(i){this._internalRoot=i}yd.prototype.render=jg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Ar();$E(u,h,i,a,null,null)},yd.prototype.unmount=jg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;$E(i.current,2,null,i,null,null),Jf(),a[Ke]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Xn();i={blockedOn:null,target:i,priority:a};for(var u=0;u<qs.length&&a!==0&&a<qs[u].priority;u++);qs.splice(u,0,i),u===0&&ZE(i)}};var e1=e.version;if(e1!=="19.1.0")throw Error(r(527,e1,"19.1.0"));G.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var _D={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{b=_d.inject(_D),S=_d}catch{}}return eu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,h="",v=gS,_=vS,O=yS,F=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks)),a=WE(i,1,!1,null,null,u,h,v,_,O,F,null),i[Ke]=a.current,_g(i),new jg(a)},eu.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var h=!1,v="",_=gS,O=vS,F=yS,de=null,Ce=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(de=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ce=u.formState)),a=WE(i,1,!0,a,u??null,h,v,_,O,F,de,Ce),a.context=qE(null),u=a.current,h=Ar(),h=_t(h),v=Rs(h),v.callback=null,ks(u,v,h),u=h,a.current.lanes=u,Xt(a,u),wi(a),i[Ke]=a.current,_g(i),new yd(a)},eu.version="19.1.0",eu}var f1;function ID(){if(f1)return Fg.exports;f1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=OD(),Fg.exports}var ND=ID();/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=()=>{};var d1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye=function(t,e){if(!t)throw Vl(e)},Vl=function(t){return new Error("Firebase Database ("+CC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},H_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,p=o>>2,m=(o&3)<<4|c>>4;let g=(c&15)<<2|d>>6,y=d&63;f||(y=64,l||(g=64)),r.push(n[p],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||d==null||m==null)throw new PD;const g=o<<2|c>>4;if(r.push(g),d!==64){const y=c<<4&240|d>>2;if(r.push(y),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RC=function(t){const e=AC(t);return H_.encodeByteArray(e,!0)},ih=function(t){return RC(t).replace(/\./g,"")},sh=function(t){try{return H_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){return kC(void 0,t)}function kC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jD(n)||(t[n]=kC(t[n],e[n]));return t}function jD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=()=>UD().__FIREBASE_DEFAULTS__,zD=()=>{if(typeof process>"u"||typeof d1>"u")return;const t=d1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sh(t[1]);return e&&JSON.parse(e)},W_=()=>{try{return MD()||BD()||zD()||FD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OC=t=>{var e,n;return(n=(e=W_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VD=t=>{const e=OC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IC=()=>{var t;return(t=W_())===null||t===void 0?void 0:t.config},NC=t=>{var e;return(e=W_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return t.endsWith(".cloudworkstations.dev")}async function MC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ih(JSON.stringify(n)),ih(JSON.stringify(l)),""].join(".")}const yu={};function WD(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function qD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let h1=!1;function DC(t,e){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||yu[t]===e||yu[t]||h1)return;yu[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=WD().prod.length>0;function l(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function f(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{h1=!0,l()},g}function p(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=qD(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),C=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),T=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;c(A),p(C,E);const z=d();f(T,k),A.append(T,w,C,z),document.body.appendChild(A)}o?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){const t=or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KD(){return CC.NODE_ADMIN===!0}function QD(){try{return typeof indexedDB=="object"}catch{return!1}}function ZD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="FirebaseError";class To extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XD,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?JD(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new To(s,c,r)}}function JD(t,e){return t.replace(eP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){return JSON.parse(t)}function Ln(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=ku(sh(o[0])||""),n=ku(sh(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},tP=function(t){const e=LC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nP=function(t){const e=LC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(p1(o)&&p1(l)){if(!ua(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function p1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],f=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=c^o&(l^c),p=1518500249):(d=o^l^c,p=1859775393):m<60?(d=o&l|c&(o|l),p=2400959708):(d=o^l^c,p=3395469782);const g=(s<<5|s>>>27)+d+f+p+r[m]&4294967295;f=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<n;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function iP(t,e){const n=new sP(t,e);return n.subscribe.bind(n)}class sP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qg),s.error===void 0&&(s.error=qg),s.complete===void 0&&(s.complete=qg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qg(){}function $_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,Ye(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;s=65536+(o<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){return t&&t._delegate?t._delegate:t}class fa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(t){return t===Jo?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qt||(Qt={}));const dP={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},hP=Qt.INFO,pP={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},mP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G_{constructor(e){this.name=e,this._logLevel=hP,this._logHandler=mP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const gP=(t,e)=>e.some(n=>t instanceof n);let m1,g1;function vP(){return m1||(m1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yP(){return g1||(g1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jC=new WeakMap,Mv=new WeakMap,UC=new WeakMap,$g=new WeakMap,Y_=new WeakMap;function _P(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(lo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&jC.set(n,t)}).catch(()=>{}),Y_.set(e,t),e}function bP(t){if(Mv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Mv.set(t,e)}let Dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wP(t){Dv=t(Dv)}function SP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gg(this),e,...n);return UC.set(r,e.sort?e.sort():[e]),lo(r)}:yP().includes(t)?function(...e){return t.apply(Gg(this),e),lo(jC.get(this))}:function(...e){return lo(t.apply(Gg(this),e))}}function EP(t){return typeof t=="function"?SP(t):(t instanceof IDBTransaction&&bP(t),gP(t,vP())?new Proxy(t,Dv):t)}function lo(t){if(t instanceof IDBRequest)return _P(t);if($g.has(t))return $g.get(t);const e=EP(t);return e!==t&&($g.set(t,e),Y_.set(e,t)),e}const Gg=t=>Y_.get(t);function TP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=lo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(lo(l.result),f.oldVersion,f.newVersion,lo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const xP=["get","getKey","getAll","getAllKeys","count"],CP=["put","add","delete","clear"],Yg=new Map;function v1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xP.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&f.done]))[0]};return Yg.set(e,o),o}wP(t=>({...t,get:(e,n,r)=>v1(e,n)||t.get(e,n,r),has:(e,n)=>!!v1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pv="@firebase/app",y1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new G_("@firebase/app"),kP="@firebase/app-compat",OP="@firebase/analytics-compat",IP="@firebase/analytics",NP="@firebase/app-check-compat",MP="@firebase/app-check",DP="@firebase/auth",PP="@firebase/auth-compat",LP="@firebase/database",jP="@firebase/data-connect",UP="@firebase/database-compat",BP="@firebase/functions",zP="@firebase/functions-compat",FP="@firebase/installations",VP="@firebase/installations-compat",HP="@firebase/messaging",WP="@firebase/messaging-compat",qP="@firebase/performance",$P="@firebase/performance-compat",GP="@firebase/remote-config",YP="@firebase/remote-config-compat",KP="@firebase/storage",QP="@firebase/storage-compat",ZP="@firebase/firestore",XP="@firebase/ai",JP="@firebase/firestore-compat",e4="firebase",t4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="[DEFAULT]",n4={[Pv]:"fire-core",[kP]:"fire-core-compat",[IP]:"fire-analytics",[OP]:"fire-analytics-compat",[MP]:"fire-app-check",[NP]:"fire-app-check-compat",[DP]:"fire-auth",[PP]:"fire-auth-compat",[LP]:"fire-rtdb",[jP]:"fire-data-connect",[UP]:"fire-rtdb-compat",[BP]:"fire-fn",[zP]:"fire-fn-compat",[FP]:"fire-iid",[VP]:"fire-iid-compat",[HP]:"fire-fcm",[WP]:"fire-fcm-compat",[qP]:"fire-perf",[$P]:"fire-perf-compat",[GP]:"fire-rc",[YP]:"fire-rc-compat",[KP]:"fire-gcs",[QP]:"fire-gcs-compat",[ZP]:"fire-fst",[JP]:"fire-fst-compat",[XP]:"fire-vertex","fire-js":"fire-js",[e4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,r4=new Map,jv=new Map;function _1(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(jv.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;jv.set(e,t);for(const n of ah.values())_1(n,t);for(const n of r4.values())_1(n,t);return!0}function K_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Gu("app","Firebase",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=t4;function BC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw co.create("bad-app-name",{appName:String(s)});if(n||(n=IC()),!n)throw co.create("no-options");const o=ah.get(s);if(o){if(ua(n,o.options)&&ua(r,o.config))return o;throw co.create("duplicate-app",{appName:s})}const l=new fP(s);for(const f of jv.values())l.addComponent(f);const c=new s4(n,r,l);return ah.set(s,c),c}function zC(t=Lv){const e=ah.get(t);if(!e&&t===Lv&&IC())return BC();if(!e)throw co.create("no-app",{appName:t});return e}function uo(t,e,n){var r;let s=(r=n4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(c.join(" "));return}Ol(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-heartbeat-database",a4=1,Ou="firebase-heartbeat-store";let Kg=null;function FC(){return Kg||(Kg=TP(o4,a4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),Kg}async function l4(t){try{const n=(await FC()).transaction(Ou),r=await n.objectStore(Ou).get(VC(t));return await n.done,r}catch(e){if(e instanceof To)ds.warn(e.message);else{const n=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function b1(t,e){try{const r=(await FC()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,VC(t)),await r.done}catch(n){if(n instanceof To)ds.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function VC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,u4=30;class f4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=w1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>u4){const l=p4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w1(),{heartbeatsToSend:r,unsentEntries:s}=d4(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ds.warn(n),""}}}function w1(){return new Date().toISOString().substring(0,10)}function d4(t,e=c4){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),S1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QD()?ZD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return b1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return b1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S1(t){return ih(JSON.stringify({version:2,heartbeats:t})).length}function p4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){Ol(new fa("platform-logger",e=>new AP(e),"PRIVATE")),Ol(new fa("heartbeat",e=>new f4(e),"PRIVATE")),uo(Pv,y1,t),uo(Pv,y1,"esm2017"),uo("fire-js","")}m4("");var Ti=function(){return Ti=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ti.apply(this,arguments)};function Yu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function g4(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function HC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v4=HC,WC=new Gu("auth","Firebase",HC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new G_("@firebase/auth");function y4(t,...e){lh.logLevel<=Qt.WARN&&lh.warn(`Auth (${ql}): ${t}`,...e)}function zd(t,...e){lh.logLevel<=Qt.ERROR&&lh.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,...e){throw Q_(t,...e)}function Ri(t,...e){return Q_(t,...e)}function qC(t,e,n){const r=Object.assign(Object.assign({},v4()),{[e]:n});return new Gu("auth","Firebase",r).create(e,{appName:t.name})}function fo(t){return qC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function ht(t,e,...n){if(!t)throw Q_(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function hs(t,e){t||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _4(){return E1()==="http:"||E1()==="https:"}function E1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_4()||GD()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=q_()||PC()}get(){return b4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T4=new Ku(3e4,6e4);function wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xo(t,e,n,r,s={}){return GC(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Wl(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return $D()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Hl(t.emulatorConfig.host)&&(d.credentials="include"),$C.fetch()(await YC(t,t.config.apiHost,n,c),d)})}async function GC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S4),e);try{const s=new C4(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw wd(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qC(t,p,d);ai(t,p)}}catch(s){if(s instanceof To)throw s;ai(t,"network-request-failed",{message:String(s)})}}async function ep(t,e,n,r,s={}){const o=await xo(t,e,n,r,s);return"mfaPendingCredential"in o&&ai(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function YC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Z_(t.config,s):`${t.config.apiScheme}://${s}`;return E4.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function x4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),T4.get())})}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ri(t,e,r);return s.customData._tokenResponse=n,s}function T1(t){return t!==void 0&&t.enterprise!==void 0}class A4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R4(t,e){return xo(t,"GET","/v2/recaptchaConfig",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){return xo(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return xo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(t,e=!1){const n=wr(t),r=await n.getIdToken(e),s=X_(r);ht(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:_u(Qg(s.auth_time)),issuedAtTime:_u(Qg(s.iat)),expirationTime:_u(Qg(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qg(t){return Number(t)*1e3}function X_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const s=sh(n);return s?JSON.parse(s):(zd("Failed to decode base64 JWT payload"),null)}catch(s){return zd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function x1(t){const e=X_(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof To&&I4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Iu(t,ch(n,{idToken:r}));ht(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KC(o.providerUserInfo):[],c=D4(t.providerData,l),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=f?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Bv(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function M4(t){const e=wr(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function KC(t){return t.map(e=>{var{providerId:n}=e,r=Yu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){const n=await GC(t,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await YC(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Hl(t.emulatorConfig.host)&&(f.credentials="include"),$C.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L4(t,e){return xo(t,"POST","/v2/accounts:revokeToken",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=x1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await P4(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new bl;return r&&(ht(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ht(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(ht(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O4(this,e)}reload(){return M4(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(fo(this.auth));const e=await this.getIdToken();return await Iu(this,k4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,c,f,d,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:z,isAnonymous:N,providerData:M,stsTokenManager:I}=n;ht(A&&I,e,"internal-error");const P=bl.fromJSON(this.name,I);ht(typeof A=="string",e,"internal-error"),Gs(m,e.name),Gs(g,e.name),ht(typeof z=="boolean",e,"internal-error"),ht(typeof N=="boolean",e,"internal-error"),Gs(y,e.name),Gs(w,e.name),Gs(E,e.name),Gs(C,e.name),Gs(k,e.name),Gs(T,e.name);const Q=new ri({uid:A,auth:e,email:g,emailVerified:z,displayName:m,isAnonymous:N,photoURL:w,phoneNumber:y,tenantId:E,stsTokenManager:P,createdAt:k,lastLoginAt:T});return M&&Array.isArray(M)&&(Q.providerData=M.map(ne=>Object.assign({},ne))),C&&(Q._redirectEventId=C),Q}static async _fromIdTokenResponse(e,n,r=!1){const s=new bl;s.updateFromServerResponse(n);const o=new ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ht(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?KC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new bl;c.updateFromIdToken(r);const f=new ri({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Bv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;function ls(t){hs(t instanceof Function,"Expected a class definition");let e=C1.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const A1=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Fd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Fd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(ls(A1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ls(A1);const l=Fd(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let m;if(typeof p=="string"){const g=await ch(e,{idToken:p}).catch(()=>{});if(!g)break;m=await ri._fromGetAccountInfoResponse(e,g,p)}else m=ri._fromJSON(e,p);d!==o&&(c=m),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new wl(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new wl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(rA(e))return"Webos";if(XC(e))return"Safari";if((e.includes("chrome/")||JC(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZC(t=or()){return/firefox\//i.test(t)}function XC(t=or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JC(t=or()){return/crios\//i.test(t)}function eA(t=or()){return/iemobile/i.test(t)}function tA(t=or()){return/android/i.test(t)}function nA(t=or()){return/blackberry/i.test(t)}function rA(t=or()){return/webos/i.test(t)}function J_(t=or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j4(t=or()){var e;return J_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U4(){return YD()&&document.documentMode===10}function iA(t=or()){return J_(t)||tA(t)||rA(t)||nA(t)||/windows phone/i.test(t)||eA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e=[]){let n;switch(t){case"Browser":n=R1(or());break;case"Worker":n=`${R1(or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t,e={}){return xo(t,"GET","/v2/passwordPolicy",wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=6;class V4{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:F4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k1(this),this.idTokenSubscription=new k1(this),this.beforeStateQueue=new B4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(fo(this));const n=e?wr(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z4(this),n=new V4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $l(t){return wr(t)}class k1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(t){tp=t}function oA(t){return tp.loadJS(t)}function q4(){return tp.recaptchaEnterpriseScript}function $4(){return tp.gapiScript}function G4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Y4{constructor(){this.enterprise=new K4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q4="recaptcha-enterprise",aA="NO_RECAPTCHA";class Z4{constructor(e){this.type=Q4,this.auth=$l(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{R4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new A4(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,l,c){const f=window.grecaptcha;T1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(aA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&T1(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=q4();f.length!==0&&(f+=c),oA(f).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function O1(t,e,n,r=!1,s=!1){const o=new Z4(t);let l;if(s)l=aA;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function I1(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await O1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await O1(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){const n=K_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ua(o,e??{}))return s;ai(s,"already-initialized")}return n.initialize({options:e})}function J4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eL(t,e,n){const r=$l(t);ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=lA(e),{host:l,port:c}=tL(e),f=c===null?"":`:${c}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ht(ua(d,r.config.emulator)&&ua(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Hl(l)?(MC(`${o}//${l}${f}`),DC("Auth",!0)):nL()}function lA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tL(t){const e=lA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:N1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:N1(l)}}}function N1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function rL(t,e){return xo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return ep(t,"POST","/v1/accounts:signInWithPassword",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}async function oL(t,e){return ep(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends eb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,n,"signInWithPassword",iL);case"emailLink":return sL(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,r,"signUpPassword",rL);case"emailLink":return oL(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return ep(t,"POST","/v1/accounts:signInWithIdp",wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="http://localhost";class da extends eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Yu(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new da(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:aL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cL(t){const e=uu(fu(t)).link,n=e?uu(fu(e)).deep_link_id:null,r=uu(fu(t)).deep_link_id;return(r?uu(fu(r)).link:null)||r||n||e||t}class tb{constructor(e){var n,r,s,o,l,c;const f=uu(fu(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,m=lL((s=f.mode)!==null&&s!==void 0?s:null);ht(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=cL(e);try{return new tb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.providerId=Gl.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tb.parseLink(n);return ht(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}Gl.PROVIDER_ID="password";Gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends cA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Qu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Qu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Qu{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return so.credential(n,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ri._fromIdTokenResponse(e,r,s),l=M1(r);return new Il({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M1(r);return new Il({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends To{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fh(e,n,r,s)}}function uA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(t,o,e,r):o})}async function uL(t,e,n=!1){const r=await Iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Il._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(fo(r));const s="reauthenticate";try{const o=await Iu(t,uA(r,s,e,t),n);ht(o.idToken,r,"internal-error");const l=X_(o.idToken);ht(l,r,"internal-error");const{sub:c}=l;return ht(t.uid===c,r,"user-mismatch"),Il._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ai(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(t,e,n=!1){if(Jr(t.app))return Promise.reject(fo(t));const r="signIn",s=await uA(t,r,e),o=await Il._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function dL(t,e){return fA($l(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t){const e=$l(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function pL(t,e,n){return Jr(t.app)?Promise.reject(fo(t)):dL(wr(t),Gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hL(t),r})}function mL(t,e,n,r){return wr(t).onIdTokenChanged(e,n,r)}function gL(t,e,n){return wr(t).beforeAuthStateChanged(e,n)}function vL(t,e,n,r){return wr(t).onAuthStateChanged(e,n,r)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1e3,_L=10;class hA extends dA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);U4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_L):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const bL=hA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA extends dA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pA.type="SESSION";const mA=pA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,o)),f=await wL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const d=nb("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function EL(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function TL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CL(){return gA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firebaseLocalStorageDb",AL=1,hh="firebaseLocalStorage",yA="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(t,e){return t.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function RL(){const t=indexedDB.deleteDatabase(vA);return new Zu(t).toPromise()}function zv(){const t=indexedDB.open(vA,AL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hh,{keyPath:yA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await RL(),e(await zv()))})})}async function D1(t,e,n){const r=rp(t,!0).put({[yA]:e,value:n});return new Zu(r).toPromise()}async function kL(t,e){const n=rp(t,!1).get(e),r=await new Zu(n).toPromise();return r===void 0?null:r.value}function P1(t,e){const n=rp(t,!0).delete(e);return new Zu(n).toPromise()}const OL=800,IL=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(CL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TL(),!this.activeServiceWorker)return;this.sender=new SL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zv();return await D1(e,dh,"1"),await P1(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=rp(s,!1).getAll();return new Zu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const NL=_A;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e){return e?ls(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DL(t){return fA(t.auth,new rb(t),t.bypassAuthState)}function PL(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),fL(n,new rb(t),t.bypassAuthState)}async function LL(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),uL(n,new rb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DL;case"linkViaPopup":case"linkViaRedirect":return LL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:ai(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Ku(2e3,1e4);class yl extends bA{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=nb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jL.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="pendingRedirect",Vd=new Map;class BL extends bA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await zL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zL(t,e){const n=HL(e),r=VL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function FL(t,e){Vd.set(t._key(),e)}function VL(t){return ls(t._redirectPersistence)}function HL(t){return Fd(UL,t.config.apiKey,t.name)}async function WL(t,e,n=!1){if(Jr(t.app))return Promise.reject(fo(t));const r=$l(t),s=ML(r,e),l=await new BL(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=10*60*1e3;class $L{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qL&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e={}){return xo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QL=/^https?/;async function ZL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YL(t);for(const n of e)try{if(XL(n))return}catch{}ai(t,"unauthorized-domain")}function XL(t){const e=Uv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!QL.test(n))return!1;if(KL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Ku(3e4,6e4);function j1(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e3(t){return new Promise((e,n)=>{var r,s,o;function l(){j1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j1(),n(Ri(t,"network-request-failed"))},timeout:JL.get()})}if(!((s=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ki().gapi)===null||o===void 0)&&o.load)l();else{const c=G4("iframefcb");return ki()[c]=()=>{gapi.load?l():n(Ri(t,"network-request-failed"))},oA(`${$4()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function t3(t){return Hd=Hd||e3(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new Ku(5e3,15e3),r3="__/auth/iframe",i3="emulator/auth/iframe",s3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a3(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z_(e,i3):`https://${t.config.authDomain}/${r3}`,r={apiKey:e.apiKey,appName:t.name,v:ql},s=o3.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wl(r).slice(1)}`}async function l3(t){const e=await t3(t),n=ki().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:a3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s3,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ri(t,"network-request-failed"),c=ki().setTimeout(()=>{o(l)},n3.get());function f(){ki().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u3=500,f3=600,d3="_blank",h3="http://localhost";class U1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p3(t,e,n,r=u3,s=f3){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},c3),{width:r.toString(),height:s.toString(),top:o,left:l}),d=or().toLowerCase();n&&(c=JC(d)?d3:n),ZC(d)&&(e=e||h3,f.scrollbars="yes");const p=Object.entries(f).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(j4(d)&&c!=="_self")return m3(e||"",c),new U1(null);const m=window.open(e||"",c,p);ht(m,t,"popup-blocked");try{m.focus()}catch{}return new U1(m)}function m3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="__/auth/handler",v3="emulator/auth/handler",y3=encodeURIComponent("fac");async function B1(t,e,n,r,s,o){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:s};if(e instanceof cA){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Nv(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Qu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),d=f?`#${y3}=${encodeURIComponent(f)}`:"";return`${_3(t)}?${Wl(c).slice(1)}${d}`}function _3({config:t}){return t.emulator?Z_(t,v3):`https://${t.authDomain}/${g3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class b3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mA,this._completeRedirectFn=WL,this._overrideRedirectResult=FL}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await B1(e,n,r,Uv(),s);return p3(e,l,nb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await B1(e,n,r,Uv(),s);return EL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(hs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l3(e),r=new $L(e);return n.register("authEvent",s=>(ht(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zg,{type:Zg},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Zg];l!==void 0&&n(!!l),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iA()||XC()||J_()}}const w3=b3;var z1="@firebase/auth",F1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T3(t){Ol(new fa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ht(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(t)},d=new H4(r,s,o,f);return J4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new fa("auth-internal",e=>{const n=$l(e.getProvider("auth").getImmediate());return(r=>new S3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(z1,F1,E3(t)),uo(z1,F1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=5*60,C3=NC("authIdTokenMaxAge")||x3;let V1=null;const A3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C3)return;const s=n==null?void 0:n.token;V1!==s&&(V1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function R3(t=zC()){const e=K_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X4(t,{popupRedirectResolver:w3,persistence:[NL,bL,mA]}),r=NC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=A3(o.toString());gL(n,l,()=>l(n.currentUser)),mL(n,c=>l(c))}}const s=OC("auth");return s&&eL(n,`http://${s}`),n}function k3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ri("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",k3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T3("Browser");var O3="firebase",I3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(O3,I3,"app");var H1={};const W1="@firebase/database",q1="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SA="";function N3(t){SA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ku(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new M3(e)}}catch{}return new D3},na=EA("localStorage"),P3=EA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new G_("@firebase/database"),L3=function(){let t=1;return function(){return t++}}(),TA=function(t){const e=aP(t),n=new rP;n.update(e);const r=n.digest();return H_.encodeByteArray(r)},Xu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xu.apply(null,r):typeof r=="object"?e+=Ln(r):e+=r,e+=" "}return e};let bu=null,$1=!0;const j3=function(t,e){Ye(!0,"Can't turn on custom loggers persistently."),El.logLevel=Qt.VERBOSE,bu=El.log.bind(El)},nr=function(...t){if($1===!0&&($1=!1,bu===null&&P3.get("logging_enabled")===!0&&j3()),bu){const e=Xu.apply(null,t);bu(e)}},Ju=function(t){return function(...e){nr(t,...e)}},Fv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xu(...t);El.error(e)},ps=function(...t){const e=`FIREBASE FATAL ERROR: ${Xu(...t)}`;throw El.error(e),new Error(e)},vr=function(...t){const e="FIREBASE WARNING: "+Xu(...t);El.warn(e)},U3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},B3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Nl="[MIN_NAME]",ha="[MAX_NAME]",Yl=function(t,e){if(t===e)return 0;if(t===Nl||e===ha)return-1;if(e===Nl||t===ha)return 1;{const n=G1(t),r=G1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},z3=function(t,e){return t===e?0:t<e?-1:1},tu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ln(e))},ib=function(t){if(typeof t!="object"||t===null)return Ln(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ln(e[r]),n+=":",n+=ib(t[e[r]]);return n+="}",n},CA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function br(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AA=function(t){Ye(!xA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,l,c,f;t===0?(o=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=c+r,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(f=n;f;f-=1)d.push(l%2?1:0),l=Math.floor(l/2);for(f=e;f;f-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const p=d.join("");let m="";for(f=0;f<64;f+=8){let g=parseInt(p.substr(f,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},F3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},V3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function H3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const W3=new RegExp("^-?(0*)\\d{1,10}$"),q3=-2147483648,$3=2147483647,G1=function(t){if(W3.test(t)){const e=Number(t);if(e>=q3&&e<=$3)return e}return null},Kl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vr("Exception was thrown by user callback.",n),e},Math.floor(0))}},G3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Jr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){vr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(e)}}class Wd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="5",RA="v",kA="s",OA="r",IA="f",NA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MA="ls",DA="p",Vv="ac",PA="websocket",LA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,s,o=!1,l="",c=!1,f=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=f,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Q3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function UA(t,e,n){Ye(typeof e=="string","typeof type must == string"),Ye(typeof n=="object","typeof params must == object");let r;if(e===PA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Q3(t)&&(n.ns=t.namespace);const s=[];return br(n,(o,l)=>{s.push(o+"="+l)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.counters_={}}incrementCounter(e,n=1){bs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return LD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg={},Jg={};function ob(t){const e=t.toString();return Xg[e]||(Xg[e]=new Z3),Xg[e]}function X3(t,e){const n=t.toString();return Jg[n]||(Jg[n]=e()),Jg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Kl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="start",ej="close",tj="pLPCommand",nj="pRTLPCB",BA="id",zA="pw",FA="ser",rj="cb",ij="seg",sj="ts",oj="d",aj="dframe",VA=1870,HA=30,lj=VA-HA,cj=25e3,uj=3e4;class _l{constructor(e,n,r,s,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ju(e),this.stats_=ob(n),this.urlFn=f=>(this.appCheckToken&&(f[Vv]=this.appCheckToken),UA(n,LA,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new J3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uj)),B3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ab((...o)=>{const[l,c,f,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Y1)this.id=c,this.password=f;else if(l===ej)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[Y1]="t",r[FA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[rj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RA]=sb,this.transportSessionId&&(r[kA]=this.transportSessionId),this.lastSessionId&&(r[MA]=this.lastSessionId),this.applicationId&&(r[DA]=this.applicationId),this.appCheckToken&&(r[Vv]=this.appCheckToken),typeof location<"u"&&location.hostname&&NA.test(location.hostname)&&(r[OA]=IA);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_l.forceAllow_=!0}static forceDisallow(){_l.forceDisallow_=!0}static isAvailable(){return _l.forceAllow_?!0:!_l.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!F3()&&!V3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ln(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RC(n),s=CA(r,lj);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aj]="t",r[BA]=e,r[zA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ln(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ab{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=L3(),window[tj+this.uniqueCallbackIdentifier]=e,window[nj+this.uniqueCallbackIdentifier]=n,this.myIFrame=ab.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){nr("frame writing exception"),c.stack&&nr(c.stack),nr(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[BA]=this.myID,e[zA]=this.myPW,e[FA]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+HA+r.length<=VA;){const l=this.pendingSegs.shift();r=r+"&"+ij+s+"="+l.seg+"&"+sj+s+"="+l.ts+"&"+oj+s+"="+l.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(cj)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=16384,dj=45e3;let ph=null;typeof MozWebSocket<"u"?ph=MozWebSocket:typeof WebSocket<"u"&&(ph=WebSocket);class ei{constructor(e,n,r,s,o,l,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ju(this.connId),this.stats_=ob(n),this.connURL=ei.connectionURL_(n,l,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const l={};return l[RA]=sb,typeof location<"u"&&location.hostname&&NA.test(location.hostname)&&(l[OA]=IA),n&&(l[kA]=n),r&&(l[MA]=r),s&&(l[Vv]=s),o&&(l[DA]=o),UA(e,PA,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{let r;KD(),this.mySock=new ph(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ph!==null&&!ei.forceDisallow_}static previouslyFailed(){return na.isInMemoryStorage||na.get("previous_websocket_failure")===!0}markConnectionHealthy(){na.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ku(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ln(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CA(n,fj);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ei.responsesRequiredToBeHealthy=2;ei.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{static get ALL_TRANSPORTS(){return[_l,ei]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ei&&ei.isAvailable();let r=n&&!ei.previouslyFailed();if(e.webSocketOnly&&(n||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ei];else{const s=this.transports_=[];for(const o of Mu.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);Mu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=6e4,pj=5e3,mj=10*1024,gj=100*1024,ev="t",K1="d",vj="s",Q1="r",yj="e",Z1="o",X1="a",J1="n",eT="p",_j="h";class bj{constructor(e,n,r,s,o,l,c,f,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ju("c:"+this.id+":"),this.transportManager_=new Mu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ev in e){const n=e[ev];n===X1?this.upgradeIfSecondaryHealthy_():n===Q1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Z1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:eT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:X1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:J1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=tu("t",e),r=tu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=tu(ev,e);if(K1 in e){const r=e[K1];if(n===_j){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===J1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vj?this.onConnectionShutdown_(r):n===Q1?this.onReset_(r):n===yj?Fv("Server Error: "+r):n===Z1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sb!==r&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:eT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.allowedEvents_=e,this.listeners_={},Ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){Ye(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends qA{static getInstance(){return new mh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!q_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=32,nT=768;class en{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Bt(){return new en("")}function kt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vo(t){return t.pieces_.length-t.pieceNum_}function on(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new en(t.pieces_,e)}function $A(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function GA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new en(e,0)}function jn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof en)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new en(n,0)}function Rt(t){return t.pieceNum_>=t.pieces_.length}function sr(t,e){const n=kt(t),r=kt(e);if(n===null)return e;if(n===r)return sr(on(t),on(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function KA(t,e){if(vo(t)!==vo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(vo(t)>vo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Sj{constructor(e,n){this.errorPrefix_=n,this.parts_=GA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jh(this.parts_[r]);QA(this)}}function Ej(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jh(e),QA(t)}function Tj(t){const e=t.parts_.pop();t.byteLength_-=Jh(e),t.parts_.length>0&&(t.byteLength_-=1)}function QA(t){if(t.byteLength_>nT)throw new Error(t.errorPrefix_+"has a key path longer than "+nT+" bytes ("+t.byteLength_+").");if(t.parts_.length>tT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tT+") or object contains a cycle "+ea(t))}function ea(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends qA{static getInstance(){return new lb}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=1e3,xj=60*5*1e3,rT=30*1e3,Cj=1.3,Aj=3e4,Rj="server_kill",iT=3;class us extends WA{constructor(e,n,r,s,o,l,c,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=f,this.id=us.nextPersistentConnectionId_++,this.log_=Ju("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nu,this.maxReconnectDelay_=xj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Ln(o)),Ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Xh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),Ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ye(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const f=c.d,d=c.s;us.warnOnListenWarnings_(f,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(d,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bs(e,"w")){const r=kl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";s&&(o.q=r,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const l={p:n,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ln(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Fv("Unrecognized action received from server: "+Ln(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Aj&&(this.reconnectDelay_=nu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+us.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const f=function(){c?c.close():(l=!0,r())},d=function(m){Ye(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:f,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,c=new bj(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,y=>{vr(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Rj)},o))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&vr(m),f())}}}interrupt(e){nr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nv(this.interruptReasons_)&&(this.reconnectDelay_=nu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>ib(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new en(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){nr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iT&&(this.reconnectDelay_=rT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+SA.replace(/\./g,"-")]=1,q_()?e["framework.cordova"]=1:PC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mh.getInstance().currentlyOnline();return Nv(this.interruptReasons_)&&e}}us.nextPersistentConnectionId_=0;us.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Tt(Nl,e),s=new Tt(Nl,n);return this.compare(r,s)!==0}minPost(){return Tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;class ZA extends ip{static get __EMPTY_NODE(){return Sd}static set __EMPTY_NODE(e){Sd=e}compare(e,n){return Yl(e.name,n.name)}isDefinedOn(e){throw Vl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Tt.MIN}maxPost(){return new Tt(ha,Sd)}makePost(e,n){return Ye(typeof e=="string","KeyIndex indexValue must always be a string."),new Tt(e,Sd)}toString(){return".key"}}const Tl=new ZA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=s??gr.EMPTY_NODE,this.right=o??gr.EMPTY_NODE}copy(e,n,r,s,o){return new Hn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Hn.RED=!0;Hn.BLACK=!1;class kj{copy(e,n,r,s,o){return this}insert(e,n,r){return new Hn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gr{constructor(e,n=gr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Hn.BLACK,null,null))}remove(e){return new gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ed(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ed(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ed(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ed(this.root_,null,this.comparator_,!0,e)}}gr.EMPTY_NODE=new kj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e){return Yl(t.name,e.name)}function cb(t,e){return Yl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv;function Ij(t){Hv=t}const XA=function(t){return typeof t=="number"?"number:"+AA(t):"string:"+t},JA=function(t){if(t.isLeafNode()){const e=t.val();Ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bs(e,".sv"),"Priority must be a string or number.")}else Ye(t===Hv||t.isEmpty(),"priority of unexpected type.");Ye(t===Hv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sT;class Vn{static set __childrenNodeConstructor(e){sT=e}static get __childrenNodeConstructor(){return sT}constructor(e,n=Vn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),JA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:kt(e)===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Vn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=kt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ye(r!==".priority"||vo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vn.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+XA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AA(this.value_):e+=this.value_,this.lazyHash_=TA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vn.__childrenNodeConstructor?-1:(Ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Vn.VALUE_TYPE_ORDER.indexOf(n),o=Vn.VALUE_TYPE_ORDER.indexOf(r);return Ye(s>=0,"Unknown leaf type: "+n),Ye(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eR,tR;function Nj(t){eR=t}function Mj(t){tR=t}class Dj extends ip{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?Yl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Tt.MIN}maxPost(){return new Tt(ha,new Vn("[PRIORITY-POST]",tR))}makePost(e,n){const r=eR(e);return new Tt(n,new Vn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Sn=new Dj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=Math.log(2);class Lj{constructor(e){const n=o=>parseInt(Math.log(o)/Pj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gh=function(t,e,n,r){t.sort(e);const s=function(f,d){const p=d-f;let m,g;if(p===0)return null;if(p===1)return m=t[f],g=n?n(m):m,new Hn(g,m.node,Hn.BLACK,null,null);{const y=parseInt(p/2,10)+f,w=s(f,y),E=s(y+1,d);return m=t[y],g=n?n(m):m,new Hn(g,m.node,Hn.BLACK,w,E)}},o=function(f){let d=null,p=null,m=t.length;const g=function(w,E){const C=m-w,k=m;m-=w;const T=s(C+1,k),A=t[C],z=n?n(A):A;y(new Hn(z,A.node,E,null,T))},y=function(w){d?(d.left=w,d=w):(p=w,d=w)};for(let w=0;w<f.count;++w){const E=f.nextBitIsOne(),C=Math.pow(2,f.count-(w+1));E?g(C,Hn.BLACK):(g(C,Hn.BLACK),g(C,Hn.RED))}return p},l=new Lj(t.length),c=o(l);return new gr(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv;const cl={};class cs{static get Default(){return Ye(cl&&Sn,"ChildrenNode.ts has not been loaded"),tv=tv||new cs({".priority":cl},{".priority":Sn}),tv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=kl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gr?n:null}hasIndex(e){return bs(this.indexSet_,e.toString())}addIndex(e,n){Ye(e!==Tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(Tt.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let c;s?c=gh(r,e.getCompare()):c=cl;const f=e.toString(),d=Object.assign({},this.indexSet_);d[f]=e;const p=Object.assign({},this.indexes_);return p[f]=c,new cs(p,d)}addToIndexes(e,n){const r=oh(this.indexes_,(s,o)=>{const l=kl(this.indexSet_,o);if(Ye(l,"Missing index implementation for "+o),s===cl)if(l.isDefinedOn(e.node)){const c=[],f=n.getIterator(Tt.Wrap);let d=f.getNext();for(;d;)d.name!==e.name&&c.push(d),d=f.getNext();return c.push(e),gh(c,l.getCompare())}else return cl;else{const c=n.get(e.name);let f=s;return c&&(f=f.remove(new Tt(e.name,c))),f.insert(e,e.node)}});return new cs(r,this.indexSet_)}removeFromIndexes(e,n){const r=oh(this.indexes_,s=>{if(s===cl)return s;{const o=n.get(e.name);return o?s.remove(new Tt(e.name,o)):s}});return new cs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class pt{static get EMPTY_NODE(){return ru||(ru=new pt(new gr(cb),null,cs.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&JA(this.priorityNode_),this.children_.isEmpty()&&Ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ru}updatePriority(e){return this.children_.isEmpty()?this:new pt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ru:n}}getChild(e){const n=kt(e);return n===null?this:this.getImmediateChild(n).getChild(on(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ye(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Tt(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?ru:this.priorityNode_;return new pt(s,l,o)}}updateChild(e,n){const r=kt(e);if(r===null)return n;{Ye(kt(e)!==".priority"||vo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(on(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(Sn,(l,c)=>{n[l]=c.val(e),r++,o&&pt.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*r){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+XA(this.getPriority().val())+":"),this.forEachChild(Sn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":TA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Tt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Tt.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ef?-1:0}withIndex(e){if(e===Tl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Tl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Sn),s=n.getIterator(Sn);let o=r.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Tl?null:this.indexMap_.get(e.toString())}}pt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jj extends pt{constructor(){super(new gr(cb),pt.EMPTY_NODE,cs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}}const ef=new jj;Object.defineProperties(Tt,{MIN:{value:new Tt(Nl,pt.EMPTY_NODE)},MAX:{value:new Tt(ha,ef)}});ZA.__EMPTY_NODE=pt.EMPTY_NODE;Vn.__childrenNodeConstructor=pt;Ij(ef);Mj(ef);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=!0;function Wn(t,e=null){if(t===null)return pt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Vn(n,Wn(e))}if(!(t instanceof Array)&&Uj){const n=[];let r=!1;if(br(t,(l,c)=>{if(l.substring(0,1)!=="."){const f=Wn(c);f.isEmpty()||(r=r||!f.getPriority().isEmpty(),n.push(new Tt(l,f)))}}),n.length===0)return pt.EMPTY_NODE;const o=gh(n,Oj,l=>l.name,cb);if(r){const l=gh(n,Sn.getCompare());return new pt(o,Wn(e),new cs({".priority":l},{".priority":Sn}))}else return new pt(o,Wn(e),cs.Default)}else{let n=pt.EMPTY_NODE;return br(t,(r,s)=>{if(bs(t,r)&&r.substring(0,1)!=="."){const o=Wn(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Wn(e))}}Nj(Wn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj extends ip{constructor(e){super(),this.indexPath_=e,Ye(!Rt(e)&&kt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?Yl(e.name,n.name):o}makePost(e,n){const r=Wn(e),s=pt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Tt(n,s)}maxPost(){const e=pt.EMPTY_NODE.updateChild(this.indexPath_,ef);return new Tt(ha,e)}toString(){return GA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj extends ip{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Yl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Tt.MIN}maxPost(){return Tt.MAX}makePost(e,n){const r=Wn(e);return new Tt(n,r)}toString(){return".value"}}const Fj=new zj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){return{type:"value",snapshotNode:t}}function Ml(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Du(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Vj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.index_=e}updateChild(e,n,r,s,o,l){Ye(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(r.getChild(s))&&c.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Du(n,c)):Ye(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Ml(n,r)):l.trackChildChange(Pu(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Sn,(s,o)=>{n.hasChild(s)||r.trackChildChange(Du(s,o))}),n.isLeafNode()||n.forEachChild(Sn,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||r.trackChildChange(Pu(s,o,l))}else r.trackChildChange(Ml(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.indexedFilter_=new ub(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lu.getStartPost_(e),this.endPost_=Lu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,l){return this.matches(new Tt(n,r))||(r=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=pt.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(pt.EMPTY_NODE);const o=this;return n.forEachChild(Sn,(l,c)=>{o.matches(new Tt(l,c))||(s=s.updateImmediateChild(l,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Lu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,l){return this.rangedFilter_.matches(new Tt(n,r))||(r=pt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,l):this.fullLimitUpdateChild_(e,n,r,o,l)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=pt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=pt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(pt.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let l;if(this.reverse_){const m=this.index_.getCompare();l=(g,y)=>m(y,g)}else l=this.index_.getCompare();const c=e;Ye(c.numChildren()===this.limit_,"");const f=new Tt(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(c.hasChild(n)){const m=c.getImmediateChild(n);let g=s.getChildAfterChild(this.index_,d,this.reverse_);for(;g!=null&&(g.name===n||c.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:l(g,f);if(p&&!r.isEmpty()&&y>=0)return o!=null&&o.trackChildChange(Pu(n,r,m)),c.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Du(n,m));const E=c.updateImmediateChild(n,pt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(o!=null&&o.trackChildChange(Ml(g.name,g.node)),E.updateImmediateChild(g.name,g.node)):E}}else return r.isEmpty()?e:p&&l(d,f)>=0?(o!=null&&(o.trackChildChange(Du(d.name,d.node)),o.trackChildChange(Ml(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,pt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return Ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ha}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sn}copy(){const e=new fb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Wj(t){return t.loadsAllData()?new ub(t.getIndex()):t.hasLimit()?new Hj(t):new Lu(t)}function oT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Sn?n="$priority":t.index_===Fj?n="$value":t.index_===Tl?n="$key":(Ye(t.index_ instanceof Bj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ln(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ln(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ln(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ln(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ln(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends WA{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ju("p:rest:"),this.listens_={}}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=vh.getListenId_(e,r),c={};this.listens_[l]=c;const f=oT(e._queryParams);this.restRequest_(o+".json",f,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(o,m,!1,r),kl(this.listens_,l)===c){let g;d?d===401?g="permission_denied":g="rest_error:"+d:g="ok",s(g,null)}})}unlisten(e,n){const r=vh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=oT(e._queryParams),r=e._path.toString(),s=new Xh;return this.restRequest_(r+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wl(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=ku(c.responseText)}catch{vr("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,f)}else c.status!==401&&c.status!==404&&vr("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(){return{value:null,children:new Map}}function rR(t,e,n){if(Rt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=kt(e);t.children.has(r)||t.children.set(r,yh());const s=t.children.get(r);e=on(e),rR(s,e,n)}}function Wv(t,e,n){t.value!==null?n(e,t.value):$j(t,(r,s)=>{const o=new en(e.toString()+"/"+r);Wv(s,o,n)})}function $j(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&br(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=10*1e3,Yj=30*1e3,Kj=5*60*1e3;class Qj{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gj(e);const r=lT+(Yj-lT)*Math.random();wu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;br(e,(s,o)=>{o>0&&bs(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),wu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Kj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(si||(si={}));function iR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function db(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=si.ACK_USER_WRITE,this.source=iR()}operationForChild(e){if(Rt(this.path)){if(this.affectedTree.value!=null)return Ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new en(e));return new _h(Bt(),n,this.revert)}}else return Ye(kt(this.path)===e,"operationForChild called for unrelated child."),new _h(on(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.source=e,this.path=n,this.type=si.LISTEN_COMPLETE}operationForChild(e){return Rt(this.path)?new ju(this.source,Bt()):new ju(this.source,on(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=si.OVERWRITE}operationForChild(e){return Rt(this.path)?new pa(this.source,Bt(),this.snap.getImmediateChild(e)):new pa(this.source,on(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=si.MERGE}operationForChild(e){if(Rt(this.path)){const n=this.children.subtree(new en(e));return n.isEmpty()?null:n.value?new pa(this.source,Bt(),n.value):new Uu(this.source,Bt(),n)}else return Ye(kt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uu(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;const n=kt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Xj(t,e,n,r){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(Vj(l.childName,l.snapshotNode))}),iu(t,s,"child_removed",e,r,n),iu(t,s,"child_added",e,r,n),iu(t,s,"child_moved",o,r,n),iu(t,s,"child_changed",e,r,n),iu(t,s,"value",e,r,n),s}function iu(t,e,n,r,s,o){const l=r.filter(c=>c.type===n);l.sort((c,f)=>eU(t,c,f)),l.forEach(c=>{const f=Jj(t,c,o);s.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(f,t.query_))})})}function Jj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eU(t,e,n){if(e.childName==null||n.childName==null)throw Vl("Should only compare child_ events.");const r=new Tt(e.childName,e.snapshotNode),s=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e){return{eventCache:t,serverCache:e}}function Su(t,e,n,r){return sp(new yo(e,n,r),t.serverCache)}function sR(t,e,n,r){return sp(t.eventCache,new yo(e,n,r))}function bh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ma(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv;const tU=()=>(nv||(nv=new gr(z3)),nv);class ln{static fromObject(e){let n=new ln(null);return br(e,(r,s)=>{n=n.set(new en(r),s)}),n}constructor(e,n=tU()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Bt(),value:this.value};if(Rt(e))return null;{const r=kt(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(on(e),n);return o!=null?{path:jn(new en(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rt(e))return this;{const n=kt(e),r=this.children.get(n);return r!==null?r.subtree(on(e)):new ln(null)}}set(e,n){if(Rt(e))return new ln(n,this.children);{const r=kt(e),o=(this.children.get(r)||new ln(null)).set(on(e),n),l=this.children.insert(r,o);return new ln(this.value,l)}}remove(e){if(Rt(e))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const n=kt(e),r=this.children.get(n);if(r){const s=r.remove(on(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new ln(null):new ln(this.value,o)}else return this}}get(e){if(Rt(e))return this.value;{const n=kt(e),r=this.children.get(n);return r?r.get(on(e)):null}}setTree(e,n){if(Rt(e))return n;{const r=kt(e),o=(this.children.get(r)||new ln(null)).setTree(on(e),n);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new ln(this.value,l)}}fold(e){return this.fold_(Bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(jn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Bt(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Rt(e))return null;{const o=kt(e),l=this.children.get(o);return l?l.findOnPath_(on(e),jn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Bt(),n)}foreachOnPath_(e,n,r){if(Rt(e))return this;{this.value&&r(n,this.value);const s=kt(e),o=this.children.get(s);return o?o.foreachOnPath_(on(e),jn(n,s),r):new ln(null)}}foreach(e){this.foreach_(Bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(jn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.writeTree_=e}static empty(){return new oi(new ln(null))}}function Eu(t,e,n){if(Rt(e))return new oi(new ln(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const l=sr(s,e);return o=o.updateChild(l,n),new oi(t.writeTree_.set(s,o))}else{const s=new ln(n),o=t.writeTree_.setTree(e,s);return new oi(o)}}}function cT(t,e,n){let r=t;return br(n,(s,o)=>{r=Eu(r,jn(e,s),o)}),r}function uT(t,e){if(Rt(e))return oi.empty();{const n=t.writeTree_.setTree(e,new ln(null));return new oi(n)}}function qv(t,e){return Sa(t,e)!=null}function Sa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(sr(n.path,e)):null}function fT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Sn,(r,s)=>{e.push(new Tt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Tt(r,s.value))}),e}function ho(t,e){if(Rt(e))return t;{const n=Sa(t,e);return n!=null?new oi(new ln(n)):new oi(t.writeTree_.subtree(e))}}function $v(t){return t.writeTree_.isEmpty()}function Dl(t,e){return oR(Bt(),t.writeTree_,e)}function oR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(Ye(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=oR(jn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(jn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e){return uR(e,t)}function nU(t,e,n,r,s){Ye(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Eu(t.visibleWrites,e,n)),t.lastWriteId=r}function rU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function iU(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);Ye(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&sU(c,r.path)?s=!1:ii(r.path,c.path)&&(o=!0)),l--}if(s){if(o)return oU(t),!0;if(r.snap)t.visibleWrites=uT(t.visibleWrites,r.path);else{const c=r.children;br(c,f=>{t.visibleWrites=uT(t.visibleWrites,jn(r.path,f))})}return!0}else return!1}function sU(t,e){if(t.snap)return ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ii(jn(t.path,n),e))return!0;return!1}function oU(t){t.visibleWrites=aR(t.allWrites,aU,Bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aU(t){return t.visible}function aR(t,e,n){let r=oi.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const l=o.path;let c;if(o.snap)ii(n,l)?(c=sr(n,l),r=Eu(r,c,o.snap)):ii(l,n)&&(c=sr(l,n),r=Eu(r,Bt(),o.snap.getChild(c)));else if(o.children){if(ii(n,l))c=sr(n,l),r=cT(r,c,o.children);else if(ii(l,n))if(c=sr(l,n),Rt(c))r=cT(r,Bt(),o.children);else{const f=kl(o.children,kt(c));if(f){const d=f.getChild(on(c));r=Eu(r,Bt(),d)}}}else throw Vl("WriteRecord should have .snap or .children")}}return r}function lR(t,e,n,r,s){if(!r&&!s){const o=Sa(t.visibleWrites,e);if(o!=null)return o;{const l=ho(t.visibleWrites,e);if($v(l))return n;if(n==null&&!qv(l,Bt()))return null;{const c=n||pt.EMPTY_NODE;return Dl(l,c)}}}else{const o=ho(t.visibleWrites,e);if(!s&&$v(o))return n;if(!s&&n==null&&!qv(o,Bt()))return null;{const l=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(ii(d.path,e)||ii(e,d.path))},c=aR(t.allWrites,l,e),f=n||pt.EMPTY_NODE;return Dl(c,f)}}}function lU(t,e,n){let r=pt.EMPTY_NODE;const s=Sa(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Sn,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(n){const o=ho(t.visibleWrites,e);return n.forEachChild(Sn,(l,c)=>{const f=Dl(ho(o,new en(l)),c);r=r.updateImmediateChild(l,f)}),fT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=ho(t.visibleWrites,e);return fT(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function cU(t,e,n,r,s){Ye(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=jn(e,n);if(qv(t.visibleWrites,o))return null;{const l=ho(t.visibleWrites,o);return $v(l)?s.getChild(n):Dl(l,s.getChild(n))}}function uU(t,e,n,r){const s=jn(e,n),o=Sa(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const l=ho(t.visibleWrites,s);return Dl(l,r.getNode().getImmediateChild(n))}else return null}function fU(t,e){return Sa(t.visibleWrites,e)}function dU(t,e,n,r,s,o,l){let c;const f=ho(t.visibleWrites,e),d=Sa(f,Bt());if(d!=null)c=d;else if(n!=null)c=Dl(f,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=l.getCompare(),g=o?c.getReverseIteratorFrom(r,l):c.getIteratorFrom(r,l);let y=g.getNext();for(;y&&p.length<s;)m(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function hU(){return{visibleWrites:oi.empty(),allWrites:[],lastWriteId:-1}}function wh(t,e,n,r){return lR(t.writeTree,t.treePath,e,n,r)}function pb(t,e){return lU(t.writeTree,t.treePath,e)}function dT(t,e,n,r){return cU(t.writeTree,t.treePath,e,n,r)}function Sh(t,e){return fU(t.writeTree,jn(t.treePath,e))}function pU(t,e,n,r,s,o){return dU(t.writeTree,t.treePath,e,n,r,s,o)}function mb(t,e,n){return uU(t.writeTree,t.treePath,e,n)}function cR(t,e){return uR(jn(t.treePath,e),t.writeTree)}function uR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ye(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Pu(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Du(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ml(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Pu(r,e.snapshotNode,s.oldSnap));else throw Vl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const fR=new gU;class gb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ma(this.viewCache_),o=pU(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){return{filter:t}}function yU(t,e){Ye(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ye(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _U(t,e,n,r,s){const o=new mU;let l,c;if(n.type===si.OVERWRITE){const d=n;d.source.fromUser?l=Gv(t,e,d.path,d.snap,r,s,o):(Ye(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!Rt(d.path),l=Eh(t,e,d.path,d.snap,r,s,c,o))}else if(n.type===si.MERGE){const d=n;d.source.fromUser?l=wU(t,e,d.path,d.children,r,s,o):(Ye(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),l=Yv(t,e,d.path,d.children,r,s,c,o))}else if(n.type===si.ACK_USER_WRITE){const d=n;d.revert?l=TU(t,e,d.path,r,s,o):l=SU(t,e,d.path,d.affectedTree,r,s,o)}else if(n.type===si.LISTEN_COMPLETE)l=EU(t,e,n.path,r,o);else throw Vl("Unknown operation type: "+n.type);const f=o.getChanges();return bU(e,l,f),{viewCache:l,changes:f}}function bU(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=bh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(nR(bh(e)))}}function dR(t,e,n,r,s,o){const l=e.eventCache;if(Sh(r,n)!=null)return e;{let c,f;if(Rt(n))if(Ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=ma(e),p=d instanceof pt?d:pt.EMPTY_NODE,m=pb(r,p);c=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const d=wh(r,ma(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=kt(n);if(d===".priority"){Ye(vo(n)===1,"Can't have a priority with additional path components");const p=l.getNode();f=e.serverCache.getNode();const m=dT(r,n,p,f);m!=null?c=t.filter.updatePriority(p,m):c=l.getNode()}else{const p=on(n);let m;if(l.isCompleteForChild(d)){f=e.serverCache.getNode();const g=dT(r,n,l.getNode(),f);g!=null?m=l.getNode().getImmediateChild(d).updateChild(p,g):m=l.getNode().getImmediateChild(d)}else m=mb(r,d,e.serverCache);m!=null?c=t.filter.updateChild(l.getNode(),d,m,p,s,o):c=l.getNode()}}return Su(e,c,l.isFullyInitialized()||Rt(n),t.filter.filtersNodes())}}function Eh(t,e,n,r,s,o,l,c){const f=e.serverCache;let d;const p=l?t.filter:t.filter.getIndexedFilter();if(Rt(n))d=p.updateFullNode(f.getNode(),r,null);else if(p.filtersNodes()&&!f.isFiltered()){const y=f.getNode().updateChild(n,r);d=p.updateFullNode(f.getNode(),y,null)}else{const y=kt(n);if(!f.isCompleteForPath(n)&&vo(n)>1)return e;const w=on(n),C=f.getNode().getImmediateChild(y).updateChild(w,r);y===".priority"?d=p.updatePriority(f.getNode(),C):d=p.updateChild(f.getNode(),y,C,w,fR,null)}const m=sR(e,d,f.isFullyInitialized()||Rt(n),p.filtersNodes()),g=new gb(s,m,o);return dR(t,m,n,s,g,c)}function Gv(t,e,n,r,s,o,l){const c=e.eventCache;let f,d;const p=new gb(s,e,o);if(Rt(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,l),f=Su(e,d,!0,t.filter.filtersNodes());else{const m=kt(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),f=Su(e,d,c.isFullyInitialized(),c.isFiltered());else{const g=on(n),y=c.getNode().getImmediateChild(m);let w;if(Rt(g))w=r;else{const E=p.getCompleteChild(m);E!=null?$A(g)===".priority"&&E.getChild(YA(g)).isEmpty()?w=E:w=E.updateChild(g,r):w=pt.EMPTY_NODE}if(y.equals(w))f=e;else{const E=t.filter.updateChild(c.getNode(),m,w,g,p,l);f=Su(e,E,c.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function hT(t,e){return t.eventCache.isCompleteForChild(e)}function wU(t,e,n,r,s,o,l){let c=e;return r.foreach((f,d)=>{const p=jn(n,f);hT(e,kt(p))&&(c=Gv(t,c,p,d,s,o,l))}),r.foreach((f,d)=>{const p=jn(n,f);hT(e,kt(p))||(c=Gv(t,c,p,d,s,o,l))}),c}function pT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Yv(t,e,n,r,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,d;Rt(n)?d=r:d=new ln(null).setTree(n,r);const p=e.serverCache.getNode();return d.children.inorderTraversal((m,g)=>{if(p.hasChild(m)){const y=e.serverCache.getNode().getImmediateChild(m),w=pT(t,y,g);f=Eh(t,f,new en(m),w,s,o,l,c)}}),d.children.inorderTraversal((m,g)=>{const y=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!p.hasChild(m)&&!y){const w=e.serverCache.getNode().getImmediateChild(m),E=pT(t,w,g);f=Eh(t,f,new en(m),E,s,o,l,c)}}),f}function SU(t,e,n,r,s,o,l){if(Sh(s,n)!=null)return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(r.value!=null){if(Rt(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Eh(t,e,n,f.getNode().getChild(n),s,o,c,l);if(Rt(n)){let d=new ln(null);return f.getNode().forEachChild(Tl,(p,m)=>{d=d.set(new en(p),m)}),Yv(t,e,n,d,s,o,c,l)}else return e}else{let d=new ln(null);return r.foreach((p,m)=>{const g=jn(n,p);f.isCompleteForPath(g)&&(d=d.set(p,f.getNode().getChild(g)))}),Yv(t,e,n,d,s,o,c,l)}}function EU(t,e,n,r,s){const o=e.serverCache,l=sR(e,o.getNode(),o.isFullyInitialized()||Rt(n),o.isFiltered());return dR(t,l,n,r,fR,s)}function TU(t,e,n,r,s,o){let l;if(Sh(r,n)!=null)return e;{const c=new gb(r,e,s),f=e.eventCache.getNode();let d;if(Rt(n)||kt(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=wh(r,ma(e));else{const m=e.serverCache.getNode();Ye(m instanceof pt,"serverChildren would be complete if leaf node"),p=pb(r,m)}p=p,d=t.filter.updateFullNode(f,p,o)}else{const p=kt(n);let m=mb(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=f.getImmediateChild(p)),m!=null?d=t.filter.updateChild(f,p,m,on(n),c,o):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(f,p,pt.EMPTY_NODE,on(n),c,o):d=f,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=wh(r,ma(e)),l.isLeafNode()&&(d=t.filter.updateFullNode(d,l,o)))}return l=e.serverCache.isFullyInitialized()||Sh(r,Bt())!=null,Su(e,d,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ub(r.getIndex()),o=Wj(r);this.processor_=vU(o);const l=n.serverCache,c=n.eventCache,f=s.updateFullNode(pt.EMPTY_NODE,l.getNode(),null),d=o.updateFullNode(pt.EMPTY_NODE,c.getNode(),null),p=new yo(f,l.isFullyInitialized(),s.filtersNodes()),m=new yo(d,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=sp(m,p),this.eventGenerator_=new Zj(this.query_)}get query(){return this.query_}}function CU(t){return t.viewCache_.serverCache.getNode()}function AU(t){return bh(t.viewCache_)}function RU(t,e){const n=ma(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Rt(e)&&!n.getImmediateChild(kt(e)).isEmpty())?n.getChild(e):null}function mT(t){return t.eventRegistrations_.length===0}function kU(t,e){t.eventRegistrations_.push(e)}function gT(t,e,n){const r=[];if(n){Ye(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,s);l&&r.push(l)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function vT(t,e,n,r){e.type===si.MERGE&&e.source.queryId!==null&&(Ye(ma(t.viewCache_),"We should always have a full cache before handling merges"),Ye(bh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=_U(t.processor_,s,e,n,r);return yU(t.processor_,o.viewCache),Ye(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,hR(t,o.changes,o.viewCache.eventCache.getNode(),null)}function OU(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Sn,(o,l)=>{r.push(Ml(o,l))}),n.isFullyInitialized()&&r.push(nR(n.getNode())),hR(t,r,n.getNode(),e)}function hR(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Xj(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th;class pR{constructor(){this.views=new Map}}function IU(t){Ye(!Th,"__referenceConstructor has already been defined"),Th=t}function NU(){return Ye(Th,"Reference.ts has not been loaded"),Th}function MU(t){return t.views.size===0}function vb(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return Ye(o!=null,"SyncTree gave us an op for an invalid query."),vT(o,e,n,r)}else{let o=[];for(const l of t.views.values())o=o.concat(vT(l,e,n,r));return o}}function mR(t,e,n,r,s){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=wh(n,s?r:null),f=!1;c?f=!0:r instanceof pt?(c=pb(n,r),f=!1):(c=pt.EMPTY_NODE,f=!1);const d=sp(new yo(c,f,!1),new yo(r,s,!1));return new xU(e,d)}return l}function DU(t,e,n,r,s,o){const l=mR(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),kU(l,n),OU(l,n)}function PU(t,e,n,r){const s=e._queryIdentifier,o=[];let l=[];const c=_o(t);if(s==="default")for(const[f,d]of t.views.entries())l=l.concat(gT(d,n,r)),mT(d)&&(t.views.delete(f),d.query._queryParams.loadsAllData()||o.push(d.query));else{const f=t.views.get(s);f&&(l=l.concat(gT(f,n,r)),mT(f)&&(t.views.delete(s),f.query._queryParams.loadsAllData()||o.push(f.query)))}return c&&!_o(t)&&o.push(new(NU())(e._repo,e._path)),{removed:o,events:l}}function gR(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function po(t,e){let n=null;for(const r of t.views.values())n=n||RU(r,e);return n}function vR(t,e){if(e._queryParams.loadsAllData())return ap(t);{const r=e._queryIdentifier;return t.views.get(r)}}function yR(t,e){return vR(t,e)!=null}function _o(t){return ap(t)!=null}function ap(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function LU(t){Ye(!xh,"__referenceConstructor has already been defined"),xh=t}function jU(){return Ye(xh,"Reference.ts has not been loaded"),xh}let UU=1;class yT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ln(null),this.pendingWriteTree_=hU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _R(t,e,n,r,s){return nU(t.pendingWriteTree_,e,n,r,s),s?nf(t,new pa(iR(),e,n)):[]}function ra(t,e,n=!1){const r=rU(t.pendingWriteTree_,e);if(iU(t.pendingWriteTree_,e)){let o=new ln(null);return r.snap!=null?o=o.set(Bt(),!0):br(r.children,l=>{o=o.set(new en(l),!0)}),nf(t,new _h(r.path,o,n))}else return[]}function tf(t,e,n){return nf(t,new pa(db(),e,n))}function BU(t,e,n){const r=ln.fromObject(n);return nf(t,new Uu(db(),e,r))}function zU(t,e){return nf(t,new ju(db(),e))}function FU(t,e,n){const r=_b(t,n);if(r){const s=bb(r),o=s.path,l=s.queryId,c=sr(o,e),f=new ju(hb(l),c);return wb(t,o,f)}else return[]}function bR(t,e,n,r,s=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||yR(l,e))){const f=PU(l,e,n,r);MU(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=f.removed;if(c=f.events,!s){const p=d.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(o,(g,y)=>_o(y));if(p&&!m){const g=t.syncPointTree_.subtree(o);if(!g.isEmpty()){const y=qU(g);for(let w=0;w<y.length;++w){const E=y[w],C=E.query,k=TR(t,E);t.listenProvider_.startListening(Tu(C),Bu(t,C),k.hashFn,k.onComplete)}}}!m&&d.length>0&&!r&&(p?t.listenProvider_.stopListening(Tu(e),null):d.forEach(g=>{const y=t.queryToTagMap.get(lp(g));t.listenProvider_.stopListening(Tu(g),y)}))}$U(t,d)}return c}function wR(t,e,n,r){const s=_b(t,r);if(s!=null){const o=bb(s),l=o.path,c=o.queryId,f=sr(l,e),d=new pa(hb(c),f,n);return wb(t,l,d)}else return[]}function VU(t,e,n,r){const s=_b(t,r);if(s){const o=bb(s),l=o.path,c=o.queryId,f=sr(l,e),d=ln.fromObject(n),p=new Uu(hb(c),f,d);return wb(t,l,p)}else return[]}function HU(t,e,n,r=!1){const s=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(s,(g,y)=>{const w=sr(g,s);o=o||po(y,w),l=l||_o(y)});let c=t.syncPointTree_.get(s);c?(l=l||_o(c),o=o||po(c,Bt())):(c=new pR,t.syncPointTree_=t.syncPointTree_.set(s,c));let f;o!=null?f=!0:(f=!1,o=pt.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((y,w)=>{const E=po(w,Bt());E&&(o=o.updateImmediateChild(y,E))}));const d=yR(c,e);if(!d&&!e._queryParams.loadsAllData()){const g=lp(e);Ye(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=GU();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const p=op(t.pendingWriteTree_,s);let m=DU(c,e,n,p,o,f);if(!d&&!l&&!r){const g=vR(c,e);m=m.concat(YU(t,e,g))}return m}function yb(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const f=sr(l,e),d=po(c,f);if(d)return d});return lR(s,e,o,n,!0)}function WU(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,p)=>{const m=sr(d,n);r=r||po(p,m)});let s=t.syncPointTree_.get(n);s?r=r||po(s,Bt()):(s=new pR,t.syncPointTree_=t.syncPointTree_.set(n,s));const o=r!=null,l=o?new yo(r,!0,!1):null,c=op(t.pendingWriteTree_,e._path),f=mR(s,e,c,o?l.getNode():pt.EMPTY_NODE,o);return AU(f)}function nf(t,e){return SR(e,t.syncPointTree_,null,op(t.pendingWriteTree_,Bt()))}function SR(t,e,n,r){if(Rt(t.path))return ER(t,e,n,r);{const s=e.get(Bt());n==null&&s!=null&&(n=po(s,Bt()));let o=[];const l=kt(t.path),c=t.operationForChild(l),f=e.children.get(l);if(f&&c){const d=n?n.getImmediateChild(l):null,p=cR(r,l);o=o.concat(SR(c,f,d,p))}return s&&(o=o.concat(vb(s,t,r,n))),o}}function ER(t,e,n,r){const s=e.get(Bt());n==null&&s!=null&&(n=po(s,Bt()));let o=[];return e.children.inorderTraversal((l,c)=>{const f=n?n.getImmediateChild(l):null,d=cR(r,l),p=t.operationForChild(l);p&&(o=o.concat(ER(p,c,f,d)))}),s&&(o=o.concat(vb(s,t,r,n))),o}function TR(t,e){const n=e.query,r=Bu(t,n);return{hashFn:()=>(CU(e)||pt.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?FU(t,n._path,r):zU(t,n._path);{const o=H3(s,n);return bR(t,n,null,o)}}}}function Bu(t,e){const n=lp(e);return t.queryToTagMap.get(n)}function lp(t){return t._path.toString()+"$"+t._queryIdentifier}function _b(t,e){return t.tagToQueryMap.get(e)}function bb(t){const e=t.indexOf("$");return Ye(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new en(t.substr(0,e))}}function wb(t,e,n){const r=t.syncPointTree_.get(e);Ye(r,"Missing sync point for query tag that we're tracking");const s=op(t.pendingWriteTree_,e);return vb(r,n,s,null)}function qU(t){return t.fold((e,n,r)=>{if(n&&_o(n))return[ap(n)];{let s=[];return n&&(s=gR(n)),br(r,(o,l)=>{s=s.concat(l)}),s}})}function Tu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(jU())(t._repo,t._path):t}function $U(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=lp(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function GU(){return UU++}function YU(t,e,n){const r=e._path,s=Bu(t,e),o=TR(t,n),l=t.listenProvider_.startListening(Tu(e),s,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(s)Ye(!_o(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((d,p,m)=>{if(!Rt(d)&&p&&_o(p))return[ap(p).query];{let g=[];return p&&(g=g.concat(gR(p).map(y=>y.query))),br(m,(y,w)=>{g=g.concat(w)}),g}});for(let d=0;d<f.length;++d){const p=f[d];t.listenProvider_.stopListening(Tu(p),Bu(t,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sb(n)}node(){return this.node_}}class Eb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=jn(this.path_,e);return new Eb(this.syncTree_,n)}node(){return yb(this.syncTree_,this.path_)}}const KU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_T=function(t,e,n){if(!t||typeof t!="object")return t;if(Ye(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return QU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZU(t[".sv"],e);Ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},QU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ye(!1,"Unexpected server value: "+t)}},ZU=function(t,e,n){t.hasOwnProperty("increment")||Ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ye(!1,"Unexpected increment value: "+r);const s=e.node();if(Ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const l=s.getValue();return typeof l!="number"?r:l+r},XU=function(t,e,n,r){return Tb(e,new Eb(n,t),r)},xR=function(t,e,n){return Tb(t,new Sb(e),n)};function Tb(t,e,n){const r=t.getPriority().val(),s=_T(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=_T(l.getValue(),e,n);return c!==l.getValue()||s!==l.getPriority().val()?new Vn(c,Wn(s)):t}else{const l=t;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new Vn(s))),l.forEachChild(Sn,(c,f)=>{const d=Tb(f,e.getImmediateChild(c),n);d!==f&&(o=o.updateImmediateChild(c,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Cb(t,e){let n=e instanceof en?e:new en(e),r=t,s=kt(n);for(;s!==null;){const o=kl(r.node.children,s)||{children:{},childCount:0};r=new xb(s,r,o),n=on(n),s=kt(n)}return r}function Ql(t){return t.node.value}function CR(t,e){t.node.value=e,Kv(t)}function AR(t){return t.node.childCount>0}function JU(t){return Ql(t)===void 0&&!AR(t)}function cp(t,e){br(t.node.children,(n,r)=>{e(new xb(n,t,r))})}function RR(t,e,n,r){n&&e(t),cp(t,s=>{RR(s,e,!0)})}function e6(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function rf(t){return new en(t.parent===null?t.name:rf(t.parent)+"/"+t.name)}function Kv(t){t.parent!==null&&t6(t.parent,t.name,t)}function t6(t,e,n){const r=JU(n),s=bs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Kv(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Kv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/[\[\].#$\/\u0000-\u001F\u007F]/,r6=/[\[\].#$\u0000-\u001F\u007F]/,rv=10*1024*1024,kR=function(t){return typeof t=="string"&&t.length!==0&&!n6.test(t)},OR=function(t){return typeof t=="string"&&t.length!==0&&!r6.test(t)},i6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OR(t)},s6=function(t,e,n,r){Ab($_(t,"value"),e,n)},Ab=function(t,e,n){const r=n instanceof en?new Sj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ea(r));if(typeof e=="function")throw new Error(t+"contains a function "+ea(r)+" with contents = "+e.toString());if(xA(e))throw new Error(t+"contains "+e.toString()+" "+ea(r));if(typeof e=="string"&&e.length>rv/3&&Jh(e)>rv)throw new Error(t+"contains a string greater than "+rv+" utf8 bytes "+ea(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(br(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!kR(l)))throw new Error(t+" contains an invalid key ("+l+") "+ea(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ej(r,l),Ab(t,c,r),Tj(r)}),s&&o)throw new Error(t+' contains ".value" child '+ea(r)+" in addition to actual children.")}},IR=function(t,e,n,r){if(!OR(n))throw new Error($_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},o6=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),IR(t,e,n)},a6=function(t,e){if(kt(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},l6=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!i6(n))throw new Error($_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function NR(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!KA(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ni(t,e,n){NR(t,n),u6(t,r=>ii(r,e)||ii(e,r))}function u6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(f6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function f6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();bu&&nr("event: "+n.toString()),Kl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="repo_interrupt",h6=25;class p6{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new c6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yh(),this.transactionQueueTree_=new xb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m6(t,e,n){if(t.stats_=ob(t.repoInfo_),t.forceRestClient_||G3())t.server_=new vh(t.repoInfo_,(r,s,o,l)=>{bT(t,r,s,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new us(t.repoInfo_,e,(r,s,o,l)=>{bT(t,r,s,o,l)},r=>{wT(t,r)},r=>{v6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=X3(t.repoInfo_,()=>new Qj(t.stats_,t.server_)),t.infoData_=new qj,t.infoSyncTree_=new yT({startListening:(r,s,o,l)=>{let c=[];const f=t.infoData_.getNode(r._path);return f.isEmpty()||(c=tf(t.infoSyncTree_,r._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),kb(t,"connected",!1),t.serverSyncTree_=new yT({startListening:(r,s,o,l)=>(t.server_.listen(r,o,s,(c,f)=>{const d=l(c,f);Ni(t.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function g6(t){const n=t.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Rb(t){return KU({timestamp:g6(t)})}function bT(t,e,n,r,s){t.dataUpdateCount++;const o=new en(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(r){const f=oh(n,d=>Wn(d));l=VU(t.serverSyncTree_,o,f,s)}else{const f=Wn(n);l=wR(t.serverSyncTree_,o,f,s)}else if(r){const f=oh(n,d=>Wn(d));l=BU(t.serverSyncTree_,o,f)}else{const f=Wn(n);l=tf(t.serverSyncTree_,o,f)}let c=o;l.length>0&&(c=fp(t,o)),Ni(t.eventQueue_,c,l)}function wT(t,e){kb(t,"connected",e),e===!1&&b6(t)}function v6(t,e){br(e,(n,r)=>{kb(t,n,r)})}function kb(t,e,n){const r=new en("/.info/"+e),s=Wn(n);t.infoData_.updateSnapshot(r,s);const o=tf(t.infoSyncTree_,r,s);Ni(t.eventQueue_,r,o)}function MR(t){return t.nextWriteId_++}function y6(t,e,n){const r=WU(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const o=Wn(s).withIndex(e._queryParams.getIndex());HU(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=tf(t.serverSyncTree_,e._path,o);else{const c=Bu(t.serverSyncTree_,e);l=wR(t.serverSyncTree_,e._path,o,c)}return Ni(t.eventQueue_,e._path,l),bR(t.serverSyncTree_,e,n,null,!0),o},s=>(up(t,"get for query "+Ln(e)+" failed: "+s),Promise.reject(new Error(s))))}function _6(t,e,n,r,s){up(t,"set",{path:e.toString(),value:n,priority:r});const o=Rb(t),l=Wn(n,r),c=yb(t.serverSyncTree_,e),f=xR(l,c,o),d=MR(t),p=_R(t.serverSyncTree_,e,f,d,!0);NR(t.eventQueue_,p),t.server_.put(e.toString(),l.val(!0),(g,y)=>{const w=g==="ok";w||vr("set at "+e+" failed: "+g);const E=ra(t.serverSyncTree_,d,!w);Ni(t.eventQueue_,e,E),S6(t,s,g,y)});const m=UR(t,e);fp(t,m),Ni(t.eventQueue_,m,[])}function b6(t){up(t,"onDisconnectEvents");const e=Rb(t),n=yh();Wv(t.onDisconnect_,Bt(),(s,o)=>{const l=XU(s,o,t.serverSyncTree_,e);rR(n,s,l)});let r=[];Wv(n,Bt(),(s,o)=>{r=r.concat(tf(t.serverSyncTree_,s,o));const l=UR(t,s);fp(t,l)}),t.onDisconnect_=yh(),Ni(t.eventQueue_,Bt(),r)}function w6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(d6)}function up(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nr(n,...e)}function S6(t,e,n,r){e&&Kl(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let o=s;r&&(o+=": "+r);const l=new Error(o);l.code=s,e(l)}})}function DR(t,e,n){return yb(t.serverSyncTree_,e,n)||pt.EMPTY_NODE}function Ob(t,e=t.transactionQueueTree_){if(e||dp(t,e),Ql(e)){const n=LR(t,e);Ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&E6(t,rf(e),n)}else AR(e)&&cp(e,n=>{Ob(t,n)})}function E6(t,e,n){const r=n.map(d=>d.currentWriteId),s=DR(t,e,r);let o=s;const l=s.hash();for(let d=0;d<n.length;d++){const p=n[d];Ye(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=sr(e,p.path);o=o.updateChild(m,p.currentOutputSnapshotRaw)}const c=o.val(!0),f=e;t.server_.put(f.toString(),c,d=>{up(t,"transaction put response",{path:f.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,p=p.concat(ra(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();dp(t,Cb(t.transactionQueueTree_,e)),Ob(t,t.transactionQueueTree_),Ni(t.eventQueue_,e,p);for(let g=0;g<m.length;g++)Kl(m[g])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{vr("transaction at "+f.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}fp(t,e)}},l)}function fp(t,e){const n=PR(t,e),r=rf(n),s=LR(t,n);return T6(t,s,r),r}function T6(t,e,n){if(e.length===0)return;const r=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],d=sr(n,f.path);let p=!1,m;if(Ye(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,m=f.abortReason,s=s.concat(ra(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=h6)p=!0,m="maxretry",s=s.concat(ra(t.serverSyncTree_,f.currentWriteId,!0));else{const g=DR(t,f.path,l);f.currentInputSnapshot=g;const y=e[c].update(g.val());if(y!==void 0){Ab("transaction failed: Data returned ",y,f.path);let w=Wn(y);typeof y=="object"&&y!=null&&bs(y,".priority")||(w=w.updatePriority(g.getPriority()));const C=f.currentWriteId,k=Rb(t),T=xR(w,g,k);f.currentOutputSnapshotRaw=w,f.currentOutputSnapshotResolved=T,f.currentWriteId=MR(t),l.splice(l.indexOf(C),1),s=s.concat(_R(t.serverSyncTree_,f.path,T,f.currentWriteId,f.applyLocally)),s=s.concat(ra(t.serverSyncTree_,C,!0))}else p=!0,m="nodata",s=s.concat(ra(t.serverSyncTree_,f.currentWriteId,!0))}Ni(t.eventQueue_,n,s),s=[],p&&(e[c].status=2,function(g){setTimeout(g,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(m),!1,null))))}dp(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)Kl(r[c]);Ob(t,t.transactionQueueTree_)}function PR(t,e){let n,r=t.transactionQueueTree_;for(n=kt(e);n!==null&&Ql(r)===void 0;)r=Cb(r,n),e=on(e),n=kt(e);return r}function LR(t,e){const n=[];return jR(t,e,n),n.sort((r,s)=>r.order-s.order),n}function jR(t,e,n){const r=Ql(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);cp(e,s=>{jR(t,s,n)})}function dp(t,e){const n=Ql(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,CR(e,n.length>0?n:void 0)}cp(e,r=>{dp(t,r)})}function UR(t,e){const n=rf(PR(t,e)),r=Cb(t.transactionQueueTree_,e);return e6(r,s=>{iv(t,s)}),iv(t,r),RR(r,s=>{iv(t,s)}),n}function iv(t,e){const n=Ql(e);if(n){const r=[];let s=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(Ye(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(Ye(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(ra(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?CR(e,void 0):n.length=o+1,Ni(t.eventQueue_,rf(e),s);for(let l=0;l<r.length;l++)Kl(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function C6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vr(`Invalid query segment '${n}' in query '${t}'`)}return e}const ST=function(t,e){const n=A6(t),r=n.namespace;n.domain==="firebase.com"&&ps(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ps("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||U3();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jA(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new en(n.pathString)}},A6=function(t){let e="",n="",r="",s="",o="",l=!0,c="https",f=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(s=x6(t.substring(p,m)));const g=C6(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(l=c==="https"||c==="wss",f=parseInt(e.substring(d+1),10)):d=e.length;const y=e.slice(0,d);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=r}"ns"in g&&(o=g.ns)}return{host:e,port:f,domain:n,subdomain:r,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ln(this.snapshot.exportVal())}}class k6{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Ye(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Rt(this._path)?null:$A(this._path)}get ref(){return new ws(this._repo,this._path)}get _queryIdentifier(){const e=aT(this._queryParams),n=ib(e);return n==="{}"?"default":n}get _queryObject(){return aT(this._queryParams)}isEqual(e){if(e=wr(e),!(e instanceof Ib))return!1;const n=this._repo===e._repo,r=KA(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+wj(this._path)}}class ws extends Ib{constructor(e,n){super(e,n,new fb,!1)}get parent(){const e=YA(this._path);return e===null?null:new ws(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class zu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new en(e),r=Qv(this.ref,e);return new zu(this._node.getChild(n),r,Sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new zu(s,Qv(this.ref,r),Sn)))}hasChild(e){const n=new en(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function BR(t,e){return t=wr(t),t._checkNotDeleted("ref"),e!==void 0?Qv(t._root,e):t._root}function Qv(t,e){return t=wr(t),kt(t._path)===null?o6("child","path",e):IR("child","path",e),new ws(t._repo,jn(t._path,e))}function I6(t,e){t=wr(t),a6("set",t._path),s6("set",e,t._path);const n=new Xh;return _6(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function N6(t){t=wr(t);const e=new O6(()=>{}),n=new Nb(e);return y6(t._repo,t,n).then(r=>new zu(r,new ws(t._repo,t._path),t._queryParams.getIndex()))}class Nb{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new R6("value",this,new zu(e.snapshotNode,new ws(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new k6(this,e,n):null}matches(e){return e instanceof Nb?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}IU(ws);LU(ws);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="FIREBASE_DATABASE_EMULATOR_HOST",Zv={};let D6=!1;function P6(t,e,n,r){const s=e.lastIndexOf(":"),o=e.substring(0,s),l=Hl(o);t.repoInfo_=new jA(e,l,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function L6(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ps("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=ST(o,s),c=l.repoInfo,f;typeof process<"u"&&H1&&(f=H1[M6]),f?(o=`http://${f}?ns=${c.namespace}`,l=ST(o,s),c=l.repoInfo):l.repoInfo.secure;const d=new K3(t.name,t.options,e);l6("Invalid Firebase Database URL",l),Rt(l.path)||ps("Database URL must point to the root of a Firebase Database (not including a child path).");const p=U6(c,t,d,new Y3(t,n));return new B6(p,t)}function j6(t,e){const n=Zv[e];(!n||n[t.key]!==t)&&ps(`Database ${e}(${t.repoInfo_}) has already been deleted.`),w6(t),delete n[t.key]}function U6(t,e,n,r){let s=Zv[e.name];s||(s={},Zv[e.name]=s);let o=s[t.toURLString()];return o&&ps("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new p6(t,D6,n,r),s[t.toURLString()]=o,o}class B6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ws(this._repo,Bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(j6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ps("Cannot call "+e+" on a deleted database.")}}function z6(t=zC(),e){const n=K_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=VD("database");r&&F6(n,...r)}return n}function F6(t,e,n,r={}){t=wr(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&ua(r,o.repoInfo_.emulatorOptions))return;ps("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ps('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Wd(Wd.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:HD(r.mockUserToken,t.app.options.projectId);l=new Wd(c)}Hl(e)&&(MC(e),DC("Database",!0)),P6(o,s,r,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t){N3(ql),Ol(new fa("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return L6(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),uo(W1,q1,t),uo(W1,q1,"esm2017")}us.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};us.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};V6();const H6={apiKey:"AIzaSyAFFWqxrJRowPed2ByjoMsBCUyWTg4sVAI",authDomain:"smart-doser.firebaseapp.com",projectId:"smart-doser",storageBucket:"smart-doser.firebasestorage.app",messagingSenderId:"1058789459046",appId:"1:1058789459046:web:7a60c79054039d147159a7"},zR=BC(H6),Mb=R3(zR),FR=z6(zR),W6=()=>{const[t,e]=V.useState(null);return V.useEffect(()=>{vL(Mb,n=>e(n))},[]),t};function ET(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VR(...t){return e=>{let n=!1;const r=t.map(s=>{const o=ET(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ET(t[s],null)}}}}function tn(...t){return V.useCallback(VR(...t),t)}function Pl(t){const e=q6(t),n=V.forwardRef((r,s)=>{const{children:o,...l}=r,c=V.Children.toArray(o),f=c.find(G6);if(f){const d=f.props.children,p=c.map(m=>m===f?V.Children.count(d)>1?V.Children.only(null):V.isValidElement(d)?d.props.children:null:m);return W.jsx(e,{...l,ref:s,children:V.isValidElement(d)?V.cloneElement(d,void 0,p):null})}return W.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var HR=Pl("Slot");function q6(t){const e=V.forwardRef((n,r)=>{const{children:s,...o}=n;if(V.isValidElement(s)){const l=K6(s),c=Y6(o,s.props);return s.type!==V.Fragment&&(c.ref=r?VR(r,l):l),V.cloneElement(s,c)}return V.Children.count(s)>1?V.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $6=Symbol("radix.slottable");function G6(t){return V.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$6}function Y6(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const f=o(...c);return s(...c),f}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function K6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function WR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=WR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=WR(t))&&(r&&(r+=" "),r+=e);return r}const TT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xT=qR,Db=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(d=>{const p=n==null?void 0:n[d],m=o==null?void 0:o[d];if(p===null)return null;const g=TT(p)||TT(m);return s[d][g]}),c=n&&Object.entries(n).reduce((d,p)=>{let[m,g]=p;return g===void 0||(d[m]=g),d},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:m,className:g,...y}=p;return Object.entries(y).every(w=>{let[E,C]=w;return Array.isArray(C)?C.includes({...o,...c}[E]):{...o,...c}[E]===C})?[...d,m,g]:d},[]);return xT(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},Pb="-",Q6=t=>{const e=X6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(Pb);return c[0]===""&&c.length!==1&&c.shift(),$R(c,e)||Z6(l)},getConflictingClassGroupIds:(l,c)=>{const f=n[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},$R=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$R(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Pb);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},CT=/^\[(.+)\]$/,Z6=t=>{if(CT.test(t)){const e=CT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},X6=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Xv(n[s],r,s,e);return r},Xv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:AT(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(J6(s)){Xv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{Xv(l,AT(e,o),n,r)})})},AT=(t,e)=>{let n=t;return e.split(Pb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},J6=t=>t.isThemeGetter,eB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},Jv="!",ey=":",tB=ey.length,nB=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,f=0,d;for(let w=0;w<s.length;w++){let E=s[w];if(l===0&&c===0){if(E===ey){o.push(s.slice(f,w)),f=w+tB;continue}if(E==="/"){d=w;continue}}E==="["?l++:E==="]"?l--:E==="("?c++:E===")"&&c--}const p=o.length===0?s:s.substring(f),m=rB(p),g=m!==p,y=d&&d>f?d-f:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const s=e+ey,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},rB=t=>t.endsWith(Jv)?t.substring(0,t.length-1):t.startsWith(Jv)?t.substring(1):t,iB=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},sB=t=>({cache:eB(t.cacheSize),parseClassName:nB(t),sortModifiers:iB(t),...Q6(t)}),oB=/\s+/,aB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(oB);let f="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:m,modifiers:g,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:E}=n(p);if(m){f=p+(f.length>0?" "+f:f);continue}let C=!!E,k=r(C?w.substring(0,E):w);if(!k){if(!C){f=p+(f.length>0?" "+f:f);continue}if(k=r(w),!k){f=p+(f.length>0?" "+f:f);continue}C=!1}const T=o(g).join(":"),A=y?T+Jv:T,z=A+k;if(l.includes(z))continue;l.push(z);const N=s(k,C);for(let M=0;M<N.length;++M){const I=N[M];l.push(A+I)}f=p+(f.length>0?" "+f:f)}return f};function lB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=GR(e))&&(r&&(r+=" "),r+=n);return r}const GR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GR(t[r]))&&(n&&(n+=" "),n+=e);return n};function cB(t,...e){let n,r,s,o=l;function l(f){const d=e.reduce((p,m)=>m(p),t());return n=sB(d),r=n.cache.get,s=n.cache.set,o=c,c(f)}function c(f){const d=r(f);if(d)return d;const p=aB(f,n);return s(f,p),p}return function(){return o(lB.apply(null,arguments))}}const Dn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},YR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,KR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uB=/^\d+\/\d+$/,fB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ul=t=>uB.test(t),wt=t=>!!t&&!Number.isNaN(Number(t)),Ys=t=>!!t&&Number.isInteger(Number(t)),sv=t=>t.endsWith("%")&&wt(t.slice(0,-1)),Ji=t=>fB.test(t),gB=()=>!0,vB=t=>dB.test(t)&&!hB.test(t),QR=()=>!1,yB=t=>pB.test(t),_B=t=>mB.test(t),bB=t=>!nt(t)&&!rt(t),wB=t=>Zl(t,JR,QR),nt=t=>YR.test(t),Ko=t=>Zl(t,ek,vB),ov=t=>Zl(t,CB,wt),RT=t=>Zl(t,ZR,QR),SB=t=>Zl(t,XR,_B),Td=t=>Zl(t,tk,yB),rt=t=>KR.test(t),su=t=>Xl(t,ek),EB=t=>Xl(t,AB),kT=t=>Xl(t,ZR),TB=t=>Xl(t,JR),xB=t=>Xl(t,XR),xd=t=>Xl(t,tk,!0),Zl=(t,e,n)=>{const r=YR.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Xl=(t,e,n=!1)=>{const r=KR.exec(t);return r?r[1]?e(r[1]):n:!1},ZR=t=>t==="position"||t==="percentage",XR=t=>t==="image"||t==="url",JR=t=>t==="length"||t==="size"||t==="bg-size",ek=t=>t==="length",CB=t=>t==="number",AB=t=>t==="family-name",tk=t=>t==="shadow",RB=()=>{const t=Dn("color"),e=Dn("font"),n=Dn("text"),r=Dn("font-weight"),s=Dn("tracking"),o=Dn("leading"),l=Dn("breakpoint"),c=Dn("container"),f=Dn("spacing"),d=Dn("radius"),p=Dn("shadow"),m=Dn("inset-shadow"),g=Dn("text-shadow"),y=Dn("drop-shadow"),w=Dn("blur"),E=Dn("perspective"),C=Dn("aspect"),k=Dn("ease"),T=Dn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...z(),rt,nt],M=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],P=()=>[rt,nt,f],Q=()=>[ul,"full","auto",...P()],ne=()=>[Ys,"none","subgrid",rt,nt],se=()=>["auto",{span:["full",Ys,rt,nt]},Ys,rt,nt],L=()=>[Ys,"auto",rt,nt],ae=()=>["auto","min","max","fr",rt,nt],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...P()],G=()=>[ul,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],q=()=>[t,rt,nt],ye=()=>[...z(),kT,RT,{position:[rt,nt]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",TB,wB,{size:[rt,nt]}],U=()=>[sv,su,Ko],re=()=>["","none","full",d,rt,nt],ve=()=>["",wt,su,Ko],X=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[wt,sv,kT,RT],K=()=>["","none",w,rt,nt],be=()=>["none",wt,rt,nt],ue=()=>["none",wt,rt,nt],fe=()=>[wt,rt,nt],pe=()=>[ul,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ji],breakpoint:[Ji],color:[gB],container:[Ji],"drop-shadow":[Ji],ease:["in","out","in-out"],font:[bB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ji],shadow:[Ji],spacing:["px",wt],text:[Ji],"text-shadow":[Ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ul,nt,rt,C]}],container:["container"],columns:[{columns:[wt,nt,rt,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ys,"auto",rt,nt]}],basis:[{basis:[ul,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,ul,"auto","initial","none",nt]}],grow:[{grow:["",wt,rt,nt]}],shrink:[{shrink:["",wt,rt,nt]}],order:[{order:[Ys,"first","last","none",rt,nt]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[c,"screen",...G()]}],"min-w":[{"min-w":[c,"screen","none",...G()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,su,Ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,rt,ov]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sv,nt]}],"font-family":[{font:[EB,nt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,rt,nt]}],"line-clamp":[{"line-clamp":[wt,"none",rt,ov]}],leading:[{leading:[o,...P()]}],"list-image":[{"list-image":["none",rt,nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rt,nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",rt,Ko]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[wt,"auto",rt,nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt,nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt,nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ys,rt,nt],radial:["",rt,nt],conic:[Ys,rt,nt]},xB,SB]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,rt,nt]}],"outline-w":[{outline:["",wt,su,Ko]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,xd,Td]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",m,xd,Td]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[wt,Ko]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",g,xd,Td]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[wt,rt,nt]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[rt,nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rt,nt]}],filter:[{filter:["","none",rt,nt]}],blur:[{blur:K()}],brightness:[{brightness:[wt,rt,nt]}],contrast:[{contrast:[wt,rt,nt]}],"drop-shadow":[{"drop-shadow":["","none",y,xd,Td]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",wt,rt,nt]}],"hue-rotate":[{"hue-rotate":[wt,rt,nt]}],invert:[{invert:["",wt,rt,nt]}],saturate:[{saturate:[wt,rt,nt]}],sepia:[{sepia:["",wt,rt,nt]}],"backdrop-filter":[{"backdrop-filter":["","none",rt,nt]}],"backdrop-blur":[{"backdrop-blur":K()}],"backdrop-brightness":[{"backdrop-brightness":[wt,rt,nt]}],"backdrop-contrast":[{"backdrop-contrast":[wt,rt,nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,rt,nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,rt,nt]}],"backdrop-invert":[{"backdrop-invert":["",wt,rt,nt]}],"backdrop-opacity":[{"backdrop-opacity":[wt,rt,nt]}],"backdrop-saturate":[{"backdrop-saturate":[wt,rt,nt]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,rt,nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rt,nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",rt,nt]}],ease:[{ease:["linear","initial",k,rt,nt]}],delay:[{delay:[wt,rt,nt]}],animate:[{animate:["none",T,rt,nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,rt,nt]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[rt,nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt,nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt,nt]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[wt,su,Ko,ov]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kB=cB(RB);function nn(...t){return kB(qR(t))}const OB=Db("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),yr=V.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const l=r?HR:"button";return W.jsx(l,{className:nn(OB({variant:e,size:n,className:t})),ref:o,...s})});yr.displayName="Button";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),OT=t=>{const e=NB(t);return e.charAt(0).toUpperCase()+e.slice(1)},nk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),MB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},f)=>V.createElement("svg",{ref:f,...DB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nk("lucide",s),...!o&&!MB(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>V.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=(t,e)=>{const n=V.forwardRef(({className:r,...s},o)=>V.createElement(PB,{ref:o,iconNode:e,className:nk(`lucide-${IB(OT(t))}`,`lucide-${t}`,r),...s}));return n.displayName=OT(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jB=Jl("check",LB);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rk=Jl("chevron-down",UB);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zB=Jl("chevron-up",BB);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],VB=Jl("loader-circle",FB);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m14.305 7.53.923-.382",key:"1mlnsw"}],["path",{d:"m15.228 4.852-.923-.383",key:"82mpwg"}],["path",{d:"m16.852 3.228-.383-.924",key:"ln4sir"}],["path",{d:"m16.852 8.772-.383.923",key:"1dejw0"}],["path",{d:"m19.148 3.228.383-.924",key:"192kgf"}],["path",{d:"m19.53 9.696-.382-.924",key:"fiavlr"}],["path",{d:"m20.772 4.852.924-.383",key:"1j8mgp"}],["path",{d:"m20.772 7.148.924.383",key:"zix9be"}],["path",{d:"M22 13v2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"1tnzv8"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}]],WB=Jl("monitor-cog",HB);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$B=Jl("x",qB),GB=Db("flex-col items-center justify-center",{variants:{show:{true:"flex",false:"hidden"}},defaultVariants:{show:!0}}),YB=Db("animate-spin text-primary",{variants:{size:{small:"size-6",medium:"size-8",large:"size-12"}},defaultVariants:{size:"medium"}});function ik({size:t,show:e,children:n,className:r}){return W.jsxs("span",{className:GB({show:e}),children:[W.jsx(VB,{className:nn(YB({size:t}),r)}),n]})}const Ea=({text:t="Loading"})=>W.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center z-10 bg-popover/50",children:W.jsxs(ik,{size:"large",children:[t,"..."]})}),KB={theme:"system",setTheme:()=>null},sk=V.createContext(KB);function QB({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,o]=V.useState(()=>localStorage.getItem(n)||e);V.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(f);return}c.classList.add(s)},[s]);const l={theme:s,setTheme:c=>{localStorage.setItem(n,c),o(c)}};return W.jsx(sk.Provider,{...r,value:l,children:t})}const ZB=()=>{const t=V.useContext(sk);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};var qd={exports:{}},XB=qd.exports,IT;function JB(){return IT||(IT=1,function(t,e){(function(n,r){t.exports=r()})(XB,function(){var n=1e3,r=6e4,s=36e5,o="millisecond",l="second",c="minute",f="hour",d="day",p="week",m="month",g="quarter",y="year",w="date",E="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ie){var H=["th","st","nd","rd"],D=ie%100;return"["+ie+(H[(D-20)%10]||H[D]||H[0])+"]"}},A=function(ie,H,D){var G=String(ie);return!G||G.length>=H?ie:""+Array(H+1-G.length).join(D)+ie},z={s:A,z:function(ie){var H=-ie.utcOffset(),D=Math.abs(H),G=Math.floor(D/60),q=D%60;return(H<=0?"+":"-")+A(G,2,"0")+":"+A(q,2,"0")},m:function ie(H,D){if(H.date()<D.date())return-ie(D,H);var G=12*(D.year()-H.year())+(D.month()-H.month()),q=H.clone().add(G,m),ye=D-q<0,R=H.clone().add(G+(ye?-1:1),m);return+(-(G+(D-q)/(ye?q-R:R-q))||0)},a:function(ie){return ie<0?Math.ceil(ie)||0:Math.floor(ie)},p:function(ie){return{M:m,y,w:p,d,D:w,h:f,m:c,s:l,ms:o,Q:g}[ie]||String(ie||"").toLowerCase().replace(/s$/,"")},u:function(ie){return ie===void 0}},N="en",M={};M[N]=T;var I="$isDayjsObject",P=function(ie){return ie instanceof L||!(!ie||!ie[I])},Q=function ie(H,D,G){var q;if(!H)return N;if(typeof H=="string"){var ye=H.toLowerCase();M[ye]&&(q=ye),D&&(M[ye]=D,q=ye);var R=H.split("-");if(!q&&R.length>1)return ie(R[0])}else{var Z=H.name;M[Z]=H,q=Z}return!G&&q&&(N=q),q||!G&&N},ne=function(ie,H){if(P(ie))return ie.clone();var D=typeof H=="object"?H:{};return D.date=ie,D.args=arguments,new L(D)},se=z;se.l=Q,se.i=P,se.w=function(ie,H){return ne(ie,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var L=function(){function ie(D){this.$L=Q(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[I]=!0}var H=ie.prototype;return H.parse=function(D){this.$d=function(G){var q=G.date,ye=G.utc;if(q===null)return new Date(NaN);if(se.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var R=q.match(C);if(R){var Z=R[2]-1||0,U=(R[7]||"0").substring(0,3);return ye?new Date(Date.UTC(R[1],Z,R[3]||1,R[4]||0,R[5]||0,R[6]||0,U)):new Date(R[1],Z,R[3]||1,R[4]||0,R[5]||0,R[6]||0,U)}}return new Date(q)}(D),this.init()},H.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},H.$utils=function(){return se},H.isValid=function(){return this.$d.toString()!==E},H.isSame=function(D,G){var q=ne(D);return this.startOf(G)<=q&&q<=this.endOf(G)},H.isAfter=function(D,G){return ne(D)<this.startOf(G)},H.isBefore=function(D,G){return this.endOf(G)<ne(D)},H.$g=function(D,G,q){return se.u(D)?this[G]:this.set(q,D)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(D,G){var q=this,ye=!!se.u(G)||G,R=se.p(D),Z=function(be,ue){var fe=se.w(q.$u?Date.UTC(q.$y,ue,be):new Date(q.$y,ue,be),q);return ye?fe:fe.endOf(d)},U=function(be,ue){return se.w(q.toDate()[be].apply(q.toDate("s"),(ye?[0,0,0,0]:[23,59,59,999]).slice(ue)),q)},re=this.$W,ve=this.$M,X=this.$D,Ae="set"+(this.$u?"UTC":"");switch(R){case y:return ye?Z(1,0):Z(31,11);case m:return ye?Z(1,ve):Z(0,ve+1);case p:var J=this.$locale().weekStart||0,K=(re<J?re+7:re)-J;return Z(ye?X-K:X+(6-K),ve);case d:case w:return U(Ae+"Hours",0);case f:return U(Ae+"Minutes",1);case c:return U(Ae+"Seconds",2);case l:return U(Ae+"Milliseconds",3);default:return this.clone()}},H.endOf=function(D){return this.startOf(D,!1)},H.$set=function(D,G){var q,ye=se.p(D),R="set"+(this.$u?"UTC":""),Z=(q={},q[d]=R+"Date",q[w]=R+"Date",q[m]=R+"Month",q[y]=R+"FullYear",q[f]=R+"Hours",q[c]=R+"Minutes",q[l]=R+"Seconds",q[o]=R+"Milliseconds",q)[ye],U=ye===d?this.$D+(G-this.$W):G;if(ye===m||ye===y){var re=this.clone().set(w,1);re.$d[Z](U),re.init(),this.$d=re.set(w,Math.min(this.$D,re.daysInMonth())).$d}else Z&&this.$d[Z](U);return this.init(),this},H.set=function(D,G){return this.clone().$set(D,G)},H.get=function(D){return this[se.p(D)]()},H.add=function(D,G){var q,ye=this;D=Number(D);var R=se.p(G),Z=function(ve){var X=ne(ye);return se.w(X.date(X.date()+Math.round(ve*D)),ye)};if(R===m)return this.set(m,this.$M+D);if(R===y)return this.set(y,this.$y+D);if(R===d)return Z(1);if(R===p)return Z(7);var U=(q={},q[c]=r,q[f]=s,q[l]=n,q)[R]||1,re=this.$d.getTime()+D*U;return se.w(re,this)},H.subtract=function(D,G){return this.add(-1*D,G)},H.format=function(D){var G=this,q=this.$locale();if(!this.isValid())return q.invalidDate||E;var ye=D||"YYYY-MM-DDTHH:mm:ssZ",R=se.z(this),Z=this.$H,U=this.$m,re=this.$M,ve=q.weekdays,X=q.months,Ae=q.meridiem,J=function(ue,fe,pe,Ne){return ue&&(ue[fe]||ue(G,ye))||pe[fe].slice(0,Ne)},K=function(ue){return se.s(Z%12||12,ue,"0")},be=Ae||function(ue,fe,pe){var Ne=ue<12?"AM":"PM";return pe?Ne.toLowerCase():Ne};return ye.replace(k,function(ue,fe){return fe||function(pe){switch(pe){case"YY":return String(G.$y).slice(-2);case"YYYY":return se.s(G.$y,4,"0");case"M":return re+1;case"MM":return se.s(re+1,2,"0");case"MMM":return J(q.monthsShort,re,X,3);case"MMMM":return J(X,re);case"D":return G.$D;case"DD":return se.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return J(q.weekdaysMin,G.$W,ve,2);case"ddd":return J(q.weekdaysShort,G.$W,ve,3);case"dddd":return ve[G.$W];case"H":return String(Z);case"HH":return se.s(Z,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return be(Z,U,!0);case"A":return be(Z,U,!1);case"m":return String(U);case"mm":return se.s(U,2,"0");case"s":return String(G.$s);case"ss":return se.s(G.$s,2,"0");case"SSS":return se.s(G.$ms,3,"0");case"Z":return R}return null}(ue)||R.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(D,G,q){var ye,R=this,Z=se.p(G),U=ne(D),re=(U.utcOffset()-this.utcOffset())*r,ve=this-U,X=function(){return se.m(R,U)};switch(Z){case y:ye=X()/12;break;case m:ye=X();break;case g:ye=X()/3;break;case p:ye=(ve-re)/6048e5;break;case d:ye=(ve-re)/864e5;break;case f:ye=ve/s;break;case c:ye=ve/r;break;case l:ye=ve/n;break;default:ye=ve}return q?ye:se.a(ye)},H.daysInMonth=function(){return this.endOf(m).$D},H.$locale=function(){return M[this.$L]},H.locale=function(D,G){if(!D)return this.$L;var q=this.clone(),ye=Q(D,G,!0);return ye&&(q.$L=ye),q},H.clone=function(){return se.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},ie}(),ae=L.prototype;return ne.prototype=ae,[["$ms",o],["$s",l],["$m",c],["$H",f],["$W",d],["$M",m],["$y",y],["$D",w]].forEach(function(ie){ae[ie[1]]=function(H){return this.$g(H,ie[0],ie[1])}}),ne.extend=function(ie,H){return ie.$i||(ie(H,L,ne),ie.$i=!0),ne},ne.locale=Q,ne.isDayjs=P,ne.unix=function(ie){return ne(1e3*ie)},ne.en=M[N],ne.Ls=M,ne.p={},ne})}(qd)),qd.exports}var e5=JB();const NT=F_(e5),t5=()=>{const[t,e]=V.useState(NT());return V.useEffect(()=>{const n=setInterval(()=>{e(NT())},500);return()=>{clearInterval(n)}},[]),W.jsxs("h1",{className:"flex gap-3 items-center justify-center uppercase font-teko scroll-m-20 text-4xl font-semibold tracking-tight lg:text-6xl opacity-50",children:[W.jsxs("span",{className:"flex gap-2 items-start justify-center",children:[W.jsx("span",{children:t.format("HH:mm")}),W.jsx("span",{className:"text-xl font-medium tracking-wide mt-[0.5]",children:t.format("A")})]}),W.jsxs("span",{className:"flex flex-col items-center justify-center",children:[W.jsx("span",{className:"text-3xl font-bold tracking-normal",children:t.format("ddd")}),W.jsx("span",{className:"text-2xl font-normal tracking-normal mt-[-0.6rem]",children:t.format("MMM DD")})]})]})};var ok={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},MT=Pe.createContext&&Pe.createContext(ok),n5=["attr","size","title"];function r5(t,e){if(t==null)return{};var n=i5(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){s5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=a5(t,"string");return typeof e=="symbol"?e:e+""}function a5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ak(t){return t&&t.map((e,n)=>Pe.createElement(e.tag,Ah({key:n},e.attr),ak(e.child)))}function fi(t){return e=>Pe.createElement(l5,Ch({attr:Ah({},t.attr)},e),ak(t.child))}function l5(t){var e=n=>{var{attr:r,size:s,title:o}=t,l=r5(t,n5),c=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Pe.createElement("svg",Ch({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Ah(Ah({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Pe.createElement("title",null,o),t.children)};return MT!==void 0?Pe.createElement(MT.Consumer,null,n=>e(n)):e(ok)}function c5(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(t)}function u5(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"},child:[]}]})(t)}function f5(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(t)}function d5(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v48m0 320v48m147.08-355.08-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08-33.94-33.94M142.86 142.86l-33.94-33.94"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(t)}function h5(t){return fi({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"448",height:"80",x:"32",y:"48",rx:"32",ry:"32"},child:[]},{tag:"path",attr:{d:"M74.45 160a8 8 0 0 0-8 8.83l26.31 252.56a1.5 1.5 0 0 0 0 .22A48 48 0 0 0 140.45 464h231.09a48 48 0 0 0 47.67-42.39v-.21l26.27-252.57a8 8 0 0 0-8-8.83zm248.86 180.69a16 16 0 1 1-22.63 22.62L256 318.63l-44.69 44.68a16 16 0 0 1-22.63-22.62L233.37 296l-44.69-44.69a16 16 0 0 1 22.63-22.62L256 273.37l44.68-44.68a16 16 0 0 1 22.63 22.62L278.62 296z"},child:[]}]})(t)}const p5=async(t,e)=>await pL(Mb,t,e),m5=async()=>await Mb.signOut();var sf=xC();const lk=F_(sf);function g5(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const v5=t=>{switch(t){case"success":return b5;case"info":return S5;case"warning":return w5;case"error":return E5;default:return null}},y5=Array(12).fill(0),_5=({visible:t,className:e})=>Pe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Pe.createElement("div",{className:"sonner-spinner"},y5.map((n,r)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),b5=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),w5=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S5=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E5=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T5=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),x5=()=>{const[t,e]=Pe.useState(document.hidden);return Pe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let ty=1;class C5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ty++,l=this.toasts.find(f=>f.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:r}),{...f,...e,id:o,dismissible:c,title:r}):f):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const c=s.then(async d=>{if(l=["resolve",d],Pe.isValidElement(d))o=!1,this.create({id:r,type:"default",message:d});else if(R5(d)&&!d.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,w=typeof m=="object"&&!Pe.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...w})}else if(d instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,w=typeof m=="object"&&!Pe.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...w})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,w=typeof m=="object"&&!Pe.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,...w})}}).catch(async d=>{if(l=["reject",d],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,y=typeof p=="object"&&!Pe.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...y})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((d,p)=>c.then(()=>l[0]==="reject"?p(l[1]):d(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||ty++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pr=new C5,A5=(t,e)=>{const n=(e==null?void 0:e.id)||ty++;return pr.addToast({title:t,...e,id:n}),n},R5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",k5=A5,O5=()=>pr.toasts,I5=()=>pr.getActiveToasts(),On=Object.assign(k5,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:O5,getToasts:I5});g5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cd(t){return t.label!==void 0}const N5=3,M5="24px",D5="16px",PT=4e3,P5=356,L5=14,j5=45,U5=200;function Si(...t){return t.filter(Boolean).join(" ")}function B5(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const z5=t=>{var e,n,r,s,o,l,c,f,d;const{invert:p,toast:m,unstyled:g,interacting:y,setHeights:w,visibleToasts:E,heights:C,index:k,toasts:T,expanded:A,removeToast:z,defaultRichColors:N,closeButton:M,style:I,cancelButtonStyle:P,actionButtonStyle:Q,className:ne="",descriptionClassName:se="",duration:L,position:ae,gap:ie,expandByDefault:H,classNames:D,icons:G,closeButtonAriaLabel:q="Close toast"}=t,[ye,R]=Pe.useState(null),[Z,U]=Pe.useState(null),[re,ve]=Pe.useState(!1),[X,Ae]=Pe.useState(!1),[J,K]=Pe.useState(!1),[be,ue]=Pe.useState(!1),[fe,pe]=Pe.useState(!1),[Ne,Ie]=Pe.useState(0),[ce,me]=Pe.useState(0),we=Pe.useRef(m.duration||L||PT),De=Pe.useRef(null),ke=Pe.useRef(null),$=k===0,B=k+1<=E,oe=m.type,Te=m.dismissible!==!1,ge=m.className||"",Me=m.descriptionClassName||"",b=Pe.useMemo(()=>C.findIndex(Ze=>Ze.toastId===m.id)||0,[C,m.id]),S=Pe.useMemo(()=>{var Ze;return(Ze=m.closeButton)!=null?Ze:M},[m.closeButton,M]),x=Pe.useMemo(()=>m.duration||L||PT,[m.duration,L]),j=Pe.useRef(0),te=Pe.useRef(0),he=Pe.useRef(0),Se=Pe.useRef(null),[qe,$e]=ae.split("-"),Je=Pe.useMemo(()=>C.reduce((Ze,St,_t)=>_t>=b?Ze:Ze+St.height,0),[C,b]),lt=x5(),ot=m.invert||p,In=oe==="loading";te.current=Pe.useMemo(()=>b*ie+Je,[b,Je]),Pe.useEffect(()=>{we.current=x},[x]),Pe.useEffect(()=>{ve(!0)},[]),Pe.useEffect(()=>{const Ze=ke.current;if(Ze){const St=Ze.getBoundingClientRect().height;return me(St),w(_t=>[{toastId:m.id,height:St,position:m.position},..._t]),()=>w(_t=>_t.filter(It=>It.toastId!==m.id))}},[w,m.id]),Pe.useLayoutEffect(()=>{if(!re)return;const Ze=ke.current,St=Ze.style.height;Ze.style.height="auto";const _t=Ze.getBoundingClientRect().height;Ze.style.height=St,me(_t),w(It=>It.find(Y=>Y.toastId===m.id)?It.map(Y=>Y.toastId===m.id?{...Y,height:_t}:Y):[{toastId:m.id,height:_t,position:m.position},...It])},[re,m.title,m.description,w,m.id,m.jsx,m.action,m.cancel]);const rn=Pe.useCallback(()=>{Ae(!0),Ie(te.current),w(Ze=>Ze.filter(St=>St.toastId!==m.id)),setTimeout(()=>{z(m)},U5)},[m,z,w,te]);Pe.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let Ze;return A||y||lt?(()=>{if(he.current<j.current){const It=new Date().getTime()-j.current;we.current=we.current-It}he.current=new Date().getTime()})():(()=>{we.current!==1/0&&(j.current=new Date().getTime(),Ze=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),rn()},we.current))})(),()=>clearTimeout(Ze)},[A,y,m,oe,lt,rn]),Pe.useEffect(()=>{m.delete&&(rn(),m.onDismiss==null||m.onDismiss.call(m,m))},[rn,m.delete]);function Un(){var Ze;if(G!=null&&G.loading){var St;return Pe.createElement("div",{className:Si(D==null?void 0:D.loader,m==null||(St=m.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":oe==="loading"},G.loading)}return Pe.createElement(_5,{className:Si(D==null?void 0:D.loader,m==null||(Ze=m.classNames)==null?void 0:Ze.loader),visible:oe==="loading"})}const Ft=m.icon||(G==null?void 0:G[oe])||v5(oe);var Xt,ct;return Pe.createElement("li",{tabIndex:0,ref:ke,className:Si(ne,ge,D==null?void 0:D.toast,m==null||(e=m.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[oe],m==null||(n=m.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(Xt=m.richColors)!=null?Xt:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":re,"data-promise":!!m.promise,"data-swiped":fe,"data-removed":X,"data-visible":B,"data-y-position":qe,"data-x-position":$e,"data-index":k,"data-front":$,"data-swiping":J,"data-dismissible":Te,"data-type":oe,"data-invert":ot,"data-swipe-out":be,"data-swipe-direction":Z,"data-expanded":!!(A||H&&re),style:{"--index":k,"--toasts-before":k,"--z-index":T.length-k,"--offset":`${X?Ne:te.current}px`,"--initial-height":H?"auto":`${ce}px`,...I,...m.style},onDragEnd:()=>{K(!1),R(null),Se.current=null},onPointerDown:Ze=>{In||!Te||(De.current=new Date,Ie(te.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(K(!0),Se.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,St,_t;if(be||!Te)return;Se.current=null;const It=Number(((Ze=ke.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xn=Number(((St=ke.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Y=new Date().getTime()-((_t=De.current)==null?void 0:_t.getTime()),ee=ye==="x"?It:Xn,Ue=Math.abs(ee)/Y;if(Math.abs(ee)>=j5||Ue>.11){Ie(te.current),m.onDismiss==null||m.onDismiss.call(m,m),U(ye==="x"?It>0?"right":"left":Xn>0?"down":"up"),rn(),ue(!0);return}else{var We,Ke;(We=ke.current)==null||We.style.setProperty("--swipe-amount-x","0px"),(Ke=ke.current)==null||Ke.style.setProperty("--swipe-amount-y","0px")}pe(!1),K(!1),R(null)},onPointerMove:Ze=>{var St,_t,It;if(!Se.current||!Te||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Y=Ze.clientY-Se.current.y,ee=Ze.clientX-Se.current.x;var Ue;const We=(Ue=t.swipeDirections)!=null?Ue:B5(ae);!ye&&(Math.abs(ee)>1||Math.abs(Y)>1)&&R(Math.abs(ee)>Math.abs(Y)?"x":"y");let Ke={x:0,y:0};const pn=yn=>1/(1.5+Math.abs(yn)/20);if(ye==="y"){if(We.includes("top")||We.includes("bottom"))if(We.includes("top")&&Y<0||We.includes("bottom")&&Y>0)Ke.y=Y;else{const yn=Y*pn(Y);Ke.y=Math.abs(yn)<Math.abs(Y)?yn:Y}}else if(ye==="x"&&(We.includes("left")||We.includes("right")))if(We.includes("left")&&ee<0||We.includes("right")&&ee>0)Ke.x=ee;else{const yn=ee*pn(ee);Ke.x=Math.abs(yn)<Math.abs(ee)?yn:ee}(Math.abs(Ke.x)>0||Math.abs(Ke.y)>0)&&pe(!0),(_t=ke.current)==null||_t.style.setProperty("--swipe-amount-x",`${Ke.x}px`),(It=ke.current)==null||It.style.setProperty("--swipe-amount-y",`${Ke.y}px`)}},S&&!m.jsx&&oe!=="loading"?Pe.createElement("button",{"aria-label":q,"data-disabled":In,"data-close-button":!0,onClick:In||!Te?()=>{}:()=>{rn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Si(D==null?void 0:D.closeButton,m==null||(r=m.classNames)==null?void 0:r.closeButton)},(ct=G==null?void 0:G.close)!=null?ct:T5):null,(oe||m.icon||m.promise)&&m.icon!==null&&((G==null?void 0:G[oe])!==null||m.icon)?Pe.createElement("div",{"data-icon":"",className:Si(D==null?void 0:D.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Un():null,m.type!=="loading"?Ft:null):null,Pe.createElement("div",{"data-content":"",className:Si(D==null?void 0:D.content,m==null||(o=m.classNames)==null?void 0:o.content)},Pe.createElement("div",{"data-title":"",className:Si(D==null?void 0:D.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Pe.createElement("div",{"data-description":"",className:Si(se,Me,D==null?void 0:D.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),Pe.isValidElement(m.cancel)?m.cancel:m.cancel&&Cd(m.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Ze=>{Cd(m.cancel)&&Te&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ze),rn())},className:Si(D==null?void 0:D.cancelButton,m==null||(f=m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,Pe.isValidElement(m.action)?m.action:m.action&&Cd(m.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||Q,onClick:Ze=>{Cd(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ze),!Ze.defaultPrevented&&rn())},className:Si(D==null?void 0:D.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function LT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function F5(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",c=o?D5:M5;function f(d){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${l}-${d}`]=c:n[`${l}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):f(c)}),n}const V5=Pe.forwardRef(function(e,n){const{invert:r,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:f,offset:d,mobileOffset:p,theme:m="light",richColors:g,duration:y,style:w,visibleToasts:E=N5,toastOptions:C,dir:k=LT(),gap:T=L5,icons:A,containerAriaLabel:z="Notifications"}=e,[N,M]=Pe.useState([]),I=Pe.useMemo(()=>Array.from(new Set([s].concat(N.filter(Z=>Z.position).map(Z=>Z.position)))),[N,s]),[P,Q]=Pe.useState([]),[ne,se]=Pe.useState(!1),[L,ae]=Pe.useState(!1),[ie,H]=Pe.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=Pe.useRef(null),G=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Pe.useRef(null),ye=Pe.useRef(!1),R=Pe.useCallback(Z=>{M(U=>{var re;return(re=U.find(ve=>ve.id===Z.id))!=null&&re.delete||pr.dismiss(Z.id),U.filter(({id:ve})=>ve!==Z.id)})},[]);return Pe.useEffect(()=>pr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{M(U=>U.map(re=>re.id===Z.id?{...re,delete:!0}:re))});return}setTimeout(()=>{lk.flushSync(()=>{M(U=>{const re=U.findIndex(ve=>ve.id===Z.id);return re!==-1?[...U.slice(0,re),{...U[re],...Z},...U.slice(re+1)]:[Z,...U]})})})}),[N]),Pe.useEffect(()=>{if(m!=="system"){H(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:U})=>{H(U?"dark":"light")})}catch{Z.addListener(({matches:re})=>{try{H(re?"dark":"light")}catch(ve){console.error(ve)}})}},[m]),Pe.useEffect(()=>{N.length<=1&&se(!1)},[N]),Pe.useEffect(()=>{const Z=U=>{var re;if(o.every(Ae=>U[Ae]||U.code===Ae)){var X;se(!0),(X=D.current)==null||X.focus()}U.code==="Escape"&&(document.activeElement===D.current||(re=D.current)!=null&&re.contains(document.activeElement))&&se(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),Pe.useEffect(()=>{if(D.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,ye.current=!1)}},[D.current]),Pe.createElement("section",{ref:n,"aria-label":`${z} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Z,U)=>{var re;const[ve,X]=Z.split("-");return N.length?Pe.createElement("ol",{key:Z,dir:k==="auto"?LT():k,tabIndex:-1,ref:D,className:f,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":ve,"data-x-position":X,style:{"--front-toast-height":`${((re=P[0])==null?void 0:re.height)||0}px`,"--width":`${P5}px`,"--gap":`${T}px`,...w,...F5(d,p)},onBlur:Ae=>{ye.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ye.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ye.current||(ye.current=!0,q.current=Ae.relatedTarget)},onMouseEnter:()=>se(!0),onMouseMove:()=>se(!0),onMouseLeave:()=>{L||se(!1)},onDragEnd:()=>se(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},N.filter(Ae=>!Ae.position&&U===0||Ae.position===Z).map((Ae,J)=>{var K,be;return Pe.createElement(z5,{key:Ae.id,icons:A,index:J,toast:Ae,defaultRichColors:g,duration:(K=C==null?void 0:C.duration)!=null?K:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:E,closeButton:(be=C==null?void 0:C.closeButton)!=null?be:c,interacting:L,position:Z,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:R,toasts:N.filter(ue=>ue.position==Ae.position),heights:P.filter(ue=>ue.position==Ae.position),setHeights:Q,expandByDefault:l,gap:T,expanded:ne,swipeDirections:e.swipeDirections})})):null}))}),H5=()=>{const{setTheme:t,theme:e}=ZB(),n=()=>{t(e==="dark"?"light":"dark")};return W.jsxs("div",{className:"flex w-full justify-between items-center",children:[W.jsx("div",{children:W.jsx(t5,{})}),W.jsxs("div",{className:"flex justify-center items-center gap-4",children:[W.jsx(W5,{}),W.jsx(yr,{size:"icon",variant:"outline",onClick:n,children:e==="dark"?W.jsx(d5,{}):W.jsx(u5,{})})]})]})},W5=()=>{const[t,e]=V.useState(null),n=async()=>{e("Logging out");try{await m5(),On.success("Logged out successfully")}catch(r){console.error("Logout error:",r),On.error("Failed to log out. Please try again.")}finally{e(null)}};return W.jsxs(W.Fragment,{children:[t&&W.jsx(Ea,{text:t}),W.jsx(yr,{size:"icon",variant:"destructive",className:"text-white",onClick:n,children:W.jsx(c5,{})})]})},du={},jT=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,UT=t=>"init"in t,av=t=>!!t.write,BT=t=>"v"in t||"e"in t,Ad=t=>{if("e"in t)throw t.e;if((du?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},Rh=new WeakMap,zT=t=>{var e;return kh(t)&&!!((e=Rh.get(t))!=null&&e[0])},q5=t=>{const e=Rh.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},$5=(t,e)=>{let n=Rh.get(t);if(!n){n=[!0,new Set],Rh.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},kh=t=>typeof(t==null?void 0:t.then)=="function",ck=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},lv=(t,e,n)=>{const r=n(t),s="v"in r,o=r.v;if(kh(e))for(const l of r.d.keys())ck(t,e,n(l));r.v=e,delete r.e,(!s||!Object.is(o,r.v))&&(++r.n,kh(o)&&q5(o))},FT=(t,e,n)=>{var r;const s=new Set;for(const o of((r=n.get(t))==null?void 0:r.t)||[])n.has(o)&&s.add(o);for(const o of e.p)s.add(o);return s},G5=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},cv=()=>{const t={},e=new WeakMap,n=r=>{var s,o;(s=e.get(t))==null||s.forEach(l=>l(r)),(o=e.get(r))==null||o.forEach(l=>l())};return n.add=(r,s)=>{const o=r||t,l=(e.has(o)?e:e.set(o,new Set)).get(o);return l.add(s),()=>{l==null||l.delete(s),l.size||e.delete(o)}},n},Y5=t=>(t.c||(t.c=cv()),t.m||(t.m=cv()),t.u||(t.u=cv()),t.f||(t.f=G5()),t),K5=Symbol(),Q5=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,s=new Set,o=new Set,l={},c=(g,...y)=>g.read(...y),f=(g,...y)=>g.write(...y),d=(g,y)=>{var w;return(w=g.unstable_onInit)==null?void 0:w.call(g,y)},p=(g,y)=>{var w;return(w=g.onMount)==null?void 0:w.call(g,y)},...m)=>{const g=m[0]||(I=>{if((du?"production":void 0)!=="production"&&!I)throw new Error("Atom is undefined or null");let P=t.get(I);return P||(P={d:new Map,p:new Set,n:0},t.set(I,P),d==null||d(I,M)),P}),y=m[1]||(()=>{const I=[],P=Q=>{try{Q()}catch(ne){I.push(ne)}};do{l.f&&P(l.f);const Q=new Set,ne=Q.add.bind(Q);r.forEach(se=>{var L;return(L=e.get(se))==null?void 0:L.l.forEach(ne)}),r.clear(),o.forEach(ne),o.clear(),s.forEach(ne),s.clear(),Q.forEach(P),r.size&&w()}while(r.size||o.size||s.size);if(I.length)throw new AggregateError(I)}),w=m[2]||(()=>{const I=[],P=new WeakSet,Q=new WeakSet,ne=Array.from(r);for(;ne.length;){const se=ne[ne.length-1],L=g(se);if(Q.has(se)){ne.pop();continue}if(P.has(se)){if(n.get(se)===L.n)I.push([se,L]);else if((du?"production":void 0)!=="production"&&n.has(se))throw new Error("[Bug] invalidated atom exists");Q.add(se),ne.pop();continue}P.add(se);for(const ae of FT(se,L,e))P.has(ae)||ne.push(ae)}for(let se=I.length-1;se>=0;--se){const[L,ae]=I[se];let ie=!1;for(const H of ae.d.keys())if(H!==L&&r.has(H)){ie=!0;break}ie&&(E(L),T(L)),n.delete(L)}}),E=m[3]||(I=>{var P;const Q=g(I);if(BT(Q)&&(e.has(I)&&n.get(I)!==Q.n||Array.from(Q.d).every(([G,q])=>E(G).n===q)))return Q;Q.d.clear();let ne=!0;const se=()=>{e.has(I)&&(T(I),w(),y())},L=G=>{var q;if(jT(I,G)){const R=g(G);if(!BT(R))if(UT(G))lv(G,G.init,g);else throw new Error("no atom init");return Ad(R)}const ye=E(G);try{return Ad(ye)}finally{Q.d.set(G,ye.n),zT(Q.v)&&ck(I,Q.v,ye),(q=e.get(G))==null||q.t.add(I),ne||se()}};let ae,ie;const H={get signal(){return ae||(ae=new AbortController),ae.signal},get setSelf(){return(du?"production":void 0)!=="production"&&!av(I)&&console.warn("setSelf function cannot be used with read-only atom"),!ie&&av(I)&&(ie=(...G)=>{if((du?"production":void 0)!=="production"&&ne&&console.warn("setSelf function cannot be called in sync"),!ne)try{return k(I,...G)}finally{w(),y()}}),ie}},D=Q.n;try{const G=c(I,L,H);return lv(I,G,g),kh(G)&&($5(G,()=>ae==null?void 0:ae.abort()),G.then(se,se)),Q}catch(G){return delete Q.v,Q.e=G,++Q.n,Q}finally{ne=!1,D!==Q.n&&n.get(I)===D&&(n.set(I,Q.n),r.add(I),(P=l.c)==null||P.call(l,I))}}),C=m[4]||(I=>{const P=[I];for(;P.length;){const Q=P.pop(),ne=g(Q);for(const se of FT(Q,ne,e)){const L=g(se);n.set(se,L.n),P.push(se)}}}),k=m[5]||((I,...P)=>{let Q=!0;const ne=L=>Ad(E(L)),se=(L,...ae)=>{var ie;const H=g(L);try{if(jT(I,L)){if(!UT(L))throw new Error("atom not writable");const D=H.n,G=ae[0];lv(L,G,g),T(L),D!==H.n&&(r.add(L),(ie=l.c)==null||ie.call(l,L),C(L));return}else return k(L,...ae)}finally{Q||(w(),y())}};try{return f(I,ne,se,...P)}finally{Q=!1}}),T=m[6]||(I=>{var P;const Q=g(I),ne=e.get(I);if(ne&&!zT(Q.v)){for(const[se,L]of Q.d)if(!ne.d.has(se)){const ae=g(se);A(se).t.add(I),ne.d.add(se),L!==ae.n&&(r.add(se),(P=l.c)==null||P.call(l,se),C(se))}for(const se of ne.d||[])if(!Q.d.has(se)){ne.d.delete(se);const L=z(se);L==null||L.t.delete(I)}}}),A=m[7]||(I=>{var P;const Q=g(I);let ne=e.get(I);if(!ne){E(I);for(const se of Q.d.keys())A(se).t.add(I);if(ne={l:new Set,d:new Set(Q.d.keys()),t:new Set},e.set(I,ne),(P=l.m)==null||P.call(l,I),av(I)){const se=()=>{let L=!0;const ae=(...ie)=>{try{return k(I,...ie)}finally{L||(w(),y())}};try{const ie=p(I,ae);ie&&(ne.u=()=>{L=!0;try{ie()}finally{L=!1}})}finally{L=!1}};s.add(se)}}return ne}),z=m[8]||(I=>{var P;const Q=g(I);let ne=e.get(I);if(ne&&!ne.l.size&&!Array.from(ne.t).some(se=>{var L;return(L=e.get(se))==null?void 0:L.d.has(I)})){ne.u&&o.add(ne.u),ne=void 0,e.delete(I),(P=l.u)==null||P.call(l,I);for(const se of Q.d.keys()){const L=z(se);L==null||L.t.delete(I)}return}return ne}),N=[t,e,n,r,s,o,l,c,f,d,p,g,y,w,E,C,k,T,A,z],M={get:I=>Ad(E(I)),set:(I,...P)=>{try{return k(I,...P)}finally{w(),y()}},sub:(I,P)=>{const ne=A(I).l;return ne.add(P),y(),()=>{ne.delete(P),z(I),y()}}};return Object.defineProperty(M,K5,{value:N}),M},uk=Q5,Z5=Y5,Lb={};let X5=0;function fk(t,e){const n=`atom${++X5}`,r={toString(){return(Lb?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=J5,r.write=e8),r}function J5(t){return t(this)}function e8(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const t8=()=>{let t=0;const e=Z5({}),n=new WeakMap,r=new WeakMap,s=uk(n,r,void 0,void 0,void 0,void 0,e,void 0,(c,f,d,...p)=>t?d(c,...p):c.write(f,d,...p)),o=new Set;return e.m.add(void 0,c=>{o.add(c);const f=n.get(c);f.m=r.get(c)}),e.u.add(void 0,c=>{o.delete(c);const f=n.get(c);delete f.m}),Object.assign(s,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>o,dev4_restore_atoms:c=>{const f={read:()=>null,write:(d,p)=>{++t;try{for(const[m,g]of c)"init"in m&&p(m,g)}finally{--t}}};s.set(f)}})};function dk(){return(Lb?"production":void 0)!=="production"?t8():uk()}let ou;function n8(){return ou||(ou=dk(),(Lb?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ou),globalThis.__JOTAI_DEFAULT_STORE__!==ou&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ou}const r8={},i8=V.createContext(void 0);function s8(t){return V.useContext(i8)||n8()}const o8=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))};Pe.use;function hk(t,e){const n=s8();return V.useCallback((...s)=>{if((r8?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}const pk=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("rounded-xl border bg-card text-card-foreground shadow",t),...e}));pk.displayName="Card";const a8=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("flex flex-col space-y-1.5 p-6",t),...e}));a8.displayName="CardHeader";const mk=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("font-semibold leading-none tracking-tight",t),...e}));mk.displayName="CardTitle";const gk=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("text-sm text-muted-foreground",t),...e}));gk.displayName="CardDescription";const vk=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("p-6 pt-0",t),...e}));vk.displayName="CardContent";const l8=V.forwardRef(({className:t,...e},n)=>W.jsx("div",{ref:n,className:nn("flex items-center p-6 pt-0",t),...e}));l8.displayName="CardFooter";var c8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=c8.reduce((t,e)=>{const n=Pl(`Primitive.${e}`),r=V.forwardRef((s,o)=>{const{asChild:l,...c}=s,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),W.jsx(f,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function u8(t,e){t&&sf.flushSync(()=>t.dispatchEvent(e))}var f8="Separator",VT="horizontal",d8=["horizontal","vertical"],yk=V.forwardRef((t,e)=>{const{decorative:n,orientation:r=VT,...s}=t,o=h8(r)?r:VT,c=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return W.jsx(Mt.div,{"data-orientation":o,...c,...s,ref:e})});yk.displayName=f8;function h8(t){return d8.includes(t)}var p8=yk;function _k({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return W.jsx(p8,{"data-slot":"separator-root",decorative:n,orientation:e,className:nn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function m8(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m17 17-5 5V12l-5 5"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]},{tag:"path",attr:{d:"M14.5 9.5 17 7l-5-5v4.5"},child:[]}]})(t)}function g8(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m7 7 10 10-5 5V2l5 5L7 17"},child:[]}]})(t)}function v8(t){return fi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h.01"},child:[]},{tag:"path",attr:{d:"M2 8.82a15 15 0 0 1 20 0"},child:[]},{tag:"path",attr:{d:"M5 12.859a10 10 0 0 1 14 0"},child:[]},{tag:"path",attr:{d:"M8.5 16.429a5 5 0 0 1 7 0"},child:[]}]})(t)}const mo=dk(),li=fk({isConnected:!1,isBusy:!1,device:null});fk(!1);var jb=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,_8=Object.getOwnPropertyNames,b8=Object.prototype.hasOwnProperty,ar=(t,e)=>()=>(t&&(e=t(t=0)),e),He=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ec=(t,e)=>{for(var n in e)jb(t,n,{get:e[n],enumerable:!0})},w8=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _8(e))!b8.call(t,s)&&s!==n&&jb(t,s,{get:()=>e[s],enumerable:!(r=y8(e,s))||r.enumerable});return t},Zt=t=>w8(jb({},"__esModule",{value:!0}),t),ze=ar(()=>{}),Lt={};ec(Lt,{_debugEnd:()=>Dy,_debugProcess:()=>My,_events:()=>Ky,_eventsCount:()=>Qy,_exiting:()=>_y,_fatalExceptions:()=>Oy,_getActiveHandles:()=>Ck,_getActiveRequests:()=>xk,_kill:()=>Sy,_linkedBinding:()=>Ek,_maxListeners:()=>Yy,_preload_modules:()=>$y,_rawDebug:()=>gy,_startProfilerIdleNotifier:()=>Py,_stopProfilerIdleNotifier:()=>Ly,_tickCallback:()=>Ny,abort:()=>zy,addListener:()=>Zy,allowedNodeEnvironmentFlags:()=>Ry,arch:()=>ry,argv:()=>oy,argv0:()=>qy,assert:()=>Ak,binding:()=>fy,chdir:()=>py,config:()=>by,cpuUsage:()=>hu,cwd:()=>hy,debugPort:()=>Wy,default:()=>Bb,dlopen:()=>Tk,domain:()=>yy,emit:()=>n_,emitWarning:()=>uy,env:()=>sy,execArgv:()=>ay,execPath:()=>Hy,exit:()=>Cy,features:()=>ky,hasUncaughtExceptionCaptureCallback:()=>Rk,hrtime:()=>$d,kill:()=>xy,listeners:()=>Ok,memoryUsage:()=>Ty,moduleLoadList:()=>vy,nextTick:()=>wk,off:()=>Jy,on:()=>ns,once:()=>Xy,openStdin:()=>Ay,pid:()=>Fy,platform:()=>iy,ppid:()=>Vy,prependListener:()=>r_,prependOnceListener:()=>i_,reallyExit:()=>wy,release:()=>my,removeAllListeners:()=>t_,removeListener:()=>e_,resourceUsage:()=>Ey,setSourceMapsEnabled:()=>Gy,setUncaughtExceptionCaptureCallback:()=>Iy,stderr:()=>Uy,stdin:()=>By,stdout:()=>jy,title:()=>ny,umask:()=>dy,uptime:()=>kk,version:()=>ly,versions:()=>cy});function Ub(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function S8(){!aa||!ia||(aa=!1,ia.length?xi=ia.concat(xi):xu=-1,xi.length&&bk())}function bk(){if(!aa){var t=setTimeout(S8,0);aa=!0;for(var e=xi.length;e;){for(ia=xi,xi=[];++xu<e;)ia&&ia[xu].run();xu=-1,e=xi.length}ia=null,aa=!1,clearTimeout(t)}}function wk(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];xi.push(new Sk(t,e)),xi.length===1&&!aa&&setTimeout(bk,0)}function Sk(t,e){this.fun=t,this.array=e}function tr(){}function Ek(t){Ub("_linkedBinding")}function Tk(t){Ub("dlopen")}function xk(){return[]}function Ck(){return[]}function Ak(t,e){if(!t)throw new Error(e||"assertion error")}function Rk(){return!1}function kk(){return os.now()/1e3}function $d(t){var e=Math.floor((Date.now()-os.now())*.001),n=os.now()*.001,r=Math.floor(n)+e,s=Math.floor(n%1*1e9);return t&&(r=r-t[0],s=s-t[1],s<0&&(r--,s+=Gd)),[r,s]}function ns(){return Bb}function Ok(t){return[]}var xi,aa,ia,xu,ny,ry,iy,sy,oy,ay,ly,cy,uy,fy,dy,hy,py,my,gy,vy,yy,_y,by,wy,Sy,hu,Ey,Ty,xy,Cy,Ay,Ry,ky,Oy,Iy,Ny,My,Dy,Py,Ly,jy,Uy,By,zy,Fy,Vy,Hy,Wy,qy,$y,Gy,os,uv,Gd,Yy,Ky,Qy,Zy,Xy,Jy,e_,t_,n_,r_,i_,Bb,E8=ar(()=>{ze(),Ve(),Fe(),xi=[],aa=!1,xu=-1,Sk.prototype.run=function(){this.fun.apply(null,this.array)},ny="browser",ry="x64",iy="browser",sy={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},oy=["/usr/bin/node"],ay=[],ly="v16.8.0",cy={},uy=function(t,e){console.warn((e?e+": ":"")+t)},fy=function(t){Ub("binding")},dy=function(t){return 0},hy=function(){return"/"},py=function(t){},my={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},gy=tr,vy=[],yy={},_y=!1,by={},wy=tr,Sy=tr,hu=function(){return{}},Ey=hu,Ty=hu,xy=tr,Cy=tr,Ay=tr,Ry={},ky={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Oy=tr,Iy=tr,Ny=tr,My=tr,Dy=tr,Py=tr,Ly=tr,jy=void 0,Uy=void 0,By=void 0,zy=tr,Fy=2,Vy=1,Hy="/bin/usr/node",Wy=9229,qy="node",$y=[],Gy=tr,os={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},os.now===void 0&&(uv=Date.now(),os.timing&&os.timing.navigationStart&&(uv=os.timing.navigationStart),os.now=()=>Date.now()-uv),Gd=1e9,$d.bigint=function(t){var e=$d(t);return typeof BigInt>"u"?e[0]*Gd+e[1]:BigInt(e[0]*Gd)+BigInt(e[1])},Yy=10,Ky={},Qy=0,Zy=ns,Xy=ns,Jy=ns,e_=ns,t_=ns,n_=tr,r_=ns,i_=ns,Bb={version:ly,versions:cy,arch:ry,platform:iy,release:my,_rawDebug:gy,moduleLoadList:vy,binding:fy,_linkedBinding:Ek,_events:Ky,_eventsCount:Qy,_maxListeners:Yy,on:ns,addListener:Zy,once:Xy,off:Jy,removeListener:e_,removeAllListeners:t_,emit:n_,prependListener:r_,prependOnceListener:i_,listeners:Ok,domain:yy,_exiting:_y,config:by,dlopen:Tk,uptime:kk,_getActiveRequests:xk,_getActiveHandles:Ck,reallyExit:wy,_kill:Sy,cpuUsage:hu,resourceUsage:Ey,memoryUsage:Ty,kill:xy,exit:Cy,openStdin:Ay,allowedNodeEnvironmentFlags:Ry,assert:Ak,features:ky,_fatalExceptions:Oy,setUncaughtExceptionCaptureCallback:Iy,hasUncaughtExceptionCaptureCallback:Rk,emitWarning:uy,nextTick:wk,_tickCallback:Ny,_debugProcess:My,_debugEnd:Dy,_startProfilerIdleNotifier:Py,_stopProfilerIdleNotifier:Ly,stdout:jy,stdin:By,stderr:Uy,abort:zy,umask:dy,chdir:py,cwd:hy,env:sy,title:ny,argv:oy,execArgv:ay,pid:Fy,ppid:Vy,execPath:Hy,debugPort:Wy,hrtime:$d,argv0:qy,_preload_modules:$y,setSourceMapsEnabled:Gy}}),Fe=ar(()=>{E8()}),qn={};ec(qn,{Buffer:()=>Oh,INSPECT_MAX_BYTES:()=>Ik,default:()=>rs,kMaxLength:()=>Nk});function T8(){if(s_)return gl;s_=!0,gl.byteLength=c,gl.toByteArray=d,gl.fromByteArray=g;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=y.indexOf("=");E===-1&&(E=w);var C=E===w?0:4-E%4;return[E,C]}function c(y){var w=l(y),E=w[0],C=w[1];return(E+C)*3/4-C}function f(y,w,E){return(w+E)*3/4-E}function d(y){var w,E=l(y),C=E[0],k=E[1],T=new n(f(y,C,k)),A=0,z=k>0?C-4:C,N;for(N=0;N<z;N+=4)w=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],T[A++]=w>>16&255,T[A++]=w>>8&255,T[A++]=w&255;return k===2&&(w=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,T[A++]=w&255),k===1&&(w=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,T[A++]=w>>8&255,T[A++]=w&255),T}function p(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function m(y,w,E){for(var C,k=[],T=w;T<E;T+=3)C=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),k.push(p(C));return k.join("")}function g(y){for(var w,E=y.length,C=E%3,k=[],T=16383,A=0,z=E-C;A<z;A+=T)k.push(m(y,A,A+T>z?z:A+T));return C===1?(w=y[E-1],k.push(t[w>>2]+t[w<<4&63]+"==")):C===2&&(w=(y[E-2]<<8)+y[E-1],k.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),k.join("")}return gl}function x8(){return o_?pu:(o_=!0,pu.read=function(t,e,n,r,s){var o,l,c=s*8-r-1,f=(1<<c)-1,d=f>>1,p=-7,m=n?s-1:0,g=n?-1:1,y=t[e+m];for(m+=g,o=y&(1<<-p)-1,y>>=-p,p+=c;p>0;o=o*256+t[e+m],m+=g,p-=8);for(l=o&(1<<-p)-1,o>>=-p,p+=r;p>0;l=l*256+t[e+m],m+=g,p-=8);if(o===0)o=1-d;else{if(o===f)return l?NaN:(y?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-d}return(y?-1:1)*l*Math.pow(2,o-r)},pu.write=function(t,e,n,r,s,o){var l,c,f,d=o*8-s-1,p=(1<<d)-1,m=p>>1,g=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:o-1,w=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=p):(l=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+m>=1?e+=g/f:e+=g*Math.pow(2,1-m),e*f>=2&&(l++,f/=2),l+m>=p?(c=0,l=p):l+m>=1?(c=(e*f-1)*Math.pow(2,s),l=l+m):(c=e*Math.pow(2,m-1)*Math.pow(2,s),l=0));s>=8;t[n+y]=c&255,y+=w,c/=256,s-=8);for(l=l<<s|c,d+=s;d>0;t[n+y]=l&255,y+=w,l/=256,d-=8);t[n+y-w]|=E*128},pu)}function C8(){if(a_)return Ks;a_=!0;let t=T8(),e=x8(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ks.Buffer=l,Ks.SlowBuffer=k,Ks.INSPECT_MAX_BYTES=50;let r=2147483647;Ks.kMaxLength=r,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let b=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(b,S),b.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(b){if(b>r)throw new RangeError('The value "'+b+'" is invalid for option "size"');let S=new Uint8Array(b);return Object.setPrototypeOf(S,l.prototype),S}function l(b,S,x){if(typeof b=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(b)}return c(b,S,x)}l.poolSize=8192;function c(b,S,x){if(typeof b=="string")return m(b,S);if(ArrayBuffer.isView(b))return y(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(B(b,ArrayBuffer)||b&&B(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(B(b,SharedArrayBuffer)||b&&B(b.buffer,SharedArrayBuffer)))return w(b,S,x);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let j=b.valueOf&&b.valueOf();if(j!=null&&j!==b)return l.from(j,S,x);let te=E(b);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return l.from(b[Symbol.toPrimitive]("string"),S,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}l.from=function(b,S,x){return c(b,S,x)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function d(b,S,x){return f(b),b<=0?o(b):S!==void 0?typeof x=="string"?o(b).fill(S,x):o(b).fill(S):o(b)}l.alloc=function(b,S,x){return d(b,S,x)};function p(b){return f(b),o(b<0?0:C(b)|0)}l.allocUnsafe=function(b){return p(b)},l.allocUnsafeSlow=function(b){return p(b)};function m(b,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);let x=T(b,S)|0,j=o(x),te=j.write(b,S);return te!==x&&(j=j.slice(0,te)),j}function g(b){let S=b.length<0?0:C(b.length)|0,x=o(S);for(let j=0;j<S;j+=1)x[j]=b[j]&255;return x}function y(b){if(B(b,Uint8Array)){let S=new Uint8Array(b);return w(S.buffer,S.byteOffset,S.byteLength)}return g(b)}function w(b,S,x){if(S<0||b.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<S+(x||0))throw new RangeError('"length" is outside of buffer bounds');let j;return S===void 0&&x===void 0?j=new Uint8Array(b):x===void 0?j=new Uint8Array(b,S):j=new Uint8Array(b,S,x),Object.setPrototypeOf(j,l.prototype),j}function E(b){if(l.isBuffer(b)){let S=C(b.length)|0,x=o(S);return x.length===0||b.copy(x,0,0,S),x}if(b.length!==void 0)return typeof b.length!="number"||oe(b.length)?o(0):g(b);if(b.type==="Buffer"&&Array.isArray(b.data))return g(b.data)}function C(b){if(b>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return b|0}function k(b){return+b!=b&&(b=0),l.alloc(+b)}l.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==l.prototype},l.compare=function(b,S){if(B(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),B(S,Uint8Array)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(b)||!l.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===S)return 0;let x=b.length,j=S.length;for(let te=0,he=Math.min(x,j);te<he;++te)if(b[te]!==S[te]){x=b[te],j=S[te];break}return x<j?-1:j<x?1:0},l.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(b,S){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return l.alloc(0);let x;if(S===void 0)for(S=0,x=0;x<b.length;++x)S+=b[x].length;let j=l.allocUnsafe(S),te=0;for(x=0;x<b.length;++x){let he=b[x];if(B(he,Uint8Array))te+he.length>j.length?(l.isBuffer(he)||(he=l.from(he)),he.copy(j,te)):Uint8Array.prototype.set.call(j,he,te);else if(l.isBuffer(he))he.copy(j,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=he.length}return j};function T(b,S){if(l.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||B(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);let x=b.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&x===0)return 0;let te=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return me(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return ke(b).length;default:if(te)return j?-1:me(b).length;S=(""+S).toLowerCase(),te=!0}}l.byteLength=T;function A(b,S,x){let j=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,S>>>=0,x<=S))return"";for(b||(b="utf8");;)switch(b){case"hex":return q(this,S,x);case"utf8":case"utf-8":return ae(this,S,x);case"ascii":return D(this,S,x);case"latin1":case"binary":return G(this,S,x);case"base64":return L(this,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,S,x);default:if(j)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),j=!0}}l.prototype._isBuffer=!0;function z(b,S,x){let j=b[S];b[S]=b[x],b[x]=j}l.prototype.swap16=function(){let b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<b;S+=2)z(this,S,S+1);return this},l.prototype.swap32=function(){let b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<b;S+=4)z(this,S,S+3),z(this,S+1,S+2);return this},l.prototype.swap64=function(){let b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<b;S+=8)z(this,S,S+7),z(this,S+1,S+6),z(this,S+2,S+5),z(this,S+3,S+4);return this},l.prototype.toString=function(){let b=this.length;return b===0?"":arguments.length===0?ae(this,0,b):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(b){if(!l.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:l.compare(this,b)===0},l.prototype.inspect=function(){let b="",S=Ks.INSPECT_MAX_BYTES;return b=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(b+=" ... "),"<Buffer "+b+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(b,S,x,j,te){if(B(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),!l.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(S===void 0&&(S=0),x===void 0&&(x=b?b.length:0),j===void 0&&(j=0),te===void 0&&(te=this.length),S<0||x>b.length||j<0||te>this.length)throw new RangeError("out of range index");if(j>=te&&S>=x)return 0;if(j>=te)return-1;if(S>=x)return 1;if(S>>>=0,x>>>=0,j>>>=0,te>>>=0,this===b)return 0;let he=te-j,Se=x-S,qe=Math.min(he,Se),$e=this.slice(j,te),Je=b.slice(S,x);for(let lt=0;lt<qe;++lt)if($e[lt]!==Je[lt]){he=$e[lt],Se=Je[lt];break}return he<Se?-1:Se<he?1:0};function N(b,S,x,j,te){if(b.length===0)return-1;if(typeof x=="string"?(j=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,oe(x)&&(x=te?0:b.length-1),x<0&&(x=b.length+x),x>=b.length){if(te)return-1;x=b.length-1}else if(x<0)if(te)x=0;else return-1;if(typeof S=="string"&&(S=l.from(S,j)),l.isBuffer(S))return S.length===0?-1:M(b,S,x,j,te);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(b,S,x):Uint8Array.prototype.lastIndexOf.call(b,S,x):M(b,[S],x,j,te);throw new TypeError("val must be string, number or Buffer")}function M(b,S,x,j,te){let he=1,Se=b.length,qe=S.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(b.length<2||S.length<2)return-1;he=2,Se/=2,qe/=2,x/=2}function $e(lt,ot){return he===1?lt[ot]:lt.readUInt16BE(ot*he)}let Je;if(te){let lt=-1;for(Je=x;Je<Se;Je++)if($e(b,Je)===$e(S,lt===-1?0:Je-lt)){if(lt===-1&&(lt=Je),Je-lt+1===qe)return lt*he}else lt!==-1&&(Je-=Je-lt),lt=-1}else for(x+qe>Se&&(x=Se-qe),Je=x;Je>=0;Je--){let lt=!0;for(let ot=0;ot<qe;ot++)if($e(b,Je+ot)!==$e(S,ot)){lt=!1;break}if(lt)return Je}return-1}l.prototype.includes=function(b,S,x){return this.indexOf(b,S,x)!==-1},l.prototype.indexOf=function(b,S,x){return N(this,b,S,x,!0)},l.prototype.lastIndexOf=function(b,S,x){return N(this,b,S,x,!1)};function I(b,S,x,j){x=Number(x)||0;let te=b.length-x;j?(j=Number(j),j>te&&(j=te)):j=te;let he=S.length;j>he/2&&(j=he/2);let Se;for(Se=0;Se<j;++Se){let qe=parseInt(S.substr(Se*2,2),16);if(oe(qe))return Se;b[x+Se]=qe}return Se}function P(b,S,x,j){return $(me(S,b.length-x),b,x,j)}function Q(b,S,x,j){return $(we(S),b,x,j)}function ne(b,S,x,j){return $(ke(S),b,x,j)}function se(b,S,x,j){return $(De(S,b.length-x),b,x,j)}l.prototype.write=function(b,S,x,j){if(S===void 0)j="utf8",x=this.length,S=0;else if(x===void 0&&typeof S=="string")j=S,x=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(x)?(x=x>>>0,j===void 0&&(j="utf8")):(j=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let te=this.length-S;if((x===void 0||x>te)&&(x=te),b.length>0&&(x<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let he=!1;for(;;)switch(j){case"hex":return I(this,b,S,x);case"utf8":case"utf-8":return P(this,b,S,x);case"ascii":case"latin1":case"binary":return Q(this,b,S,x);case"base64":return ne(this,b,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,b,S,x);default:if(he)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),he=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(b,S,x){return S===0&&x===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(S,x))}function ae(b,S,x){x=Math.min(b.length,x);let j=[],te=S;for(;te<x;){let he=b[te],Se=null,qe=he>239?4:he>223?3:he>191?2:1;if(te+qe<=x){let $e,Je,lt,ot;switch(qe){case 1:he<128&&(Se=he);break;case 2:$e=b[te+1],($e&192)===128&&(ot=(he&31)<<6|$e&63,ot>127&&(Se=ot));break;case 3:$e=b[te+1],Je=b[te+2],($e&192)===128&&(Je&192)===128&&(ot=(he&15)<<12|($e&63)<<6|Je&63,ot>2047&&(ot<55296||ot>57343)&&(Se=ot));break;case 4:$e=b[te+1],Je=b[te+2],lt=b[te+3],($e&192)===128&&(Je&192)===128&&(lt&192)===128&&(ot=(he&15)<<18|($e&63)<<12|(Je&63)<<6|lt&63,ot>65535&&ot<1114112&&(Se=ot))}}Se===null?(Se=65533,qe=1):Se>65535&&(Se-=65536,j.push(Se>>>10&1023|55296),Se=56320|Se&1023),j.push(Se),te+=qe}return H(j)}let ie=4096;function H(b){let S=b.length;if(S<=ie)return String.fromCharCode.apply(String,b);let x="",j=0;for(;j<S;)x+=String.fromCharCode.apply(String,b.slice(j,j+=ie));return x}function D(b,S,x){let j="";x=Math.min(b.length,x);for(let te=S;te<x;++te)j+=String.fromCharCode(b[te]&127);return j}function G(b,S,x){let j="";x=Math.min(b.length,x);for(let te=S;te<x;++te)j+=String.fromCharCode(b[te]);return j}function q(b,S,x){let j=b.length;(!S||S<0)&&(S=0),(!x||x<0||x>j)&&(x=j);let te="";for(let he=S;he<x;++he)te+=Te[b[he]];return te}function ye(b,S,x){let j=b.slice(S,x),te="";for(let he=0;he<j.length-1;he+=2)te+=String.fromCharCode(j[he]+j[he+1]*256);return te}l.prototype.slice=function(b,S){let x=this.length;b=~~b,S=S===void 0?x:~~S,b<0?(b+=x,b<0&&(b=0)):b>x&&(b=x),S<0?(S+=x,S<0&&(S=0)):S>x&&(S=x),S<b&&(S=b);let j=this.subarray(b,S);return Object.setPrototypeOf(j,l.prototype),j};function R(b,S,x){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+S>x)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(b,S,x){b=b>>>0,S=S>>>0,x||R(b,S,this.length);let j=this[b],te=1,he=0;for(;++he<S&&(te*=256);)j+=this[b+he]*te;return j},l.prototype.readUintBE=l.prototype.readUIntBE=function(b,S,x){b=b>>>0,S=S>>>0,x||R(b,S,this.length);let j=this[b+--S],te=1;for(;S>0&&(te*=256);)j+=this[b+--S]*te;return j},l.prototype.readUint8=l.prototype.readUInt8=function(b,S){return b=b>>>0,S||R(b,1,this.length),this[b]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(b,S){return b=b>>>0,S||R(b,2,this.length),this[b]|this[b+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(b,S){return b=b>>>0,S||R(b,2,this.length),this[b]<<8|this[b+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(b,S){return b=b>>>0,S||R(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(b,S){return b=b>>>0,S||R(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},l.prototype.readBigUInt64LE=ge(function(b){b=b>>>0,pe(b,"offset");let S=this[b],x=this[b+7];(S===void 0||x===void 0)&&Ne(b,this.length-8);let j=S+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,te=this[++b]+this[++b]*2**8+this[++b]*2**16+x*2**24;return BigInt(j)+(BigInt(te)<<BigInt(32))}),l.prototype.readBigUInt64BE=ge(function(b){b=b>>>0,pe(b,"offset");let S=this[b],x=this[b+7];(S===void 0||x===void 0)&&Ne(b,this.length-8);let j=S*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],te=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+x;return(BigInt(j)<<BigInt(32))+BigInt(te)}),l.prototype.readIntLE=function(b,S,x){b=b>>>0,S=S>>>0,x||R(b,S,this.length);let j=this[b],te=1,he=0;for(;++he<S&&(te*=256);)j+=this[b+he]*te;return te*=128,j>=te&&(j-=Math.pow(2,8*S)),j},l.prototype.readIntBE=function(b,S,x){b=b>>>0,S=S>>>0,x||R(b,S,this.length);let j=S,te=1,he=this[b+--j];for(;j>0&&(te*=256);)he+=this[b+--j]*te;return te*=128,he>=te&&(he-=Math.pow(2,8*S)),he},l.prototype.readInt8=function(b,S){return b=b>>>0,S||R(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},l.prototype.readInt16LE=function(b,S){b=b>>>0,S||R(b,2,this.length);let x=this[b]|this[b+1]<<8;return x&32768?x|4294901760:x},l.prototype.readInt16BE=function(b,S){b=b>>>0,S||R(b,2,this.length);let x=this[b+1]|this[b]<<8;return x&32768?x|4294901760:x},l.prototype.readInt32LE=function(b,S){return b=b>>>0,S||R(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},l.prototype.readInt32BE=function(b,S){return b=b>>>0,S||R(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},l.prototype.readBigInt64LE=ge(function(b){b=b>>>0,pe(b,"offset");let S=this[b],x=this[b+7];(S===void 0||x===void 0)&&Ne(b,this.length-8);let j=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(x<<24);return(BigInt(j)<<BigInt(32))+BigInt(S+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),l.prototype.readBigInt64BE=ge(function(b){b=b>>>0,pe(b,"offset");let S=this[b],x=this[b+7];(S===void 0||x===void 0)&&Ne(b,this.length-8);let j=(S<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(j)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+x)}),l.prototype.readFloatLE=function(b,S){return b=b>>>0,S||R(b,4,this.length),e.read(this,b,!0,23,4)},l.prototype.readFloatBE=function(b,S){return b=b>>>0,S||R(b,4,this.length),e.read(this,b,!1,23,4)},l.prototype.readDoubleLE=function(b,S){return b=b>>>0,S||R(b,8,this.length),e.read(this,b,!0,52,8)},l.prototype.readDoubleBE=function(b,S){return b=b>>>0,S||R(b,8,this.length),e.read(this,b,!1,52,8)};function Z(b,S,x,j,te,he){if(!l.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>te||S<he)throw new RangeError('"value" argument is out of bounds');if(x+j>b.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(b,S,x,j){if(b=+b,S=S>>>0,x=x>>>0,!j){let Se=Math.pow(2,8*x)-1;Z(this,b,S,x,Se,0)}let te=1,he=0;for(this[S]=b&255;++he<x&&(te*=256);)this[S+he]=b/te&255;return S+x},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(b,S,x,j){if(b=+b,S=S>>>0,x=x>>>0,!j){let Se=Math.pow(2,8*x)-1;Z(this,b,S,x,Se,0)}let te=x-1,he=1;for(this[S+te]=b&255;--te>=0&&(he*=256);)this[S+te]=b/he&255;return S+x},l.prototype.writeUint8=l.prototype.writeUInt8=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,1,255,0),this[S]=b&255,S+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,2,65535,0),this[S]=b&255,this[S+1]=b>>>8,S+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,2,65535,0),this[S]=b>>>8,this[S+1]=b&255,S+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,4,4294967295,0),this[S+3]=b>>>24,this[S+2]=b>>>16,this[S+1]=b>>>8,this[S]=b&255,S+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,4,4294967295,0),this[S]=b>>>24,this[S+1]=b>>>16,this[S+2]=b>>>8,this[S+3]=b&255,S+4};function U(b,S,x,j,te){fe(S,j,te,b,x,7);let he=Number(S&BigInt(4294967295));b[x++]=he,he=he>>8,b[x++]=he,he=he>>8,b[x++]=he,he=he>>8,b[x++]=he;let Se=Number(S>>BigInt(32)&BigInt(4294967295));return b[x++]=Se,Se=Se>>8,b[x++]=Se,Se=Se>>8,b[x++]=Se,Se=Se>>8,b[x++]=Se,x}function re(b,S,x,j,te){fe(S,j,te,b,x,7);let he=Number(S&BigInt(4294967295));b[x+7]=he,he=he>>8,b[x+6]=he,he=he>>8,b[x+5]=he,he=he>>8,b[x+4]=he;let Se=Number(S>>BigInt(32)&BigInt(4294967295));return b[x+3]=Se,Se=Se>>8,b[x+2]=Se,Se=Se>>8,b[x+1]=Se,Se=Se>>8,b[x]=Se,x+8}l.prototype.writeBigUInt64LE=ge(function(b,S=0){return U(this,b,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ge(function(b,S=0){return re(this,b,S,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(b,S,x,j){if(b=+b,S=S>>>0,!j){let qe=Math.pow(2,8*x-1);Z(this,b,S,x,qe-1,-qe)}let te=0,he=1,Se=0;for(this[S]=b&255;++te<x&&(he*=256);)b<0&&Se===0&&this[S+te-1]!==0&&(Se=1),this[S+te]=(b/he>>0)-Se&255;return S+x},l.prototype.writeIntBE=function(b,S,x,j){if(b=+b,S=S>>>0,!j){let qe=Math.pow(2,8*x-1);Z(this,b,S,x,qe-1,-qe)}let te=x-1,he=1,Se=0;for(this[S+te]=b&255;--te>=0&&(he*=256);)b<0&&Se===0&&this[S+te+1]!==0&&(Se=1),this[S+te]=(b/he>>0)-Se&255;return S+x},l.prototype.writeInt8=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,1,127,-128),b<0&&(b=255+b+1),this[S]=b&255,S+1},l.prototype.writeInt16LE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,2,32767,-32768),this[S]=b&255,this[S+1]=b>>>8,S+2},l.prototype.writeInt16BE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,2,32767,-32768),this[S]=b>>>8,this[S+1]=b&255,S+2},l.prototype.writeInt32LE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,4,2147483647,-2147483648),this[S]=b&255,this[S+1]=b>>>8,this[S+2]=b>>>16,this[S+3]=b>>>24,S+4},l.prototype.writeInt32BE=function(b,S,x){return b=+b,S=S>>>0,x||Z(this,b,S,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[S]=b>>>24,this[S+1]=b>>>16,this[S+2]=b>>>8,this[S+3]=b&255,S+4},l.prototype.writeBigInt64LE=ge(function(b,S=0){return U(this,b,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ge(function(b,S=0){return re(this,b,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(b,S,x,j,te,he){if(x+j>b.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function X(b,S,x,j,te){return S=+S,x=x>>>0,te||ve(b,S,x,4),e.write(b,S,x,j,23,4),x+4}l.prototype.writeFloatLE=function(b,S,x){return X(this,b,S,!0,x)},l.prototype.writeFloatBE=function(b,S,x){return X(this,b,S,!1,x)};function Ae(b,S,x,j,te){return S=+S,x=x>>>0,te||ve(b,S,x,8),e.write(b,S,x,j,52,8),x+8}l.prototype.writeDoubleLE=function(b,S,x){return Ae(this,b,S,!0,x)},l.prototype.writeDoubleBE=function(b,S,x){return Ae(this,b,S,!1,x)},l.prototype.copy=function(b,S,x,j){if(!l.isBuffer(b))throw new TypeError("argument should be a Buffer");if(x||(x=0),!j&&j!==0&&(j=this.length),S>=b.length&&(S=b.length),S||(S=0),j>0&&j<x&&(j=x),j===x||b.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),b.length-S<j-x&&(j=b.length-S+x);let te=j-x;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,x,j):Uint8Array.prototype.set.call(b,this.subarray(x,j),S),te},l.prototype.fill=function(b,S,x,j){if(typeof b=="string"){if(typeof S=="string"?(j=S,S=0,x=this.length):typeof x=="string"&&(j=x,x=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!l.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(b.length===1){let he=b.charCodeAt(0);(j==="utf8"&&he<128||j==="latin1")&&(b=he)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(S<0||this.length<S||this.length<x)throw new RangeError("Out of range index");if(x<=S)return this;S=S>>>0,x=x===void 0?this.length:x>>>0,b||(b=0);let te;if(typeof b=="number")for(te=S;te<x;++te)this[te]=b;else{let he=l.isBuffer(b)?b:l.from(b,j),Se=he.length;if(Se===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(te=0;te<x-S;++te)this[te+S]=he[te%Se]}return this};let J={};function K(b,S,x){J[b]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(b,S){return`The "${b}" argument must be of type number. Received type ${typeof S}`},TypeError),K("ERR_OUT_OF_RANGE",function(b,S,x){let j=`The value of "${b}" is out of range.`,te=x;return Number.isInteger(x)&&Math.abs(x)>2**32?te=be(String(x)):typeof x=="bigint"&&(te=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(te=be(te)),te+="n"),j+=` It must be ${S}. Received ${te}`,j},RangeError);function be(b){let S="",x=b.length,j=b[0]==="-"?1:0;for(;x>=j+4;x-=3)S=`_${b.slice(x-3,x)}${S}`;return`${b.slice(0,x)}${S}`}function ue(b,S,x){pe(S,"offset"),(b[S]===void 0||b[S+x]===void 0)&&Ne(S,b.length-(x+1))}function fe(b,S,x,j,te,he){if(b>x||b<S){let Se=typeof S=="bigint"?"n":"",qe;throw S===0||S===BigInt(0)?qe=`>= 0${Se} and < 2${Se} ** ${(he+1)*8}${Se}`:qe=`>= -(2${Se} ** ${(he+1)*8-1}${Se}) and < 2 ** ${(he+1)*8-1}${Se}`,new J.ERR_OUT_OF_RANGE("value",qe,b)}ue(j,te,he)}function pe(b,S){if(typeof b!="number")throw new J.ERR_INVALID_ARG_TYPE(S,"number",b)}function Ne(b,S,x){throw Math.floor(b)!==b?(pe(b,x),new J.ERR_OUT_OF_RANGE("offset","an integer",b)):S<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,b)}let Ie=/[^+/0-9A-Za-z-_]/g;function ce(b){if(b=b.split("=")[0],b=b.trim().replace(Ie,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function me(b,S){S=S||1/0;let x,j=b.length,te=null,he=[];for(let Se=0;Se<j;++Se){if(x=b.charCodeAt(Se),x>55295&&x<57344){if(!te){if(x>56319){(S-=3)>-1&&he.push(239,191,189);continue}else if(Se+1===j){(S-=3)>-1&&he.push(239,191,189);continue}te=x;continue}if(x<56320){(S-=3)>-1&&he.push(239,191,189),te=x;continue}x=(te-55296<<10|x-56320)+65536}else te&&(S-=3)>-1&&he.push(239,191,189);if(te=null,x<128){if((S-=1)<0)break;he.push(x)}else if(x<2048){if((S-=2)<0)break;he.push(x>>6|192,x&63|128)}else if(x<65536){if((S-=3)<0)break;he.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((S-=4)<0)break;he.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return he}function we(b){let S=[];for(let x=0;x<b.length;++x)S.push(b.charCodeAt(x)&255);return S}function De(b,S){let x,j,te,he=[];for(let Se=0;Se<b.length&&!((S-=2)<0);++Se)x=b.charCodeAt(Se),j=x>>8,te=x%256,he.push(te),he.push(j);return he}function ke(b){return t.toByteArray(ce(b))}function $(b,S,x,j){let te;for(te=0;te<j&&!(te+x>=S.length||te>=b.length);++te)S[te+x]=b[te];return te}function B(b,S){return b instanceof S||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===S.name}function oe(b){return b!==b}let Te=function(){let b="0123456789abcdef",S=new Array(256);for(let x=0;x<16;++x){let j=x*16;for(let te=0;te<16;++te)S[j+te]=b[x]+b[te]}return S}();function ge(b){return typeof BigInt>"u"?Me:b}function Me(){throw new Error("BigInt not supported")}return Ks}var gl,s_,pu,o_,Ks,a_,rs,Oh,Ik,Nk,$n=ar(()=>{ze(),Ve(),Fe(),gl={},s_=!1,pu={},o_=!1,Ks={},a_=!1,rs=C8(),rs.Buffer,rs.SlowBuffer,rs.INSPECT_MAX_BYTES,rs.kMaxLength,Oh=rs.Buffer,Ik=rs.INSPECT_MAX_BYTES,Nk=rs.kMaxLength}),Ve=ar(()=>{$n()}),A8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};t.default=e}),vn=He((t,e)=>{ze(),Ve(),Fe();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let s="";for(let o=0;o<r.length;o++)s+=`    ${r[o].stack}
`;super(s),this.name="AggregateError",this.errors=r}};e.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,s){return r.includes(s)},ArrayPrototypeIndexOf(r,s){return r.indexOf(s)},ArrayPrototypeJoin(r,s){return r.join(s)},ArrayPrototypeMap(r,s){return r.map(s)},ArrayPrototypePop(r,s){return r.pop(s)},ArrayPrototypePush(r,s){return r.push(s)},ArrayPrototypeSlice(r,s,o){return r.slice(s,o)},Error,FunctionPrototypeCall(r,s,...o){return r.call(s,...o)},FunctionPrototypeSymbolHasInstance(r,s){return Function.prototype[Symbol.hasInstance].call(r,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,s){return Object.defineProperties(r,s)},ObjectDefineProperty(r,s,o){return Object.defineProperty(r,s,o)},ObjectGetOwnPropertyDescriptor(r,s){return Object.getOwnPropertyDescriptor(r,s)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,s){return Object.setPrototypeOf(r,s)},Promise,PromisePrototypeCatch(r,s){return r.catch(s)},PromisePrototypeThen(r,s,o){return r.then(s,o)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,s){return r.test(s)},SafeSet:Set,String,StringPrototypeSlice(r,s,o){return r.slice(s,o)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,s,o){return r.set(s,o)},Boolean,Uint8Array}}),Mk=He((t,e)=>{ze(),Ve(),Fe(),e.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[s,o]){let l=r.shift();return o==="f"?l.toFixed(6):o==="j"?JSON.stringify(l):o==="s"&&typeof l=="object"?`${l.constructor!==Object?l.constructor.name:""} {}`.trim():l.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),lr=He((t,e)=>{ze(),Ve(),Fe();var{format:n,inspect:r}=Mk(),{AggregateError:s}=vn(),o=globalThis.AggregateError||s,l=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,d="__node_internal_",p={};function m(T,A){if(!T)throw new p.ERR_INTERNAL_ASSERTION(A)}function g(T){let A="",z=T.length,N=T[0]==="-"?1:0;for(;z>=N+4;z-=3)A=`_${T.slice(z-3,z)}${A}`;return`${T.slice(0,z)}${A}`}function y(T,A,z){if(typeof A=="function")return m(A.length<=z.length,`Code: ${T}; The provided arguments length (${z.length}) does not match the required ones (${A.length}).`),A(...z);let N=(A.match(/%[dfijoOs]/g)||[]).length;return m(N===z.length,`Code: ${T}; The provided arguments length (${z.length}) does not match the required ones (${N}).`),z.length===0?A:n(A,...z)}function w(T,A,z){z||(z=Error);class N extends z{constructor(...I){super(y(T,A,I))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(N.prototype,{name:{value:z.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),N.prototype.code=T,N.prototype[l]=!0,p[T]=N}function E(T){let A=d+T.name;return Object.defineProperty(T,"name",{value:A}),T}function C(T,A){if(T&&A&&T!==A){if(Array.isArray(A.errors))return A.errors.push(T),A;let z=new o([A,T],A.message);return z.code=A.code,z}return T||A}var k=class extends Error{constructor(T="The operation was aborted",A=void 0){if(A!==void 0&&typeof A!="object")throw new p.ERR_INVALID_ARG_TYPE("options","Object",A);super(T,A),this.code="ABORT_ERR",this.name="AbortError"}};w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(T,A,z)=>{m(typeof T=="string","'name' must be a string"),Array.isArray(A)||(A=[A]);let N="The ";T.endsWith(" argument")?N+=`${T} `:N+=`"${T}" ${T.includes(".")?"property":"argument"} `,N+="must be ";let M=[],I=[],P=[];for(let ne of A)m(typeof ne=="string","All expected entries have to be of type string"),c.includes(ne)?M.push(ne.toLowerCase()):f.test(ne)?I.push(ne):(m(ne!=="object",'The value "object" should be written as "Object"'),P.push(ne));if(I.length>0){let ne=M.indexOf("object");ne!==-1&&(M.splice(M,ne,1),I.push("Object"))}if(M.length>0){switch(M.length){case 1:N+=`of type ${M[0]}`;break;case 2:N+=`one of type ${M[0]} or ${M[1]}`;break;default:{let ne=M.pop();N+=`one of type ${M.join(", ")}, or ${ne}`}}(I.length>0||P.length>0)&&(N+=" or ")}if(I.length>0){switch(I.length){case 1:N+=`an instance of ${I[0]}`;break;case 2:N+=`an instance of ${I[0]} or ${I[1]}`;break;default:{let ne=I.pop();N+=`an instance of ${I.join(", ")}, or ${ne}`}}P.length>0&&(N+=" or ")}switch(P.length){case 0:break;case 1:P[0].toLowerCase()!==P[0]&&(N+="an "),N+=`${P[0]}`;break;case 2:N+=`one of ${P[0]} or ${P[1]}`;break;default:{let ne=P.pop();N+=`one of ${P.join(", ")}, or ${ne}`}}if(z==null)N+=`. Received ${z}`;else if(typeof z=="function"&&z.name)N+=`. Received function ${z.name}`;else if(typeof z=="object"){var Q;if((Q=z.constructor)!==null&&Q!==void 0&&Q.name)N+=`. Received an instance of ${z.constructor.name}`;else{let ne=r(z,{depth:-1});N+=`. Received ${ne}`}}else{let ne=r(z,{colors:!1});ne.length>25&&(ne=`${ne.slice(0,25)}...`),N+=`. Received type ${typeof z} (${ne})`}return N},TypeError),w("ERR_INVALID_ARG_VALUE",(T,A,z="is invalid")=>{let N=r(A);return N.length>128&&(N=N.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${z}. Received ${N}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(T,A,z)=>{var N;let M=z!=null&&(N=z.constructor)!==null&&N!==void 0&&N.name?`instance of ${z.constructor.name}`:`type ${typeof z}`;return`Expected ${T} to be returned from the "${A}" function but got ${M}.`},TypeError),w("ERR_MISSING_ARGS",(...T)=>{m(T.length>0,"At least one arg needs to be specified");let A,z=T.length;switch(T=(Array.isArray(T)?T:[T]).map(N=>`"${N}"`).join(" or "),z){case 1:A+=`The ${T[0]} argument`;break;case 2:A+=`The ${T[0]} and ${T[1]} arguments`;break;default:{let N=T.pop();A+=`The ${T.join(", ")}, and ${N} arguments`}break}return`${A} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(T,A,z)=>{m(A,'Missing "range" argument');let N;if(Number.isInteger(z)&&Math.abs(z)>2**32)N=g(String(z));else if(typeof z=="bigint"){N=String(z);let M=BigInt(2)**BigInt(32);(z>M||z<-M)&&(N=g(N)),N+="n"}else N=r(z);return`The value of "${T}" is out of range. It must be ${A}. Received ${N}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:k,aggregateTwoErrors:E(C),hideStackFrames:E,codes:p}}),Fu=He((t,e)=>{ze(),Ve(),Fe();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=n,e.exports.AbortSignal=r,e.exports.default=n});function Kt(){Kt.init.call(this)}function Yd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function Dk(t){return t._maxListeners===void 0?Kt.defaultMaxListeners:t._maxListeners}function HT(t,e,n,r){var s,o,l,c;if(Yd(n),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),l=o[e]),l===void 0)l=o[e]=n,++t._eventsCount;else if(typeof l=="function"?l=o[e]=r?[n,l]:[l,n]:r?l.unshift(n):l.push(n),(s=Dk(t))>0&&l.length>s&&!l.warned){l.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=l.length,c=f,console&&console.warn&&console.warn(c)}return t}function R8(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function WT(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},s=R8.bind(r);return s.listener=n,r.wrapFn=s,s}function qT(t,e,n){var r=t._events;if(r===void 0)return[];var s=r[e];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?function(o){for(var l=new Array(o.length),c=0;c<l.length;++c)l[c]=o[c].listener||o[c];return l}(s):Pk(s,s.length)}function $T(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function Pk(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}var GT,YT,Qo,fv,dv,hv,kr,KT=ar(()=>{ze(),Ve(),Fe(),Qo=typeof Reflect=="object"?Reflect:null,fv=Qo&&typeof Qo.apply=="function"?Qo.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},YT=Qo&&typeof Qo.ownKeys=="function"?Qo.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},dv=Number.isNaN||function(t){return t!=t},GT=Kt,Kt.EventEmitter=Kt,Kt.prototype._events=void 0,Kt.prototype._eventsCount=0,Kt.prototype._maxListeners=void 0,hv=10,Object.defineProperty(Kt,"defaultMaxListeners",{enumerable:!0,get:function(){return hv},set:function(t){if(typeof t!="number"||t<0||dv(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");hv=t}}),Kt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Kt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||dv(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Kt.prototype.getMaxListeners=function(){return Dk(this)},Kt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")fv(c,this,e);else{var f=c.length,d=Pk(c,f);for(n=0;n<f;++n)fv(d[n],this,e)}return!0},Kt.prototype.addListener=function(t,e){return HT(this,t,e,!1)},Kt.prototype.on=Kt.prototype.addListener,Kt.prototype.prependListener=function(t,e){return HT(this,t,e,!0)},Kt.prototype.once=function(t,e){return Yd(e),this.on(t,WT(this,t,e)),this},Kt.prototype.prependOnceListener=function(t,e){return Yd(e),this.prependListener(t,WT(this,t,e)),this},Kt.prototype.removeListener=function(t,e){var n,r,s,o,l;if(Yd(e),(r=this._events)===void 0)return this;if((n=r[t])===void 0)return this;if(n===e||n.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){l=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():function(c,f){for(;f+1<c.length;f++)c[f]=c[f+1];c.pop()}(n,s),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,l||e)}return this},Kt.prototype.off=Kt.prototype.removeListener,Kt.prototype.removeAllListeners=function(t){var e,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s,o=Object.keys(n);for(r=0;r<o.length;++r)(s=o[r])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=n[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},Kt.prototype.listeners=function(t){return qT(this,t,!0)},Kt.prototype.rawListeners=function(t){return qT(this,t,!1)},Kt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):$T.call(t,e)},Kt.prototype.listenerCount=$T,Kt.prototype.eventNames=function(){return this._eventsCount>0?YT(this._events):[]},kr=GT,kr.EventEmitter,kr.defaultMaxListeners,kr.init,kr.listenerCount,kr.EventEmitter,kr.defaultMaxListeners,kr.init,kr.listenerCount}),Co={};ec(Co,{EventEmitter:()=>Lk,default:()=>kr,defaultMaxListeners:()=>jk,init:()=>Uk,listenerCount:()=>Bk,on:()=>zk,once:()=>Fk});var Lk,jk,Uk,Bk,zk,Fk,Ta=ar(()=>{ze(),Ve(),Fe(),KT(),KT(),kr.once=function(t,e){return new Promise((n,r)=>{function s(...l){o!==void 0&&t.removeListener("error",o),n(l)}let o;e!=="error"&&(o=l=>{t.removeListener(name,s),r(l)},t.once("error",o)),t.once(e,s)})},kr.on=function(t,e){let n=[],r=[],s=null,o=!1,l={async next(){let d=n.shift();if(d)return createIterResult(d,!1);if(s){let p=Promise.reject(s);return s=null,p}return o?createIterResult(void 0,!0):new Promise((p,m)=>r.push({resolve:p,reject:m}))},async return(){t.removeListener(e,c),t.removeListener("error",f),o=!0;for(let d of r)d.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(d){s=d,t.removeListener(e,c),t.removeListener("error",f)},[Symbol.asyncIterator](){return this}};return t.on(e,c),t.on("error",f),l;function c(...d){let p=r.shift();p?p.resolve(createIterResult(d,!1)):n.push(d)}function f(d){o=!0;let p=r.shift();p?p.reject(d):s=d,l.return()}},{EventEmitter:Lk,defaultMaxListeners:jk,init:Uk,listenerCount:Bk,on:zk,once:Fk}=kr}),_r=He((t,e)=>{ze(),Ve(),Fe();var n=($n(),Zt(qn)),{format:r,inspect:s}=Mk(),{codes:{ERR_INVALID_ARG_TYPE:o}}=lr(),{kResistStopPropagation:l,AggregateError:c,SymbolDispose:f}=vn(),d=globalThis.AbortSignal||Fu().AbortSignal,p=globalThis.AbortController||Fu().AbortController,m=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||n.Blob,y=typeof g<"u"?function(C){return C instanceof g}:function(C){return!1},w=(C,k)=>{if(C!==void 0&&(C===null||typeof C!="object"||!("aborted"in C)))throw new o(k,"AbortSignal",C)},E=(C,k)=>{if(typeof C!="function")throw new o(k,"Function",C)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(C){let k=!1;return function(...T){k||(k=!0,C.apply(this,T))}},createDeferredPromise:function(){let C,k;return{promise:new Promise((T,A)=>{C=T,k=A}),resolve:C,reject:k}},promisify(C){return new Promise((k,T)=>{C((A,...z)=>A?T(A):k(...z))})},debuglog(){return function(){}},format:r,inspect:s,types:{isAsyncFunction(C){return C instanceof m},isArrayBufferView(C){return ArrayBuffer.isView(C)}},isBlob:y,deprecate(C,k){return C},addAbortListener:(Ta(),Zt(Co)).addAbortListener||function(C,k){if(C===void 0)throw new o("signal","AbortSignal",C);w(C,"signal"),E(k,"listener");let T;return C.aborted?queueMicrotask(()=>k()):(C.addEventListener("abort",k,{__proto__:null,once:!0,[l]:!0}),T=()=>{C.removeEventListener("abort",k)}),{__proto__:null,[f](){var A;(A=T)===null||A===void 0||A()}}},AbortSignalAny:d.any||function(C){if(C.length===1)return C[0];let k=new p,T=()=>k.abort();return C.forEach(A=>{w(A,"signals"),A.addEventListener("abort",T,{once:!0})}),k.signal.addEventListener("abort",()=>{C.forEach(A=>A.removeEventListener("abort",T))},{once:!0}),k.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),of=He((t,e)=>{ze(),Ve(),Fe();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:s,ArrayPrototypeMap:o,NumberIsInteger:l,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:d,NumberParseInt:p,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:g,String:y,StringPrototypeToUpperCase:w,StringPrototypeTrim:E}=vn(),{hideStackFrames:C,codes:{ERR_SOCKET_BAD_PORT:k,ERR_INVALID_ARG_TYPE:T,ERR_INVALID_ARG_VALUE:A,ERR_OUT_OF_RANGE:z,ERR_UNKNOWN_SIGNAL:N}}=lr(),{normalizeEncoding:M}=_r(),{isAsyncFunction:I,isArrayBufferView:P}=_r().types,Q={};function ne(B){return B===(B|0)}function se(B){return B===B>>>0}var L=/^[0-7]+$/,ae="must be a 32-bit unsigned integer or an octal string";function ie(B,oe,Te){if(typeof B>"u"&&(B=Te),typeof B=="string"){if(g(L,B)===null)throw new A(oe,B,ae);B=p(B,8)}return G(B,oe),B}var H=C((B,oe,Te=d,ge=f)=>{if(typeof B!="number")throw new T(oe,"number",B);if(!l(B))throw new z(oe,"an integer",B);if(B<Te||B>ge)throw new z(oe,`>= ${Te} && <= ${ge}`,B)}),D=C((B,oe,Te=-2147483648,ge=2147483647)=>{if(typeof B!="number")throw new T(oe,"number",B);if(!l(B))throw new z(oe,"an integer",B);if(B<Te||B>ge)throw new z(oe,`>= ${Te} && <= ${ge}`,B)}),G=C((B,oe,Te=!1)=>{if(typeof B!="number")throw new T(oe,"number",B);if(!l(B))throw new z(oe,"an integer",B);let ge=Te?1:0,Me=4294967295;if(B<ge||B>Me)throw new z(oe,`>= ${ge} && <= ${Me}`,B)});function q(B,oe){if(typeof B!="string")throw new T(oe,"string",B)}function ye(B,oe,Te=void 0,ge){if(typeof B!="number")throw new T(oe,"number",B);if(Te!=null&&B<Te||ge!=null&&B>ge||(Te!=null||ge!=null)&&c(B))throw new z(oe,`${Te!=null?`>= ${Te}`:""}${Te!=null&&ge!=null?" && ":""}${ge!=null?`<= ${ge}`:""}`,B)}var R=C((B,oe,Te)=>{if(!r(Te,B)){let ge="must be one of: "+s(o(Te,Me=>typeof Me=="string"?`'${Me}'`:y(Me)),", ");throw new A(oe,B,ge)}});function Z(B,oe){if(typeof B!="boolean")throw new T(oe,"boolean",B)}function U(B,oe,Te){return B==null||!m(B,oe)?Te:B[oe]}var re=C((B,oe,Te=null)=>{let ge=U(Te,"allowArray",!1),Me=U(Te,"allowFunction",!1);if(!U(Te,"nullable",!1)&&B===null||!ge&&n(B)||typeof B!="object"&&(!Me||typeof B!="function"))throw new T(oe,"Object",B)}),ve=C((B,oe)=>{if(B!=null&&typeof B!="object"&&typeof B!="function")throw new T(oe,"a dictionary",B)}),X=C((B,oe,Te=0)=>{if(!n(B))throw new T(oe,"Array",B);if(B.length<Te){let ge=`must be longer than ${Te}`;throw new A(oe,B,ge)}});function Ae(B,oe){X(B,oe);for(let Te=0;Te<B.length;Te++)q(B[Te],`${oe}[${Te}]`)}function J(B,oe){X(B,oe);for(let Te=0;Te<B.length;Te++)Z(B[Te],`${oe}[${Te}]`)}function K(B,oe){X(B,oe);for(let Te=0;Te<B.length;Te++){let ge=B[Te],Me=`${oe}[${Te}]`;if(ge==null)throw new T(Me,"AbortSignal",ge);Ne(ge,Me)}}function be(B,oe="signal"){if(q(B,oe),Q[B]===void 0)throw Q[w(B)]!==void 0?new N(B+" (signals must use all capital letters)"):new N(B)}var ue=C((B,oe="buffer")=>{if(!P(B))throw new T(oe,["Buffer","TypedArray","DataView"],B)});function fe(B,oe){let Te=M(oe),ge=B.length;if(Te==="hex"&&ge%2!==0)throw new A("encoding",oe,`is invalid for data of length ${ge}`)}function pe(B,oe="Port",Te=!0){if(typeof B!="number"&&typeof B!="string"||typeof B=="string"&&E(B).length===0||+B!==+B>>>0||B>65535||B===0&&!Te)throw new k(oe,B,Te);return B|0}var Ne=C((B,oe)=>{if(B!==void 0&&(B===null||typeof B!="object"||!("aborted"in B)))throw new T(oe,"AbortSignal",B)}),Ie=C((B,oe)=>{if(typeof B!="function")throw new T(oe,"Function",B)}),ce=C((B,oe)=>{if(typeof B!="function"||I(B))throw new T(oe,"Function",B)}),me=C((B,oe)=>{if(B!==void 0)throw new T(oe,"undefined",B)});function we(B,oe,Te){if(!r(Te,B))throw new T(oe,`('${s(Te,"|")}')`,B)}var De=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ke(B,oe){if(typeof B>"u"||!g(De,B))throw new A(oe,B,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function $(B){if(typeof B=="string")return ke(B,"hints"),B;if(n(B)){let oe=B.length,Te="";if(oe===0)return Te;for(let ge=0;ge<oe;ge++){let Me=B[ge];ke(Me,"hints"),Te+=Me,ge!==oe-1&&(Te+=", ")}return Te}throw new A("hints",B,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:ne,isUint32:se,parseFileMode:ie,validateArray:X,validateStringArray:Ae,validateBooleanArray:J,validateAbortSignalArray:K,validateBoolean:Z,validateBuffer:ue,validateDictionary:ve,validateEncoding:fe,validateFunction:Ie,validateInt32:D,validateInteger:H,validateNumber:ye,validateObject:re,validateOneOf:R,validatePlainFunction:ce,validatePort:pe,validateSignalName:be,validateString:q,validateUint32:G,validateUndefined:me,validateUnion:we,validateAbortSignal:Ne,validateLinkHeaderValue:$}}),xa=He((t,e)=>{ze(),Ve(),Fe();var n=e.exports={},r,s;function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=o}catch{r=o}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch{s=l}})();function c(k){if(r===setTimeout)return setTimeout(k,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(k,0);try{return r(k,0)}catch{try{return r.call(null,k,0)}catch{return r.call(this,k,0)}}}function f(k){if(s===clearTimeout)return clearTimeout(k);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(k);try{return s(k)}catch{try{return s.call(null,k)}catch{return s.call(this,k)}}}var d=[],p=!1,m,g=-1;function y(){!p||!m||(p=!1,m.length?d=m.concat(d):g=-1,d.length&&w())}function w(){if(!p){var k=c(y);p=!0;for(var T=d.length;T;){for(m=d,d=[];++g<T;)m&&m[g].run();g=-1,T=d.length}m=null,p=!1,f(k)}}n.nextTick=function(k){var T=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)T[A-1]=arguments[A];d.push(new E(k,T)),d.length===1&&!p&&c(w)};function E(k,T){this.fun=k,this.array=T}E.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function C(){}n.on=C,n.addListener=C,n.once=C,n.off=C,n.removeListener=C,n.removeAllListeners=C,n.emit=C,n.prependListener=C,n.prependOnceListener=C,n.listeners=function(k){return[]},n.binding=function(k){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(k){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),Ss=He((t,e)=>{ze(),Ve(),Fe();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:s}=vn(),o=s("nodejs.stream.destroyed"),l=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),f=s("nodejs.stream.writable"),d=s("nodejs.stream.disturbed"),p=s("nodejs.webstream.isClosedPromise"),m=s("nodejs.webstream.controllerErrorFunction");function g(U,re=!1){var ve;return!!(U&&typeof U.pipe=="function"&&typeof U.on=="function"&&(!re||typeof U.pause=="function"&&typeof U.resume=="function")&&(!U._writableState||((ve=U._readableState)===null||ve===void 0?void 0:ve.readable)!==!1)&&(!U._writableState||U._readableState))}function y(U){var re;return!!(U&&typeof U.write=="function"&&typeof U.on=="function"&&(!U._readableState||((re=U._writableState)===null||re===void 0?void 0:re.writable)!==!1))}function w(U){return!!(U&&typeof U.pipe=="function"&&U._readableState&&typeof U.on=="function"&&typeof U.write=="function")}function E(U){return U&&(U._readableState||U._writableState||typeof U.write=="function"&&typeof U.on=="function"||typeof U.pipe=="function"&&typeof U.on=="function")}function C(U){return!!(U&&!E(U)&&typeof U.pipeThrough=="function"&&typeof U.getReader=="function"&&typeof U.cancel=="function")}function k(U){return!!(U&&!E(U)&&typeof U.getWriter=="function"&&typeof U.abort=="function")}function T(U){return!!(U&&!E(U)&&typeof U.readable=="object"&&typeof U.writable=="object")}function A(U){return C(U)||k(U)||T(U)}function z(U,re){return U==null?!1:re===!0?typeof U[n]=="function":re===!1?typeof U[r]=="function":typeof U[n]=="function"||typeof U[r]=="function"}function N(U){if(!E(U))return null;let re=U._writableState,ve=U._readableState,X=re||ve;return!!(U.destroyed||U[o]||X!=null&&X.destroyed)}function M(U){if(!y(U))return null;if(U.writableEnded===!0)return!0;let re=U._writableState;return re!=null&&re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function I(U,re){if(!y(U))return null;if(U.writableFinished===!0)return!0;let ve=U._writableState;return ve!=null&&ve.errored?!1:typeof(ve==null?void 0:ve.finished)!="boolean"?null:!!(ve.finished||re===!1&&ve.ended===!0&&ve.length===0)}function P(U){if(!g(U))return null;if(U.readableEnded===!0)return!0;let re=U._readableState;return!re||re.errored?!1:typeof(re==null?void 0:re.ended)!="boolean"?null:re.ended}function Q(U,re){if(!g(U))return null;let ve=U._readableState;return ve!=null&&ve.errored?!1:typeof(ve==null?void 0:ve.endEmitted)!="boolean"?null:!!(ve.endEmitted||re===!1&&ve.ended===!0&&ve.length===0)}function ne(U){return U&&U[c]!=null?U[c]:typeof(U==null?void 0:U.readable)!="boolean"?null:N(U)?!1:g(U)&&U.readable&&!Q(U)}function se(U){return U&&U[f]!=null?U[f]:typeof(U==null?void 0:U.writable)!="boolean"?null:N(U)?!1:y(U)&&U.writable&&!M(U)}function L(U,re){return E(U)?N(U)?!0:!((re==null?void 0:re.readable)!==!1&&ne(U)||(re==null?void 0:re.writable)!==!1&&se(U)):null}function ae(U){var re,ve;return E(U)?U.writableErrored?U.writableErrored:(re=(ve=U._writableState)===null||ve===void 0?void 0:ve.errored)!==null&&re!==void 0?re:null:null}function ie(U){var re,ve;return E(U)?U.readableErrored?U.readableErrored:(re=(ve=U._readableState)===null||ve===void 0?void 0:ve.errored)!==null&&re!==void 0?re:null:null}function H(U){if(!E(U))return null;if(typeof U.closed=="boolean")return U.closed;let re=U._writableState,ve=U._readableState;return typeof(re==null?void 0:re.closed)=="boolean"||typeof(ve==null?void 0:ve.closed)=="boolean"?(re==null?void 0:re.closed)||(ve==null?void 0:ve.closed):typeof U._closed=="boolean"&&D(U)?U._closed:null}function D(U){return typeof U._closed=="boolean"&&typeof U._defaultKeepAlive=="boolean"&&typeof U._removedConnection=="boolean"&&typeof U._removedContLen=="boolean"}function G(U){return typeof U._sent100=="boolean"&&D(U)}function q(U){var re;return typeof U._consuming=="boolean"&&typeof U._dumped=="boolean"&&((re=U.req)===null||re===void 0?void 0:re.upgradeOrConnect)===void 0}function ye(U){if(!E(U))return null;let re=U._writableState,ve=U._readableState,X=re||ve;return!X&&G(U)||!!(X&&X.autoDestroy&&X.emitClose&&X.closed===!1)}function R(U){var re;return!!(U&&((re=U[d])!==null&&re!==void 0?re:U.readableDidRead||U.readableAborted))}function Z(U){var re,ve,X,Ae,J,K,be,ue,fe,pe;return!!(U&&((re=(ve=(X=(Ae=(J=(K=U[l])!==null&&K!==void 0?K:U.readableErrored)!==null&&J!==void 0?J:U.writableErrored)!==null&&Ae!==void 0?Ae:(be=U._readableState)===null||be===void 0?void 0:be.errorEmitted)!==null&&X!==void 0?X:(ue=U._writableState)===null||ue===void 0?void 0:ue.errorEmitted)!==null&&ve!==void 0?ve:(fe=U._readableState)===null||fe===void 0?void 0:fe.errored)!==null&&re!==void 0?re:!((pe=U._writableState)===null||pe===void 0)&&pe.errored))}e.exports={isDestroyed:N,kIsDestroyed:o,isDisturbed:R,kIsDisturbed:d,isErrored:Z,kIsErrored:l,isReadable:ne,kIsReadable:c,kIsClosedPromise:p,kControllerErrorFunction:m,kIsWritable:f,isClosed:H,isDuplexNodeStream:w,isFinished:L,isIterable:z,isReadableNodeStream:g,isReadableStream:C,isReadableEnded:P,isReadableFinished:Q,isReadableErrored:ie,isNodeStream:E,isWebStream:A,isWritable:se,isWritableNodeStream:y,isWritableStream:k,isWritableEnded:M,isWritableFinished:I,isWritableErrored:ae,isServerRequest:q,isServerResponse:G,willEmitClose:ye,isTransformStream:T}}),Ao=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{AbortError:r,codes:s}=lr(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:c,once:f}=_r(),{validateAbortSignal:d,validateFunction:p,validateObject:m,validateBoolean:g}=of(),{Promise:y,PromisePrototypeThen:w,SymbolDispose:E}=vn(),{isClosed:C,isReadable:k,isReadableNodeStream:T,isReadableStream:A,isReadableFinished:z,isReadableErrored:N,isWritable:M,isWritableNodeStream:I,isWritableStream:P,isWritableFinished:Q,isWritableErrored:ne,isNodeStream:se,willEmitClose:L,kIsClosedPromise:ae}=Ss(),ie;function H(R){return R.setHeader&&typeof R.abort=="function"}var D=()=>{};function G(R,Z,U){var re,ve;if(arguments.length===2?(U=Z,Z=c):Z==null?Z=c:m(Z,"options"),p(U,"callback"),d(Z.signal,"options.signal"),U=f(U),A(R)||P(R))return q(R,Z,U);if(!se(R))throw new o("stream",["ReadableStream","WritableStream","Stream"],R);let X=(re=Z.readable)!==null&&re!==void 0?re:T(R),Ae=(ve=Z.writable)!==null&&ve!==void 0?ve:I(R),J=R._writableState,K=R._readableState,be=()=>{R.writable||pe()},ue=L(R)&&T(R)===X&&I(R)===Ae,fe=Q(R,!1),pe=()=>{fe=!0,R.destroyed&&(ue=!1),!(ue&&(!R.readable||X))&&(!X||Ne)&&U.call(R)},Ne=z(R,!1),Ie=()=>{Ne=!0,R.destroyed&&(ue=!1),!(ue&&(!R.writable||Ae))&&(!Ae||fe)&&U.call(R)},ce=B=>{U.call(R,B)},me=C(R),we=()=>{me=!0;let B=ne(R)||N(R);if(B&&typeof B!="boolean")return U.call(R,B);if(X&&!Ne&&T(R,!0)&&!z(R,!1))return U.call(R,new l);if(Ae&&!fe&&!Q(R,!1))return U.call(R,new l);U.call(R)},De=()=>{me=!0;let B=ne(R)||N(R);if(B&&typeof B!="boolean")return U.call(R,B);U.call(R)},ke=()=>{R.req.on("finish",pe)};H(R)?(R.on("complete",pe),ue||R.on("abort",we),R.req?ke():R.on("request",ke)):Ae&&!J&&(R.on("end",be),R.on("close",be)),!ue&&typeof R.aborted=="boolean"&&R.on("aborted",we),R.on("end",Ie),R.on("finish",pe),Z.error!==!1&&R.on("error",ce),R.on("close",we),me?n.nextTick(we):J!=null&&J.errorEmitted||K!=null&&K.errorEmitted?ue||n.nextTick(De):(!X&&(!ue||k(R))&&(fe||M(R)===!1)||!Ae&&(!ue||M(R))&&(Ne||k(R)===!1)||K&&R.req&&R.aborted)&&n.nextTick(De);let $=()=>{U=D,R.removeListener("aborted",we),R.removeListener("complete",pe),R.removeListener("abort",we),R.removeListener("request",ke),R.req&&R.req.removeListener("finish",pe),R.removeListener("end",be),R.removeListener("close",be),R.removeListener("finish",pe),R.removeListener("end",Ie),R.removeListener("error",ce),R.removeListener("close",we)};if(Z.signal&&!me){let B=()=>{let oe=U;$(),oe.call(R,new r(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)n.nextTick(B);else{ie=ie||_r().addAbortListener;let oe=ie(Z.signal,B),Te=U;U=f((...ge)=>{oe[E](),Te.apply(R,ge)})}}return $}function q(R,Z,U){let re=!1,ve=D;if(Z.signal)if(ve=()=>{re=!0,U.call(R,new r(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)n.nextTick(ve);else{ie=ie||_r().addAbortListener;let Ae=ie(Z.signal,ve),J=U;U=f((...K)=>{Ae[E](),J.apply(R,K)})}let X=(...Ae)=>{re||n.nextTick(()=>U.apply(R,Ae))};return w(R[ae].promise,X,X),D}function ye(R,Z){var U;let re=!1;return Z===null&&(Z=c),(U=Z)!==null&&U!==void 0&&U.cleanup&&(g(Z.cleanup,"cleanup"),re=Z.cleanup),new y((ve,X)=>{let Ae=G(R,Z,J=>{re&&Ae(),J?X(J):ve()})})}e.exports=G,e.exports.finished=ye}),tc=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:o}=lr(),{Symbol:l}=vn(),{kIsDestroyed:c,isDestroyed:f,isFinished:d,isServerRequest:p}=Ss(),m=l("kDestroy"),g=l("kConstruct");function y(L,ae,ie){L&&(L.stack,ae&&!ae.errored&&(ae.errored=L),ie&&!ie.errored&&(ie.errored=L))}function w(L,ae){let ie=this._readableState,H=this._writableState,D=H||ie;return H!=null&&H.destroyed||ie!=null&&ie.destroyed?(typeof ae=="function"&&ae(),this):(y(L,H,ie),H&&(H.destroyed=!0),ie&&(ie.destroyed=!0),D.constructed?E(this,L,ae):this.once(m,function(G){E(this,r(G,L),ae)}),this)}function E(L,ae,ie){let H=!1;function D(G){if(H)return;H=!0;let q=L._readableState,ye=L._writableState;y(G,ye,q),ye&&(ye.closed=!0),q&&(q.closed=!0),typeof ie=="function"&&ie(G),G?n.nextTick(C,L,G):n.nextTick(k,L)}try{L._destroy(ae||null,D)}catch(G){D(G)}}function C(L,ae){T(L,ae),k(L)}function k(L){let ae=L._readableState,ie=L._writableState;ie&&(ie.closeEmitted=!0),ae&&(ae.closeEmitted=!0),(ie!=null&&ie.emitClose||ae!=null&&ae.emitClose)&&L.emit("close")}function T(L,ae){let ie=L._readableState,H=L._writableState;H!=null&&H.errorEmitted||ie!=null&&ie.errorEmitted||(H&&(H.errorEmitted=!0),ie&&(ie.errorEmitted=!0),L.emit("error",ae))}function A(){let L=this._readableState,ae=this._writableState;L&&(L.constructed=!0,L.closed=!1,L.closeEmitted=!1,L.destroyed=!1,L.errored=null,L.errorEmitted=!1,L.reading=!1,L.ended=L.readable===!1,L.endEmitted=L.readable===!1),ae&&(ae.constructed=!0,ae.destroyed=!1,ae.closed=!1,ae.closeEmitted=!1,ae.errored=null,ae.errorEmitted=!1,ae.finalCalled=!1,ae.prefinished=!1,ae.ended=ae.writable===!1,ae.ending=ae.writable===!1,ae.finished=ae.writable===!1)}function z(L,ae,ie){let H=L._readableState,D=L._writableState;if(D!=null&&D.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||D!=null&&D.autoDestroy?L.destroy(ae):ae&&(ae.stack,D&&!D.errored&&(D.errored=ae),H&&!H.errored&&(H.errored=ae),ie?n.nextTick(T,L,ae):T(L,ae))}function N(L,ae){if(typeof L._construct!="function")return;let ie=L._readableState,H=L._writableState;ie&&(ie.constructed=!1),H&&(H.constructed=!1),L.once(g,ae),!(L.listenerCount(g)>1)&&n.nextTick(M,L)}function M(L){let ae=!1;function ie(H){if(ae){z(L,H??new s);return}ae=!0;let D=L._readableState,G=L._writableState,q=G||D;D&&(D.constructed=!0),G&&(G.constructed=!0),q.destroyed?L.emit(m,H):H?z(L,H,!0):n.nextTick(I,L)}try{L._construct(H=>{n.nextTick(ie,H)})}catch(H){n.nextTick(ie,H)}}function I(L){L.emit(g)}function P(L){return(L==null?void 0:L.setHeader)&&typeof L.abort=="function"}function Q(L){L.emit("close")}function ne(L,ae){L.emit("error",ae),n.nextTick(Q,L)}function se(L,ae){!L||f(L)||(!ae&&!d(L)&&(ae=new o),p(L)?(L.socket=null,L.destroy(ae)):P(L)?L.abort():P(L.req)?L.req.abort():typeof L.destroy=="function"?L.destroy(ae):typeof L.close=="function"?L.close():ae?n.nextTick(ne,L,ae):n.nextTick(Q,L),L.destroyed||(L[c]=!0))}e.exports={construct:N,destroyer:se,destroy:w,undestroy:A,errorOrDestroy:z}}),zb=He((t,e)=>{ze(),Ve(),Fe();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=vn(),{EventEmitter:s}=(Ta(),Zt(Co));function o(c){s.call(this,c)}r(o.prototype,s.prototype),r(o,s),o.prototype.pipe=function(c,f){let d=this;function p(k){c.writable&&c.write(k)===!1&&d.pause&&d.pause()}d.on("data",p);function m(){d.readable&&d.resume&&d.resume()}c.on("drain",m),!c._isStdio&&(!f||f.end!==!1)&&(d.on("end",y),d.on("close",w));let g=!1;function y(){g||(g=!0,c.end())}function w(){g||(g=!0,typeof c.destroy=="function"&&c.destroy())}function E(k){C(),s.listenerCount(this,"error")===0&&this.emit("error",k)}l(d,"error",E),l(c,"error",E);function C(){d.removeListener("data",p),c.removeListener("drain",m),d.removeListener("end",y),d.removeListener("close",w),d.removeListener("error",E),c.removeListener("error",E),d.removeListener("end",C),d.removeListener("close",C),c.removeListener("close",C)}return d.on("end",C),d.on("close",C),c.on("close",C),c.emit("pipe",d),c};function l(c,f,d){if(typeof c.prependListener=="function")return c.prependListener(f,d);!c._events||!c._events[f]?c.on(f,d):n(c._events[f])?c._events[f].unshift(d):c._events[f]=[d,c._events[f]]}e.exports={Stream:o,prependListener:l}}),hp=He((t,e)=>{ze(),Ve(),Fe();var{SymbolDispose:n}=vn(),{AbortError:r,codes:s}=lr(),{isNodeStream:o,isWebStream:l,kControllerErrorFunction:c}=Ss(),f=Ao(),{ERR_INVALID_ARG_TYPE:d}=s,p,m=(g,y)=>{if(typeof g!="object"||!("aborted"in g))throw new d(y,"AbortSignal",g)};e.exports.addAbortSignal=function(g,y){if(m(g,"signal"),!o(y)&&!l(y))throw new d("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(g,y)},e.exports.addAbortSignalNoValidate=function(g,y){if(typeof g!="object"||!("aborted"in g))return y;let w=o(y)?()=>{y.destroy(new r(void 0,{cause:g.reason}))}:()=>{y[c](new r(void 0,{cause:g.reason}))};if(g.aborted)w();else{p=p||_r().addAbortListener;let E=p(g,w);f(y,E[n])}return y}}),k8=He((t,e)=>{ze(),Ve(),Fe();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:s,Uint8Array:o}=vn(),{Buffer:l}=($n(),Zt(qn)),{inspect:c}=_r();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(f){let d={data:f,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(f){let d={data:f,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}shift(){if(this.length===0)return;let f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}clear(){this.head=this.tail=null,this.length=0}join(f){if(this.length===0)return"";let d=this.head,p=""+d.data;for(;(d=d.next)!==null;)p+=f+d.data;return p}concat(f){if(this.length===0)return l.alloc(0);let d=l.allocUnsafe(f>>>0),p=this.head,m=0;for(;p;)s(d,p.data,m),m+=p.data.length,p=p.next;return d}consume(f,d){let p=this.head.data;if(f<p.length){let m=p.slice(0,f);return this.head.data=p.slice(f),m}return f===p.length?this.shift():d?this._getString(f):this._getBuffer(f)}first(){return this.head.data}*[r](){for(let f=this.head;f;f=f.next)yield f.data}_getString(f){let d="",p=this.head,m=0;do{let g=p.data;if(f>g.length)d+=g,f-=g.length;else{f===g.length?(d+=g,++m,p.next?this.head=p.next:this.head=this.tail=null):(d+=n(g,0,f),this.head=p,p.data=n(g,f));break}++m}while((p=p.next)!==null);return this.length-=m,d}_getBuffer(f){let d=l.allocUnsafe(f),p=f,m=this.head,g=0;do{let y=m.data;if(f>y.length)s(d,y,p-f),f-=y.length;else{f===y.length?(s(d,y,p-f),++g,m.next?this.head=m.next:this.head=this.tail=null):(s(d,new o(y.buffer,y.byteOffset,f),p-f),this.head=m,m.data=y.slice(f));break}++g}while((m=m.next)!==null);return this.length-=g,d}[Symbol.for("nodejs.util.inspect.custom")](f,d){return c(this,{...d,depth:0,customInspect:!1})}}}),pp=He((t,e)=>{ze(),Ve(),Fe();var{MathFloor:n,NumberIsInteger:r}=vn(),{validateInteger:s}=of(),{ERR_INVALID_ARG_VALUE:o}=lr().codes,l=16*1024,c=16;function f(g,y,w){return g.highWaterMark!=null?g.highWaterMark:y?g[w]:null}function d(g){return g?c:l}function p(g,y){s(y,"value",0),g?c=y:l=y}function m(g,y,w,E){let C=f(y,E,w);if(C!=null){if(!r(C)||C<0){let k=E?`options.${w}`:"options.highWaterMark";throw new o(k,C)}return n(C)}return d(g.objectMode)}e.exports={getHighWaterMark:m,getDefaultHighWaterMark:d,setDefaultHighWaterMark:p}}),O8=He((t,e)=>{ze(),Ve(),Fe();var n=($n(),Zt(qn)),r=n.Buffer;function s(l,c){for(var f in l)c[f]=l[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o);function o(l,c,f){return r(l,c,f)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(l,c,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,f)},o.alloc=function(l,c,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=r(l);return c!==void 0?typeof f=="string"?d.fill(c,f):d.fill(c):d.fill(0),d},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}}),I8=He(t=>{ze(),Ve(),Fe();var e=O8().Buffer,n=e.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(T){if(!T)return"utf8";for(var A;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(A)return;T=(""+T).toLowerCase(),A=!0}}function s(T){var A=r(T);if(typeof A!="string"&&(e.isEncoding===n||!n(T)))throw new Error("Unknown encoding: "+T);return A||T}t.StringDecoder=o;function o(T){this.encoding=s(T);var A;switch(this.encoding){case"utf16le":this.text=g,this.end=y,A=4;break;case"utf8":this.fillLast=d,A=4;break;case"base64":this.text=w,this.end=E,A=3;break;default:this.write=C,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(A)}o.prototype.write=function(T){if(T.length===0)return"";var A,z;if(this.lastNeed){if(A=this.fillLast(T),A===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<T.length?A?A+this.text(T,z):this.text(T,z):A||""},o.prototype.end=m,o.prototype.text=p,o.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function l(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function c(T,A,z){var N=A.length-1;if(N<z)return 0;var M=l(A[N]);return M>=0?(M>0&&(T.lastNeed=M-1),M):--N<z||M===-2?0:(M=l(A[N]),M>=0?(M>0&&(T.lastNeed=M-2),M):--N<z||M===-2?0:(M=l(A[N]),M>=0?(M>0&&(M===2?M=0:T.lastNeed=M-3),M):0))}function f(T,A,z){if((A[0]&192)!==128)return T.lastNeed=0,"";if(T.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return T.lastNeed=1,"";if(T.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return T.lastNeed=2,""}}function d(T){var A=this.lastTotal-this.lastNeed,z=f(this,T);if(z!==void 0)return z;if(this.lastNeed<=T.length)return T.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,A,0,T.length),this.lastNeed-=T.length}function p(T,A){var z=c(this,T,A);if(!this.lastNeed)return T.toString("utf8",A);this.lastTotal=z;var N=T.length-(z-this.lastNeed);return T.copy(this.lastChar,0,N),T.toString("utf8",A,N)}function m(T){var A=T&&T.length?this.write(T):"";return this.lastNeed?A+"":A}function g(T,A){if((T.length-A)%2===0){var z=T.toString("utf16le",A);if(z){var N=z.charCodeAt(z.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",A,T.length-1)}function y(T){var A=T&&T.length?this.write(T):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,z)}return A}function w(T,A){var z=(T.length-A)%3;return z===0?T.toString("base64",A):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",A,T.length-z))}function E(T){var A=T&&T.length?this.write(T):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function C(T){return T.toString(this.encoding)}function k(T){return T&&T.length?this.write(T):""}}),Vk=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{PromisePrototypeThen:r,SymbolAsyncIterator:s,SymbolIterator:o}=vn(),{Buffer:l}=($n(),Zt(qn)),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:f}=lr().codes;function d(p,m,g){let y;if(typeof m=="string"||m instanceof l)return new p({objectMode:!0,...g,read(){this.push(m),this.push(null)}});let w;if(m&&m[s])w=!0,y=m[s]();else if(m&&m[o])w=!1,y=m[o]();else throw new c("iterable",["Iterable"],m);let E=new p({objectMode:!0,highWaterMark:1,...g}),C=!1;E._read=function(){C||(C=!0,T())},E._destroy=function(A,z){r(k(A),()=>n.nextTick(z,A),N=>n.nextTick(z,N||A))};async function k(A){let z=A!=null,N=typeof y.throw=="function";if(z&&N){let{value:M,done:I}=await y.throw(A);if(await M,I)return}if(typeof y.return=="function"){let{value:M}=await y.return();await M}}async function T(){for(;;){try{let{value:A,done:z}=w?await y.next():y.next();if(z)E.push(null);else{let N=A&&typeof A.then=="function"?await A:A;if(N===null)throw C=!1,new f;if(E.push(N))continue;C=!1}}catch(A){E.destroy(A)}break}}return E}e.exports=d}),mp=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{ArrayPrototypeIndexOf:r,NumberIsInteger:s,NumberIsNaN:o,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:f,ObjectSetPrototypeOf:d,Promise:p,SafeSet:m,SymbolAsyncDispose:g,SymbolAsyncIterator:y,Symbol:w}=vn();e.exports=ge,ge.ReadableState=Te;var{EventEmitter:E}=(Ta(),Zt(Co)),{Stream:C,prependListener:k}=zb(),{Buffer:T}=($n(),Zt(qn)),{addAbortSignal:A}=hp(),z=Ao(),N=_r().debuglog("stream",Y=>{N=Y}),M=k8(),I=tc(),{getHighWaterMark:P,getDefaultHighWaterMark:Q}=pp(),{aggregateTwoErrors:ne,codes:{ERR_INVALID_ARG_TYPE:se,ERR_METHOD_NOT_IMPLEMENTED:L,ERR_OUT_OF_RANGE:ae,ERR_STREAM_PUSH_AFTER_EOF:ie,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:D}=lr(),{validateObject:G}=of(),q=w("kPaused"),{StringDecoder:ye}=I8(),R=Vk();d(ge.prototype,C.prototype),d(ge,C);var Z=()=>{},{errorOrDestroy:U}=I,re=1,ve=2,X=4,Ae=8,J=16,K=32,be=64,ue=128,fe=256,pe=512,Ne=1024,Ie=2048,ce=4096,me=8192,we=16384,De=32768,ke=65536,$=1<<17,B=1<<18;function oe(Y){return{enumerable:!1,get(){return(this.state&Y)!==0},set(ee){ee?this.state|=Y:this.state&=~Y}}}c(Te.prototype,{objectMode:oe(re),ended:oe(ve),endEmitted:oe(X),reading:oe(Ae),constructed:oe(J),sync:oe(K),needReadable:oe(be),emittedReadable:oe(ue),readableListening:oe(fe),resumeScheduled:oe(pe),errorEmitted:oe(Ne),emitClose:oe(Ie),autoDestroy:oe(ce),destroyed:oe(me),closed:oe(we),closeEmitted:oe(De),multiAwaitDrain:oe(ke),readingMore:oe($),dataEmitted:oe(B)});function Te(Y,ee,Ue){typeof Ue!="boolean"&&(Ue=ee instanceof ms()),this.state=Ie|ce|J|K,Y&&Y.objectMode&&(this.state|=re),Ue&&Y&&Y.readableObjectMode&&(this.state|=re),this.highWaterMark=Y?P(this,Y,"readableHighWaterMark",Ue):Q(!1),this.buffer=new M,this.length=0,this.pipes=[],this.flowing=null,this[q]=null,Y&&Y.emitClose===!1&&(this.state&=-2049),Y&&Y.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=Y&&Y.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Y&&Y.encoding&&(this.decoder=new ye(Y.encoding),this.encoding=Y.encoding)}function ge(Y){if(!(this instanceof ge))return new ge(Y);let ee=this instanceof ms();this._readableState=new Te(Y,this,ee),Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.construct=="function"&&(this._construct=Y.construct),Y.signal&&!ee&&A(Y.signal,this)),C.call(this,Y),I.construct(this,()=>{this._readableState.needReadable&&qe(this,this._readableState)})}ge.prototype.destroy=I.destroy,ge.prototype._undestroy=I.undestroy,ge.prototype._destroy=function(Y,ee){ee(Y)},ge.prototype[E.captureRejectionSymbol]=function(Y){this.destroy(Y)},ge.prototype[g]=function(){let Y;return this.destroyed||(Y=this.readableEnded?null:new D,this.destroy(Y)),new p((ee,Ue)=>z(this,We=>We&&We!==Y?Ue(We):ee(null)))},ge.prototype.push=function(Y,ee){return Me(this,Y,ee,!1)},ge.prototype.unshift=function(Y,ee){return Me(this,Y,ee,!0)};function Me(Y,ee,Ue,We){N("readableAddChunk",ee);let Ke=Y._readableState,pn;if((Ke.state&re)===0&&(typeof ee=="string"?(Ue=Ue||Ke.defaultEncoding,Ke.encoding!==Ue&&(We&&Ke.encoding?ee=T.from(ee,Ue).toString(Ke.encoding):(ee=T.from(ee,Ue),Ue=""))):ee instanceof T?Ue="":C._isUint8Array(ee)?(ee=C._uint8ArrayToBuffer(ee),Ue=""):ee!=null&&(pn=new se("chunk",["string","Buffer","Uint8Array"],ee))),pn)U(Y,pn);else if(ee===null)Ke.state&=-9,te(Y,Ke);else if((Ke.state&re)!==0||ee&&ee.length>0)if(We)if((Ke.state&X)!==0)U(Y,new H);else{if(Ke.destroyed||Ke.errored)return!1;b(Y,Ke,ee,!0)}else if(Ke.ended)U(Y,new ie);else{if(Ke.destroyed||Ke.errored)return!1;Ke.state&=-9,Ke.decoder&&!Ue?(ee=Ke.decoder.write(ee),Ke.objectMode||ee.length!==0?b(Y,Ke,ee,!1):qe(Y,Ke)):b(Y,Ke,ee,!1)}else We||(Ke.state&=-9,qe(Y,Ke));return!Ke.ended&&(Ke.length<Ke.highWaterMark||Ke.length===0)}function b(Y,ee,Ue,We){ee.flowing&&ee.length===0&&!ee.sync&&Y.listenerCount("data")>0?((ee.state&ke)!==0?ee.awaitDrainWriters.clear():ee.awaitDrainWriters=null,ee.dataEmitted=!0,Y.emit("data",Ue)):(ee.length+=ee.objectMode?1:Ue.length,We?ee.buffer.unshift(Ue):ee.buffer.push(Ue),(ee.state&be)!==0&&he(Y)),qe(Y,ee)}ge.prototype.isPaused=function(){let Y=this._readableState;return Y[q]===!0||Y.flowing===!1},ge.prototype.setEncoding=function(Y){let ee=new ye(Y);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;let Ue=this._readableState.buffer,We="";for(let Ke of Ue)We+=ee.write(Ke);return Ue.clear(),We!==""&&Ue.push(We),this._readableState.length=We.length,this};var S=1073741824;function x(Y){if(Y>S)throw new ae("size","<= 1GiB",Y);return Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++,Y}function j(Y,ee){return Y<=0||ee.length===0&&ee.ended?0:(ee.state&re)!==0?1:o(Y)?ee.flowing&&ee.length?ee.buffer.first().length:ee.length:Y<=ee.length?Y:ee.ended?ee.length:0}ge.prototype.read=function(Y){N("read",Y),Y===void 0?Y=NaN:s(Y)||(Y=l(Y,10));let ee=this._readableState,Ue=Y;if(Y>ee.highWaterMark&&(ee.highWaterMark=x(Y)),Y!==0&&(ee.state&=-129),Y===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return N("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?Ze(this):he(this),null;if(Y=j(Y,ee),Y===0&&ee.ended)return ee.length===0&&Ze(this),null;let We=(ee.state&be)!==0;if(N("need readable",We),(ee.length===0||ee.length-Y<ee.highWaterMark)&&(We=!0,N("length less than watermark",We)),ee.ended||ee.reading||ee.destroyed||ee.errored||!ee.constructed)We=!1,N("reading, ended or constructing",We);else if(We){N("do read"),ee.state|=Ae|K,ee.length===0&&(ee.state|=be);try{this._read(ee.highWaterMark)}catch(pn){U(this,pn)}ee.state&=-33,ee.reading||(Y=j(Ue,ee))}let Ke;return Y>0?Ke=ct(Y,ee):Ke=null,Ke===null?(ee.needReadable=ee.length<=ee.highWaterMark,Y=0):(ee.length-=Y,ee.multiAwaitDrain?ee.awaitDrainWriters.clear():ee.awaitDrainWriters=null),ee.length===0&&(ee.ended||(ee.needReadable=!0),Ue!==Y&&ee.ended&&Ze(this)),Ke!==null&&!ee.errorEmitted&&!ee.closeEmitted&&(ee.dataEmitted=!0,this.emit("data",Ke)),Ke};function te(Y,ee){if(N("onEofChunk"),!ee.ended){if(ee.decoder){let Ue=ee.decoder.end();Ue&&Ue.length&&(ee.buffer.push(Ue),ee.length+=ee.objectMode?1:Ue.length)}ee.ended=!0,ee.sync?he(Y):(ee.needReadable=!1,ee.emittedReadable=!0,Se(Y))}}function he(Y){let ee=Y._readableState;N("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(N("emitReadable",ee.flowing),ee.emittedReadable=!0,n.nextTick(Se,Y))}function Se(Y){let ee=Y._readableState;N("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&!ee.errored&&(ee.length||ee.ended)&&(Y.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Un(Y)}function qe(Y,ee){!ee.readingMore&&ee.constructed&&(ee.readingMore=!0,n.nextTick($e,Y,ee))}function $e(Y,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){let Ue=ee.length;if(N("maybeReadMore read 0"),Y.read(0),Ue===ee.length)break}ee.readingMore=!1}ge.prototype._read=function(Y){throw new L("_read()")},ge.prototype.pipe=function(Y,ee){let Ue=this,We=this._readableState;We.pipes.length===1&&(We.multiAwaitDrain||(We.multiAwaitDrain=!0,We.awaitDrainWriters=new m(We.awaitDrainWriters?[We.awaitDrainWriters]:[]))),We.pipes.push(Y),N("pipe count=%d opts=%j",We.pipes.length,ee);let Ke=(!ee||ee.end!==!1)&&Y!==n.stdout&&Y!==n.stderr?yn:cn;We.endEmitted?n.nextTick(Ke):Ue.once("end",Ke),Y.on("unpipe",pn);function pn(gi,Dr){N("onunpipe"),gi===Ue&&Dr&&Dr.hasUnpiped===!1&&(Dr.hasUnpiped=!0,Io())}function yn(){N("onend"),Y.end()}let hi,oc=!1;function Io(){N("cleanup"),Y.removeListener("close",ji),Y.removeListener("finish",mi),hi&&Y.removeListener("drain",hi),Y.removeListener("error",pi),Y.removeListener("unpipe",pn),Ue.removeListener("end",yn),Ue.removeListener("end",cn),Ue.removeListener("data",Li),oc=!0,hi&&We.awaitDrainWriters&&(!Y._writableState||Y._writableState.needDrain)&&hi()}function Aa(){oc||(We.pipes.length===1&&We.pipes[0]===Y?(N("false write response, pause",0),We.awaitDrainWriters=Y,We.multiAwaitDrain=!1):We.pipes.length>1&&We.pipes.includes(Y)&&(N("false write response, pause",We.awaitDrainWriters.size),We.awaitDrainWriters.add(Y)),Ue.pause()),hi||(hi=Je(Ue,Y),Y.on("drain",hi))}Ue.on("data",Li);function Li(gi){N("ondata");let Dr=Y.write(gi);N("dest.write",Dr),Dr===!1&&Aa()}function pi(gi){if(N("onerror",gi),cn(),Y.removeListener("error",pi),Y.listenerCount("error")===0){let Dr=Y._writableState||Y._readableState;Dr&&!Dr.errorEmitted?U(Y,gi):Y.emit("error",gi)}}k(Y,"error",pi);function ji(){Y.removeListener("finish",mi),cn()}Y.once("close",ji);function mi(){N("onfinish"),Y.removeListener("close",ji),cn()}Y.once("finish",mi);function cn(){N("unpipe"),Ue.unpipe(Y)}return Y.emit("pipe",Ue),Y.writableNeedDrain===!0?Aa():We.flowing||(N("pipe resume"),Ue.resume()),Y};function Je(Y,ee){return function(){let Ue=Y._readableState;Ue.awaitDrainWriters===ee?(N("pipeOnDrain",1),Ue.awaitDrainWriters=null):Ue.multiAwaitDrain&&(N("pipeOnDrain",Ue.awaitDrainWriters.size),Ue.awaitDrainWriters.delete(ee)),(!Ue.awaitDrainWriters||Ue.awaitDrainWriters.size===0)&&Y.listenerCount("data")&&Y.resume()}}ge.prototype.unpipe=function(Y){let ee=this._readableState,Ue={hasUnpiped:!1};if(ee.pipes.length===0)return this;if(!Y){let Ke=ee.pipes;ee.pipes=[],this.pause();for(let pn=0;pn<Ke.length;pn++)Ke[pn].emit("unpipe",this,{hasUnpiped:!1});return this}let We=r(ee.pipes,Y);return We===-1?this:(ee.pipes.splice(We,1),ee.pipes.length===0&&this.pause(),Y.emit("unpipe",this,Ue),this)},ge.prototype.on=function(Y,ee){let Ue=C.prototype.on.call(this,Y,ee),We=this._readableState;return Y==="data"?(We.readableListening=this.listenerCount("readable")>0,We.flowing!==!1&&this.resume()):Y==="readable"&&!We.endEmitted&&!We.readableListening&&(We.readableListening=We.needReadable=!0,We.flowing=!1,We.emittedReadable=!1,N("on readable",We.length,We.reading),We.length?he(this):We.reading||n.nextTick(ot,this)),Ue},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(Y,ee){let Ue=C.prototype.removeListener.call(this,Y,ee);return Y==="readable"&&n.nextTick(lt,this),Ue},ge.prototype.off=ge.prototype.removeListener,ge.prototype.removeAllListeners=function(Y){let ee=C.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&n.nextTick(lt,this),ee};function lt(Y){let ee=Y._readableState;ee.readableListening=Y.listenerCount("readable")>0,ee.resumeScheduled&&ee[q]===!1?ee.flowing=!0:Y.listenerCount("data")>0?Y.resume():ee.readableListening||(ee.flowing=null)}function ot(Y){N("readable nexttick read 0"),Y.read(0)}ge.prototype.resume=function(){let Y=this._readableState;return Y.flowing||(N("resume"),Y.flowing=!Y.readableListening,In(this,Y)),Y[q]=!1,this};function In(Y,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,n.nextTick(rn,Y,ee))}function rn(Y,ee){N("resume",ee.reading),ee.reading||Y.read(0),ee.resumeScheduled=!1,Y.emit("resume"),Un(Y),ee.flowing&&!ee.reading&&Y.read(0)}ge.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[q]=!0,this};function Un(Y){let ee=Y._readableState;for(N("flow",ee.flowing);ee.flowing&&Y.read()!==null;);}ge.prototype.wrap=function(Y){let ee=!1;Y.on("data",We=>{!this.push(We)&&Y.pause&&(ee=!0,Y.pause())}),Y.on("end",()=>{this.push(null)}),Y.on("error",We=>{U(this,We)}),Y.on("close",()=>{this.destroy()}),Y.on("destroy",()=>{this.destroy()}),this._read=()=>{ee&&Y.resume&&(ee=!1,Y.resume())};let Ue=f(Y);for(let We=1;We<Ue.length;We++){let Ke=Ue[We];this[Ke]===void 0&&typeof Y[Ke]=="function"&&(this[Ke]=Y[Ke].bind(Y))}return this},ge.prototype[y]=function(){return Ft(this)},ge.prototype.iterator=function(Y){return Y!==void 0&&G(Y,"options"),Ft(this,Y)};function Ft(Y,ee){typeof Y.read!="function"&&(Y=ge.wrap(Y,{objectMode:!0}));let Ue=Xt(Y,ee);return Ue.stream=Y,Ue}async function*Xt(Y,ee){let Ue=Z;function We(yn){this===Y?(Ue(),Ue=Z):Ue=yn}Y.on("readable",We);let Ke,pn=z(Y,{writable:!1},yn=>{Ke=yn?ne(Ke,yn):null,Ue(),Ue=Z});try{for(;;){let yn=Y.destroyed?null:Y.read();if(yn!==null)yield yn;else{if(Ke)throw Ke;if(Ke===null)return;await new p(We)}}}catch(yn){throw Ke=ne(Ke,yn),Ke}finally{(Ke||(ee==null?void 0:ee.destroyOnReturn)!==!1)&&(Ke===void 0||Y._readableState.autoDestroy)?I.destroyer(Y,null):(Y.off("readable",We),pn())}}c(ge.prototype,{readable:{__proto__:null,get(){let Y=this._readableState;return!!Y&&Y.readable!==!1&&!Y.destroyed&&!Y.errorEmitted&&!Y.endEmitted},set(Y){this._readableState&&(this._readableState.readable=!!Y)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Y){this._readableState&&(this._readableState.destroyed=Y)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),c(Te.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[q]!==!1},set(Y){this[q]=!!Y}}}),ge._fromList=ct;function ct(Y,ee){if(ee.length===0)return null;let Ue;return ee.objectMode?Ue=ee.buffer.shift():!Y||Y>=ee.length?(ee.decoder?Ue=ee.buffer.join(""):ee.buffer.length===1?Ue=ee.buffer.first():Ue=ee.buffer.concat(ee.length),ee.buffer.clear()):Ue=ee.buffer.consume(Y,ee.decoder),Ue}function Ze(Y){let ee=Y._readableState;N("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,n.nextTick(St,ee,Y))}function St(Y,ee){if(N("endReadableNT",Y.endEmitted,Y.length),!Y.errored&&!Y.closeEmitted&&!Y.endEmitted&&Y.length===0){if(Y.endEmitted=!0,ee.emit("end"),ee.writable&&ee.allowHalfOpen===!1)n.nextTick(_t,ee);else if(Y.autoDestroy){let Ue=ee._writableState;(!Ue||Ue.autoDestroy&&(Ue.finished||Ue.writable===!1))&&ee.destroy()}}}function _t(Y){Y.writable&&!Y.writableEnded&&!Y.destroyed&&Y.end()}ge.from=function(Y,ee){return R(ge,Y,ee)};var It;function Xn(){return It===void 0&&(It={}),It}ge.fromWeb=function(Y,ee){return Xn().newStreamReadableFromReadableStream(Y,ee)},ge.toWeb=function(Y,ee){return Xn().newReadableStreamFromStreamReadable(Y,ee)},ge.wrap=function(Y,ee){var Ue,We;return new ge({objectMode:(Ue=(We=Y.readableObjectMode)!==null&&We!==void 0?We:Y.objectMode)!==null&&Ue!==void 0?Ue:!0,...ee,destroy(Ke,pn){I.destroyer(Y,Ke),pn(Ke)}}).wrap(Y)}}),Fb=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{ArrayPrototypeSlice:r,Error:s,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:d,Symbol:p,SymbolHasInstance:m}=vn();e.exports=G,G.WritableState=H;var{EventEmitter:g}=(Ta(),Zt(Co)),y=zb().Stream,{Buffer:w}=($n(),Zt(qn)),E=tc(),{addAbortSignal:C}=hp(),{getHighWaterMark:k,getDefaultHighWaterMark:T}=pp(),{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:z,ERR_MULTIPLE_CALLBACK:N,ERR_STREAM_CANNOT_PIPE:M,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:P,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:ne,ERR_UNKNOWN_ENCODING:se}=lr().codes,{errorOrDestroy:L}=E;f(G.prototype,y.prototype),f(G,y);function ae(){}var ie=p("kOnFinished");function H(ce,me,we){typeof we!="boolean"&&(we=me instanceof ms()),this.objectMode=!!(ce&&ce.objectMode),we&&(this.objectMode=this.objectMode||!!(ce&&ce.writableObjectMode)),this.highWaterMark=ce?k(this,ce,"writableHighWaterMark",we):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let De=!!(ce&&ce.decodeStrings===!1);this.decodeStrings=!De,this.defaultEncoding=ce&&ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=U.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ce||ce.emitClose!==!1,this.autoDestroy=!ce||ce.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ie]=[]}function D(ce){ce.buffered=[],ce.bufferedIndex=0,ce.allBuffers=!0,ce.allNoop=!0}H.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},l(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function G(ce){let me=this instanceof ms();if(!me&&!o(G,this))return new G(ce);this._writableState=new H(ce,this,me),ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final),typeof ce.construct=="function"&&(this._construct=ce.construct),ce.signal&&C(ce.signal,this)),y.call(this,ce),E.construct(this,()=>{let we=this._writableState;we.writing||Ae(this,we),ue(this,we)})}l(G,m,{__proto__:null,value:function(ce){return o(this,ce)?!0:this!==G?!1:ce&&ce._writableState instanceof H}}),G.prototype.pipe=function(){L(this,new M)};function q(ce,me,we,De){let ke=ce._writableState;if(typeof we=="function")De=we,we=ke.defaultEncoding;else{if(!we)we=ke.defaultEncoding;else if(we!=="buffer"&&!w.isEncoding(we))throw new se(we);typeof De!="function"&&(De=ae)}if(me===null)throw new Q;if(!ke.objectMode)if(typeof me=="string")ke.decodeStrings!==!1&&(me=w.from(me,we),we="buffer");else if(me instanceof w)we="buffer";else if(y._isUint8Array(me))me=y._uint8ArrayToBuffer(me),we="buffer";else throw new A("chunk",["string","Buffer","Uint8Array"],me);let $;return ke.ending?$=new ne:ke.destroyed&&($=new I("write")),$?(n.nextTick(De,$),L(ce,$,!0),$):(ke.pendingcb++,ye(ce,ke,me,we,De))}G.prototype.write=function(ce,me,we){return q(this,ce,me,we)===!0},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){let ce=this._writableState;ce.corked&&(ce.corked--,ce.writing||Ae(this,ce))},G.prototype.setDefaultEncoding=function(ce){if(typeof ce=="string"&&(ce=d(ce)),!w.isEncoding(ce))throw new se(ce);return this._writableState.defaultEncoding=ce,this};function ye(ce,me,we,De,ke){let $=me.objectMode?1:we.length;me.length+=$;let B=me.length<me.highWaterMark;return B||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:we,encoding:De,callback:ke}),me.allBuffers&&De!=="buffer"&&(me.allBuffers=!1),me.allNoop&&ke!==ae&&(me.allNoop=!1)):(me.writelen=$,me.writecb=ke,me.writing=!0,me.sync=!0,ce._write(we,De,me.onwrite),me.sync=!1),B&&!me.errored&&!me.destroyed}function R(ce,me,we,De,ke,$,B){me.writelen=De,me.writecb=B,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new I("write")):we?ce._writev(ke,me.onwrite):ce._write(ke,$,me.onwrite),me.sync=!1}function Z(ce,me,we,De){--me.pendingcb,De(we),X(me),L(ce,we)}function U(ce,me){let we=ce._writableState,De=we.sync,ke=we.writecb;if(typeof ke!="function"){L(ce,new N);return}we.writing=!1,we.writecb=null,we.length-=we.writelen,we.writelen=0,me?(me.stack,we.errored||(we.errored=me),ce._readableState&&!ce._readableState.errored&&(ce._readableState.errored=me),De?n.nextTick(Z,ce,we,me,ke):Z(ce,we,me,ke)):(we.buffered.length>we.bufferedIndex&&Ae(ce,we),De?we.afterWriteTickInfo!==null&&we.afterWriteTickInfo.cb===ke?we.afterWriteTickInfo.count++:(we.afterWriteTickInfo={count:1,cb:ke,stream:ce,state:we},n.nextTick(re,we.afterWriteTickInfo)):ve(ce,we,1,ke))}function re({stream:ce,state:me,count:we,cb:De}){return me.afterWriteTickInfo=null,ve(ce,me,we,De)}function ve(ce,me,we,De){for(!me.ending&&!ce.destroyed&&me.length===0&&me.needDrain&&(me.needDrain=!1,ce.emit("drain"));we-- >0;)me.pendingcb--,De();me.destroyed&&X(me),ue(ce,me)}function X(ce){if(ce.writing)return;for(let ke=ce.bufferedIndex;ke<ce.buffered.length;++ke){var me;let{chunk:$,callback:B}=ce.buffered[ke],oe=ce.objectMode?1:$.length;ce.length-=oe,B((me=ce.errored)!==null&&me!==void 0?me:new I("write"))}let we=ce[ie].splice(0);for(let ke=0;ke<we.length;ke++){var De;we[ke]((De=ce.errored)!==null&&De!==void 0?De:new I("end"))}D(ce)}function Ae(ce,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;let{buffered:we,bufferedIndex:De,objectMode:ke}=me,$=we.length-De;if(!$)return;let B=De;if(me.bufferProcessing=!0,$>1&&ce._writev){me.pendingcb-=$-1;let oe=me.allNoop?ae:ge=>{for(let Me=B;Me<we.length;++Me)we[Me].callback(ge)},Te=me.allNoop&&B===0?we:r(we,B);Te.allBuffers=me.allBuffers,R(ce,me,!0,me.length,Te,"",oe),D(me)}else{do{let{chunk:oe,encoding:Te,callback:ge}=we[B];we[B++]=null;let Me=ke?1:oe.length;R(ce,me,!1,Me,oe,Te,ge)}while(B<we.length&&!me.writing);B===we.length?D(me):B>256?(we.splice(0,B),me.bufferedIndex=0):me.bufferedIndex=B}me.bufferProcessing=!1}G.prototype._write=function(ce,me,we){if(this._writev)this._writev([{chunk:ce,encoding:me}],we);else throw new z("_write()")},G.prototype._writev=null,G.prototype.end=function(ce,me,we){let De=this._writableState;typeof ce=="function"?(we=ce,ce=null,me=null):typeof me=="function"&&(we=me,me=null);let ke;if(ce!=null){let $=q(this,ce,me);$ instanceof s&&(ke=$)}return De.corked&&(De.corked=1,this.uncork()),ke||(!De.errored&&!De.ending?(De.ending=!0,ue(this,De,!0),De.ended=!0):De.finished?ke=new P("end"):De.destroyed&&(ke=new I("end"))),typeof we=="function"&&(ke||De.finished?n.nextTick(we,ke):De[ie].push(we)),this};function J(ce){return ce.ending&&!ce.destroyed&&ce.constructed&&ce.length===0&&!ce.errored&&ce.buffered.length===0&&!ce.finished&&!ce.writing&&!ce.errorEmitted&&!ce.closeEmitted}function K(ce,me){let we=!1;function De(ke){if(we){L(ce,ke??N());return}if(we=!0,me.pendingcb--,ke){let $=me[ie].splice(0);for(let B=0;B<$.length;B++)$[B](ke);L(ce,ke,me.sync)}else J(me)&&(me.prefinished=!0,ce.emit("prefinish"),me.pendingcb++,n.nextTick(fe,ce,me))}me.sync=!0,me.pendingcb++;try{ce._final(De)}catch(ke){De(ke)}me.sync=!1}function be(ce,me){!me.prefinished&&!me.finalCalled&&(typeof ce._final=="function"&&!me.destroyed?(me.finalCalled=!0,K(ce,me)):(me.prefinished=!0,ce.emit("prefinish")))}function ue(ce,me,we){J(me)&&(be(ce,me),me.pendingcb===0&&(we?(me.pendingcb++,n.nextTick((De,ke)=>{J(ke)?fe(De,ke):ke.pendingcb--},ce,me)):J(me)&&(me.pendingcb++,fe(ce,me))))}function fe(ce,me){me.pendingcb--,me.finished=!0;let we=me[ie].splice(0);for(let De=0;De<we.length;De++)we[De]();if(ce.emit("finish"),me.autoDestroy){let De=ce._readableState;(!De||De.autoDestroy&&(De.endEmitted||De.readable===!1))&&ce.destroy()}}c(G.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ce){this._writableState&&(this._writableState.destroyed=ce)}},writable:{__proto__:null,get(){let ce=this._writableState;return!!ce&&ce.writable!==!1&&!ce.destroyed&&!ce.errored&&!ce.ending&&!ce.ended},set(ce){this._writableState&&(this._writableState.writable=!!ce)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ce=this._writableState;return ce?!ce.destroyed&&!ce.ending&&ce.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var pe=E.destroy;G.prototype.destroy=function(ce,me){let we=this._writableState;return!we.destroyed&&(we.bufferedIndex<we.buffered.length||we[ie].length)&&n.nextTick(X,we),pe.call(this,ce,me),this},G.prototype._undestroy=E.undestroy,G.prototype._destroy=function(ce,me){me(ce)},G.prototype[g.captureRejectionSymbol]=function(ce){this.destroy(ce)};var Ne;function Ie(){return Ne===void 0&&(Ne={}),Ne}G.fromWeb=function(ce,me){return Ie().newStreamWritableFromWritableStream(ce,me)},G.toWeb=function(ce){return Ie().newWritableStreamFromStreamWritable(ce)}}),N8=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),r=($n(),Zt(qn)),{isReadable:s,isWritable:o,isIterable:l,isNodeStream:c,isReadableNodeStream:f,isWritableNodeStream:d,isDuplexNodeStream:p,isReadableStream:m,isWritableStream:g}=Ss(),y=Ao(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:C}}=lr(),{destroyer:k}=tc(),T=ms(),A=mp(),z=Fb(),{createDeferredPromise:N}=_r(),M=Vk(),I=globalThis.Blob||r.Blob,P=typeof I<"u"?function(ie){return ie instanceof I}:function(ie){return!1},Q=globalThis.AbortController||Fu().AbortController,{FunctionPrototypeCall:ne}=vn(),se=class extends T{constructor(ie){super(ie),(ie==null?void 0:ie.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ie==null?void 0:ie.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function ie(H,D){if(p(H))return H;if(f(H))return ae({readable:H});if(d(H))return ae({writable:H});if(c(H))return ae({writable:!1,readable:!1});if(m(H))return ae({readable:A.fromWeb(H)});if(g(H))return ae({writable:z.fromWeb(H)});if(typeof H=="function"){let{value:q,write:ye,final:R,destroy:Z}=L(H);if(l(q))return M(se,q,{objectMode:!0,write:ye,final:R,destroy:Z});let U=q==null?void 0:q.then;if(typeof U=="function"){let re,ve=ne(U,q,X=>{if(X!=null)throw new C("nully","body",X)},X=>{k(re,X)});return re=new se({objectMode:!0,readable:!1,write:ye,final(X){R(async()=>{try{await ve,n.nextTick(X,null)}catch(Ae){n.nextTick(X,Ae)}})},destroy:Z})}throw new C("Iterable, AsyncIterable or AsyncFunction",D,q)}if(P(H))return ie(H.arrayBuffer());if(l(H))return M(se,H,{objectMode:!0,writable:!1});if(m(H==null?void 0:H.readable)&&g(H==null?void 0:H.writable))return se.fromWeb(H);if(typeof(H==null?void 0:H.writable)=="object"||typeof(H==null?void 0:H.readable)=="object"){let q=H!=null&&H.readable?f(H==null?void 0:H.readable)?H==null?void 0:H.readable:ie(H.readable):void 0,ye=H!=null&&H.writable?d(H==null?void 0:H.writable)?H==null?void 0:H.writable:ie(H.writable):void 0;return ae({readable:q,writable:ye})}let G=H==null?void 0:H.then;if(typeof G=="function"){let q;return ne(G,H,ye=>{ye!=null&&q.push(ye),q.push(null)},ye=>{k(q,ye)}),q=new se({objectMode:!0,writable:!1,read(){}})}throw new E(D,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function L(ie){let{promise:H,resolve:D}=N(),G=new Q,q=G.signal;return{value:ie(async function*(){for(;;){let ye=H;H=null;let{chunk:R,done:Z,cb:U}=await ye;if(n.nextTick(U),Z)return;if(q.aborted)throw new w(void 0,{cause:q.reason});({promise:H,resolve:D}=N()),yield R}}(),{signal:q}),write(ye,R,Z){let U=D;D=null,U({chunk:ye,done:!1,cb:Z})},final(ye){let R=D;D=null,R({done:!0,cb:ye})},destroy(ye,R){G.abort(),R(ye)}}}function ae(ie){let H=ie.readable&&typeof ie.readable.read!="function"?A.wrap(ie.readable):ie.readable,D=ie.writable,G=!!s(H),q=!!o(D),ye,R,Z,U,re;function ve(X){let Ae=U;U=null,Ae?Ae(X):X&&re.destroy(X)}return re=new se({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(D!=null&&D.writableObjectMode),readable:G,writable:q}),q&&(y(D,X=>{q=!1,X&&k(H,X),ve(X)}),re._write=function(X,Ae,J){D.write(X,Ae)?J():ye=J},re._final=function(X){D.end(),R=X},D.on("drain",function(){if(ye){let X=ye;ye=null,X()}}),D.on("finish",function(){if(R){let X=R;R=null,X()}})),G&&(y(H,X=>{G=!1,X&&k(H,X),ve(X)}),H.on("readable",function(){if(Z){let X=Z;Z=null,X()}}),H.on("end",function(){re.push(null)}),re._read=function(){for(;;){let X=H.read();if(X===null){Z=re._read;return}if(!re.push(X))return}}),re._destroy=function(X,Ae){!X&&U!==null&&(X=new w),Z=null,ye=null,R=null,U===null?Ae(X):(U=Ae,k(D,X),k(H,X))},re}}),ms=He((t,e)=>{ze(),Ve(),Fe();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:s,ObjectSetPrototypeOf:o}=vn();e.exports=f;var l=mp(),c=Fb();o(f.prototype,l.prototype),o(f,l);{let g=s(c.prototype);for(let y=0;y<g.length;y++){let w=g[y];f.prototype[w]||(f.prototype[w]=c.prototype[w])}}function f(g){if(!(this instanceof f))return new f(g);l.call(this,g),c.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(f.prototype,{writable:{__proto__:null,...r(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(c.prototype,"writableLength")},writableFinished:{__proto__:null,...r(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var d;function p(){return d===void 0&&(d={}),d}f.fromWeb=function(g,y){return p().newStreamDuplexFromReadableWritablePair(g,y)},f.toWeb=function(g){return p().newReadableWritablePairFromDuplex(g)};var m;f.from=function(g){return m||(m=N8()),m(g,"body")}}),Hk=He((t,e)=>{ze(),Ve(),Fe();var{ObjectSetPrototypeOf:n,Symbol:r}=vn();e.exports=f;var{ERR_METHOD_NOT_IMPLEMENTED:s}=lr().codes,o=ms(),{getHighWaterMark:l}=pp();n(f.prototype,o.prototype),n(f,o);var c=r("kCallback");function f(m){if(!(this instanceof f))return new f(m);let g=m?l(this,m,"readableHighWaterMark",!0):null;g===0&&(m={...m,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:m.writableHighWaterMark||0}),o.call(this,m),this._readableState.sync=!1,this[c]=null,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",p)}function d(m){typeof this._flush=="function"&&!this.destroyed?this._flush((g,y)=>{if(g){m?m(g):this.destroy(g);return}y!=null&&this.push(y),this.push(null),m&&m()}):(this.push(null),m&&m())}function p(){this._final!==d&&d.call(this)}f.prototype._final=d,f.prototype._transform=function(m,g,y){throw new s("_transform()")},f.prototype._write=function(m,g,y){let w=this._readableState,E=this._writableState,C=w.length;this._transform(m,g,(k,T)=>{if(k){y(k);return}T!=null&&this.push(T),E.ended||C===w.length||w.length<w.highWaterMark?y():this[c]=y})},f.prototype._read=function(){if(this[c]){let m=this[c];this[c]=null,m()}}}),Wk=He((t,e)=>{ze(),Ve(),Fe();var{ObjectSetPrototypeOf:n}=vn();e.exports=s;var r=Hk();n(s.prototype,r.prototype),n(s,r);function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}s.prototype._transform=function(o,l,c){c(null,o)}}),Vb=He((t,e)=>{ze(),Ve(),Fe();var n=xa(),{ArrayIsArray:r,Promise:s,SymbolAsyncIterator:o,SymbolDispose:l}=vn(),c=Ao(),{once:f}=_r(),d=tc(),p=ms(),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:C},AbortError:k}=lr(),{validateFunction:T,validateAbortSignal:A}=of(),{isIterable:z,isReadable:N,isReadableNodeStream:M,isNodeStream:I,isTransformStream:P,isWebStream:Q,isReadableStream:ne,isReadableFinished:se}=Ss(),L=globalThis.AbortController||Fu().AbortController,ae,ie,H;function D(X,Ae,J){let K=!1;X.on("close",()=>{K=!0});let be=c(X,{readable:Ae,writable:J},ue=>{K=!ue});return{destroy:ue=>{K||(K=!0,d.destroyer(X,ue||new E("pipe")))},cleanup:be}}function G(X){return T(X[X.length-1],"streams[stream.length - 1]"),X.pop()}function q(X){if(z(X))return X;if(M(X))return ye(X);throw new g("val",["Readable","Iterable","AsyncIterable"],X)}async function*ye(X){ie||(ie=mp()),yield*ie.prototype[o].call(X)}async function R(X,Ae,J,{end:K}){let be,ue=null,fe=Ie=>{if(Ie&&(be=Ie),ue){let ce=ue;ue=null,ce()}},pe=()=>new s((Ie,ce)=>{be?ce(be):ue=()=>{be?ce(be):Ie()}});Ae.on("drain",fe);let Ne=c(Ae,{readable:!1},fe);try{Ae.writableNeedDrain&&await pe();for await(let Ie of X)Ae.write(Ie)||await pe();K&&(Ae.end(),await pe()),J()}catch(Ie){J(be!==Ie?m(be,Ie):Ie)}finally{Ne(),Ae.off("drain",fe)}}async function Z(X,Ae,J,{end:K}){P(Ae)&&(Ae=Ae.writable);let be=Ae.getWriter();try{for await(let ue of X)await be.ready,be.write(ue).catch(()=>{});await be.ready,K&&await be.close(),J()}catch(ue){try{await be.abort(ue),J(ue)}catch(fe){J(fe)}}}function U(...X){return re(X,f(G(X)))}function re(X,Ae,J){if(X.length===1&&r(X[0])&&(X=X[0]),X.length<2)throw new w("streams");let K=new L,be=K.signal,ue=J==null?void 0:J.signal,fe=[];A(ue,"options.signal");function pe(){ke(new k)}H=H||_r().addAbortListener;let Ne;ue&&(Ne=H(ue,pe));let Ie,ce,me=[],we=0;function De(Te){ke(Te,--we===0)}function ke(Te,ge){var Me;if(Te&&(!Ie||Ie.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ie=Te),!(!Ie&&!ge)){for(;me.length;)me.shift()(Ie);(Me=Ne)===null||Me===void 0||Me[l](),K.abort(),ge&&(Ie||fe.forEach(b=>b()),n.nextTick(Ae,Ie,ce))}}let $;for(let Te=0;Te<X.length;Te++){let ge=X[Te],Me=Te<X.length-1,b=Te>0,S=Me||(J==null?void 0:J.end)!==!1,x=Te===X.length-1;if(I(ge)){let j=function(te){te&&te.name!=="AbortError"&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"&&De(te)};if(S){let{destroy:te,cleanup:he}=D(ge,Me,b);me.push(te),N(ge)&&x&&fe.push(he)}ge.on("error",j),N(ge)&&x&&fe.push(()=>{ge.removeListener("error",j)})}if(Te===0)if(typeof ge=="function"){if($=ge({signal:be}),!z($))throw new y("Iterable, AsyncIterable or Stream","source",$)}else z(ge)||M(ge)||P(ge)?$=ge:$=p.from(ge);else if(typeof ge=="function"){if(P($)){var B;$=q((B=$)===null||B===void 0?void 0:B.readable)}else $=q($);if($=ge($,{signal:be}),Me){if(!z($,!0))throw new y("AsyncIterable",`transform[${Te-1}]`,$)}else{var oe;ae||(ae=Wk());let j=new ae({objectMode:!0}),te=(oe=$)===null||oe===void 0?void 0:oe.then;if(typeof te=="function")we++,te.call($,qe=>{ce=qe,qe!=null&&j.write(qe),S&&j.end(),n.nextTick(De)},qe=>{j.destroy(qe),n.nextTick(De,qe)});else if(z($,!0))we++,R($,j,De,{end:S});else if(ne($)||P($)){let qe=$.readable||$;we++,R(qe,j,De,{end:S})}else throw new y("AsyncIterable or Promise","destination",$);$=j;let{destroy:he,cleanup:Se}=D($,!1,!0);me.push(he),x&&fe.push(Se)}}else if(I(ge)){if(M($)){we+=2;let j=ve($,ge,De,{end:S});N(ge)&&x&&fe.push(j)}else if(P($)||ne($)){let j=$.readable||$;we++,R(j,ge,De,{end:S})}else if(z($))we++,R($,ge,De,{end:S});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$);$=ge}else if(Q(ge)){if(M($))we++,Z(q($),ge,De,{end:S});else if(ne($)||z($))we++,Z($,ge,De,{end:S});else if(P($))we++,Z($.readable,ge,De,{end:S});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],$);$=ge}else $=p.from(ge)}return(be!=null&&be.aborted||ue!=null&&ue.aborted)&&n.nextTick(pe),$}function ve(X,Ae,J,{end:K}){let be=!1;if(Ae.on("close",()=>{be||J(new C)}),X.pipe(Ae,{end:!1}),K){let ue=function(){be=!0,Ae.end()};se(X)?n.nextTick(ue):X.once("end",ue)}else J();return c(X,{readable:!0,writable:!1},ue=>{let fe=X._readableState;ue&&ue.code==="ERR_STREAM_PREMATURE_CLOSE"&&fe&&fe.ended&&!fe.errored&&!fe.errorEmitted?X.once("end",J).once("error",J):J(ue)}),c(Ae,{readable:!1,writable:!0},J)}e.exports={pipelineImpl:re,pipeline:U}}),qk=He((t,e)=>{ze(),Ve(),Fe();var{pipeline:n}=Vb(),r=ms(),{destroyer:s}=tc(),{isNodeStream:o,isReadable:l,isWritable:c,isWebStream:f,isTransformStream:d,isWritableStream:p,isReadableStream:m}=Ss(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:w}}=lr(),E=Ao();e.exports=function(...C){if(C.length===0)throw new w("streams");if(C.length===1)return r.from(C[0]);let k=[...C];if(typeof C[0]=="function"&&(C[0]=r.from(C[0])),typeof C[C.length-1]=="function"){let L=C.length-1;C[L]=r.from(C[L])}for(let L=0;L<C.length;++L)if(!(!o(C[L])&&!f(C[L]))){if(L<C.length-1&&!(l(C[L])||m(C[L])||d(C[L])))throw new y(`streams[${L}]`,k[L],"must be readable");if(L>0&&!(c(C[L])||p(C[L])||d(C[L])))throw new y(`streams[${L}]`,k[L],"must be writable")}let T,A,z,N,M;function I(L){let ae=N;N=null,ae?ae(L):L?M.destroy(L):!se&&!ne&&M.destroy()}let P=C[0],Q=n(C,I),ne=!!(c(P)||p(P)||d(P)),se=!!(l(Q)||m(Q)||d(Q));if(M=new r({writableObjectMode:!!(P!=null&&P.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:ne,readable:se}),ne){if(o(P))M._write=function(ae,ie,H){P.write(ae,ie)?H():T=H},M._final=function(ae){P.end(),A=ae},P.on("drain",function(){if(T){let ae=T;T=null,ae()}});else if(f(P)){let ae=(d(P)?P.writable:P).getWriter();M._write=async function(ie,H,D){try{await ae.ready,ae.write(ie).catch(()=>{}),D()}catch(G){D(G)}},M._final=async function(ie){try{await ae.ready,ae.close().catch(()=>{}),A=ie}catch(H){ie(H)}}}let L=d(Q)?Q.readable:Q;E(L,()=>{if(A){let ae=A;A=null,ae()}})}if(se){if(o(Q))Q.on("readable",function(){if(z){let L=z;z=null,L()}}),Q.on("end",function(){M.push(null)}),M._read=function(){for(;;){let L=Q.read();if(L===null){z=M._read;return}if(!M.push(L))return}};else if(f(Q)){let L=(d(Q)?Q.readable:Q).getReader();M._read=async function(){for(;;)try{let{value:ae,done:ie}=await L.read();if(!M.push(ae))return;if(ie){M.push(null);return}}catch{return}}}}return M._destroy=function(L,ae){!L&&N!==null&&(L=new g),z=null,T=null,A=null,N===null?ae(L):(N=ae,o(Q)&&s(Q,L))},M}}),M8=He((t,e)=>{ze(),Ve(),Fe();var n=globalThis.AbortController||Fu().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:l},AbortError:c}=lr(),{validateAbortSignal:f,validateInteger:d,validateObject:p}=of(),m=vn().Symbol("kWeak"),g=vn().Symbol("kResistStopPropagation"),{finished:y}=Ao(),w=qk(),{addAbortSignalNoValidate:E}=hp(),{isWritable:C,isNodeStream:k}=Ss(),{deprecate:T}=_r(),{ArrayPrototypePush:A,Boolean:z,MathFloor:N,Number:M,NumberIsNaN:I,Promise:P,PromiseReject:Q,PromiseResolve:ne,PromisePrototypeThen:se,Symbol:L}=vn(),ae=L("kEmpty"),ie=L("kEof");function H(ue,fe){if(fe!=null&&p(fe,"options"),(fe==null?void 0:fe.signal)!=null&&f(fe.signal,"options.signal"),k(ue)&&!C(ue))throw new r("stream",ue,"must be writable");let pe=w(this,ue);return fe!=null&&fe.signal&&E(fe.signal,pe),pe}function D(ue,fe){if(typeof ue!="function")throw new s("fn",["Function","AsyncFunction"],ue);fe!=null&&p(fe,"options"),(fe==null?void 0:fe.signal)!=null&&f(fe.signal,"options.signal");let pe=1;(fe==null?void 0:fe.concurrency)!=null&&(pe=N(fe.concurrency));let Ne=pe-1;return(fe==null?void 0:fe.highWaterMark)!=null&&(Ne=N(fe.highWaterMark)),d(pe,"options.concurrency",1),d(Ne,"options.highWaterMark",0),Ne+=pe,(async function*(){let Ie=_r().AbortSignalAny([fe==null?void 0:fe.signal].filter(z)),ce=this,me=[],we={signal:Ie},De,ke,$=!1,B=0;function oe(){$=!0,Te()}function Te(){B-=1,ge()}function ge(){ke&&!$&&B<pe&&me.length<Ne&&(ke(),ke=null)}async function Me(){try{for await(let b of ce){if($)return;if(Ie.aborted)throw new c;try{if(b=ue(b,we),b===ae)continue;b=ne(b)}catch(S){b=Q(S)}B+=1,se(b,Te,oe),me.push(b),De&&(De(),De=null),!$&&(me.length>=Ne||B>=pe)&&await new P(S=>{ke=S})}me.push(ie)}catch(b){let S=Q(b);se(S,Te,oe),me.push(S)}finally{$=!0,De&&(De(),De=null)}}Me();try{for(;;){for(;me.length>0;){let b=await me[0];if(b===ie)return;if(Ie.aborted)throw new c;b!==ae&&(yield b),me.shift(),ge()}await new P(b=>{De=b})}}finally{$=!0,ke&&(ke(),ke=null)}}).call(this)}function G(ue=void 0){return ue!=null&&p(ue,"options"),(ue==null?void 0:ue.signal)!=null&&f(ue.signal,"options.signal"),(async function*(){let fe=0;for await(let Ne of this){var pe;if(ue!=null&&(pe=ue.signal)!==null&&pe!==void 0&&pe.aborted)throw new c({cause:ue.signal.reason});yield[fe++,Ne]}}).call(this)}async function q(ue,fe=void 0){for await(let pe of U.call(this,ue,fe))return!0;return!1}async function ye(ue,fe=void 0){if(typeof ue!="function")throw new s("fn",["Function","AsyncFunction"],ue);return!await q.call(this,async(...pe)=>!await ue(...pe),fe)}async function R(ue,fe){for await(let pe of U.call(this,ue,fe))return pe}async function Z(ue,fe){if(typeof ue!="function")throw new s("fn",["Function","AsyncFunction"],ue);async function pe(Ne,Ie){return await ue(Ne,Ie),ae}for await(let Ne of D.call(this,pe,fe));}function U(ue,fe){if(typeof ue!="function")throw new s("fn",["Function","AsyncFunction"],ue);async function pe(Ne,Ie){return await ue(Ne,Ie)?Ne:ae}return D.call(this,pe,fe)}var re=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ve(ue,fe,pe){var Ne;if(typeof ue!="function")throw new s("reducer",["Function","AsyncFunction"],ue);pe!=null&&p(pe,"options"),(pe==null?void 0:pe.signal)!=null&&f(pe.signal,"options.signal");let Ie=arguments.length>1;if(pe!=null&&(Ne=pe.signal)!==null&&Ne!==void 0&&Ne.aborted){let ke=new c(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),await y(this.destroy(ke)),ke}let ce=new n,me=ce.signal;if(pe!=null&&pe.signal){let ke={once:!0,[m]:this,[g]:!0};pe.signal.addEventListener("abort",()=>ce.abort(),ke)}let we=!1;try{for await(let ke of this){var De;if(we=!0,pe!=null&&(De=pe.signal)!==null&&De!==void 0&&De.aborted)throw new c;Ie?fe=await ue(fe,ke,{signal:me}):(fe=ke,Ie=!0)}if(!we&&!Ie)throw new re}finally{ce.abort()}return fe}async function X(ue){ue!=null&&p(ue,"options"),(ue==null?void 0:ue.signal)!=null&&f(ue.signal,"options.signal");let fe=[];for await(let Ne of this){var pe;if(ue!=null&&(pe=ue.signal)!==null&&pe!==void 0&&pe.aborted)throw new c(void 0,{cause:ue.signal.reason});A(fe,Ne)}return fe}function Ae(ue,fe){let pe=D.call(this,ue,fe);return(async function*(){for await(let Ne of pe)yield*Ne}).call(this)}function J(ue){if(ue=M(ue),I(ue))return 0;if(ue<0)throw new l("number",">= 0",ue);return ue}function K(ue,fe=void 0){return fe!=null&&p(fe,"options"),(fe==null?void 0:fe.signal)!=null&&f(fe.signal,"options.signal"),ue=J(ue),(async function*(){var pe;if(fe!=null&&(pe=fe.signal)!==null&&pe!==void 0&&pe.aborted)throw new c;for await(let Ie of this){var Ne;if(fe!=null&&(Ne=fe.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new c;ue--<=0&&(yield Ie)}}).call(this)}function be(ue,fe=void 0){return fe!=null&&p(fe,"options"),(fe==null?void 0:fe.signal)!=null&&f(fe.signal,"options.signal"),ue=J(ue),(async function*(){var pe;if(fe!=null&&(pe=fe.signal)!==null&&pe!==void 0&&pe.aborted)throw new c;for await(let Ie of this){var Ne;if(fe!=null&&(Ne=fe.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new c;if(ue-- >0&&(yield Ie),ue<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:T(G,"readable.asIndexedPairs will be removed in a future version."),drop:K,filter:U,flatMap:Ae,map:D,take:be,compose:H},e.exports.promiseReturningOperators={every:ye,forEach:Z,reduce:ve,toArray:X,some:q,find:R}}),$k=He((t,e)=>{ze(),Ve(),Fe();var{ArrayPrototypePop:n,Promise:r}=vn(),{isIterable:s,isNodeStream:o,isWebStream:l}=Ss(),{pipelineImpl:c}=Vb(),{finished:f}=Ao();Gk();function d(...p){return new r((m,g)=>{let y,w,E=p[p.length-1];if(E&&typeof E=="object"&&!o(E)&&!s(E)&&!l(E)){let C=n(p);y=C.signal,w=C.end}c(p,(C,k)=>{C?g(C):m(k)},{signal:y,end:w})})}e.exports={finished:f,pipeline:d}}),Gk=He((t,e)=>{ze(),Ve(),Fe();var{Buffer:n}=($n(),Zt(qn)),{ObjectDefineProperty:r,ObjectKeys:s,ReflectApply:o}=vn(),{promisify:{custom:l}}=_r(),{streamReturningOperators:c,promiseReturningOperators:f}=M8(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=lr(),p=qk(),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:g}=pp(),{pipeline:y}=Vb(),{destroyer:w}=tc(),E=Ao(),C=$k(),k=Ss(),T=e.exports=zb().Stream;T.isDestroyed=k.isDestroyed,T.isDisturbed=k.isDisturbed,T.isErrored=k.isErrored,T.isReadable=k.isReadable,T.isWritable=k.isWritable,T.Readable=mp();for(let z of s(c)){let N=function(...I){if(new.target)throw d();return T.Readable.from(o(M,this,I))},M=c[z];r(N,"name",{__proto__:null,value:M.name}),r(N,"length",{__proto__:null,value:M.length}),r(T.Readable.prototype,z,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(let z of s(f)){let N=function(...I){if(new.target)throw d();return o(M,this,I)},M=f[z];r(N,"name",{__proto__:null,value:M.name}),r(N,"length",{__proto__:null,value:M.length}),r(T.Readable.prototype,z,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}T.Writable=Fb(),T.Duplex=ms(),T.Transform=Hk(),T.PassThrough=Wk(),T.pipeline=y;var{addAbortSignal:A}=hp();T.addAbortSignal=A,T.finished=E,T.destroy=w,T.compose=p,T.setDefaultHighWaterMark=m,T.getDefaultHighWaterMark=g,r(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return C}}),r(y,l,{__proto__:null,enumerable:!0,get(){return C.pipeline}}),r(E,l,{__proto__:null,enumerable:!0,get(){return C.finished}}),T.Stream=T,T._isUint8Array=function(z){return z instanceof Uint8Array},T._uint8ArrayToBuffer=function(z){return n.from(z.buffer,z.byteOffset,z.byteLength)}}),Ca=He((t,e)=>{ze(),Ve(),Fe();var n=Gk(),r=$k(),s=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=s,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=n.Stream,e.exports.default=e.exports}),D8=He((t,e)=>{ze(),Ve(),Fe(),typeof Object.create=="function"?e.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(n,r){if(r){n.super_=r;var s=function(){};s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}}}),P8=He((t,e)=>{ze(),Ve(),Fe();var{Buffer:n}=($n(),Zt(qn)),r=Symbol.for("BufferList");function s(o){if(!(this instanceof s))return new s(o);s._init.call(this,o)}s._init=function(o){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},s.prototype._new=function(o){return new s(o)},s.prototype._offset=function(o){if(o===0)return[0,0];let l=0;for(let c=0;c<this._bufs.length;c++){let f=l+this._bufs[c].length;if(o<f||c===this._bufs.length-1)return[c,o-l];l=f}},s.prototype._reverseOffset=function(o){let l=o[0],c=o[1];for(let f=0;f<l;f++)c+=this._bufs[f].length;return c},s.prototype.get=function(o){if(o>this.length||o<0)return;let l=this._offset(o);return this._bufs[l[0]][l[1]]},s.prototype.slice=function(o,l){return typeof o=="number"&&o<0&&(o+=this.length),typeof l=="number"&&l<0&&(l+=this.length),this.copy(null,0,o,l)},s.prototype.copy=function(o,l,c,f){if((typeof c!="number"||c<0)&&(c=0),(typeof f!="number"||f>this.length)&&(f=this.length),c>=this.length||f<=0)return o||n.alloc(0);let d=!!o,p=this._offset(c),m=f-c,g=m,y=d&&l||0,w=p[1];if(c===0&&f===this.length){if(!d)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(o,y),y+=this._bufs[E].length;return o}if(g<=this._bufs[p[0]].length-w)return d?this._bufs[p[0]].copy(o,l,w,w+g):this._bufs[p[0]].slice(w,w+g);d||(o=n.allocUnsafe(m));for(let E=p[0];E<this._bufs.length;E++){let C=this._bufs[E].length-w;if(g>C)this._bufs[E].copy(o,y,w),y+=C;else{this._bufs[E].copy(o,y,w,w+g),y+=C;break}g-=C,w&&(w=0)}return o.length>y?o.slice(0,y):o},s.prototype.shallowSlice=function(o,l){if(o=o||0,l=typeof l!="number"?this.length:l,o<0&&(o+=this.length),l<0&&(l+=this.length),o===l)return this._new();let c=this._offset(o),f=this._offset(l),d=this._bufs.slice(c[0],f[0]+1);return f[1]===0?d.pop():d[d.length-1]=d[d.length-1].slice(0,f[1]),c[1]!==0&&(d[0]=d[0].slice(c[1])),this._new(d)},s.prototype.toString=function(o,l,c){return this.slice(l,c).toString(o)},s.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this},s.prototype.duplicate=function(){let o=this._new();for(let l=0;l<this._bufs.length;l++)o.append(this._bufs[l]);return o},s.prototype.append=function(o){if(o==null)return this;if(o.buffer)this._appendBuffer(n.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let l=0;l<o.length;l++)this.append(o[l]);else if(this._isBufferList(o))for(let l=0;l<o._bufs.length;l++)this.append(o._bufs[l]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(n.from(o));return this},s.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},s.prototype.indexOf=function(o,l,c){if(c===void 0&&typeof l=="string"&&(c=l,l=void 0),typeof o=="function"||Array.isArray(o))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof o=="number"?o=n.from([o]):typeof o=="string"?o=n.from(o,c):this._isBufferList(o)?o=o.slice():Array.isArray(o.buffer)?o=n.from(o.buffer,o.byteOffset,o.byteLength):n.isBuffer(o)||(o=n.from(o)),l=Number(l||0),isNaN(l)&&(l=0),l<0&&(l=this.length+l),l<0&&(l=0),o.length===0)return l>this.length?this.length:l;let f=this._offset(l),d=f[0],p=f[1];for(;d<this._bufs.length;d++){let m=this._bufs[d];for(;p<m.length;)if(m.length-p>=o.length){let g=m.indexOf(o,p);if(g!==-1)return this._reverseOffset([d,g]);p=m.length-o.length+1}else{let g=this._reverseOffset([d,p]);if(this._match(g,o))return g;p++}p=0}return-1},s.prototype._match=function(o,l){if(this.length-o<l.length)return!1;for(let c=0;c<l.length;c++)if(this.get(o+c)!==l[c])return!1;return!0},function(){let o={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let l in o)(function(c){o[c]===null?s.prototype[c]=function(f,d){return this.slice(f,f+d)[c](0,d)}:s.prototype[c]=function(f=0){return this.slice(f,f+o[c])[c](0)}})(l)}(),s.prototype._isBufferList=function(o){return o instanceof s||s.isBufferList(o)},s.isBufferList=function(o){return o!=null&&o[r]},e.exports=s}),L8=He((t,e)=>{ze(),Ve(),Fe();var n=Ca().Duplex,r=D8(),s=P8();function o(l){if(!(this instanceof o))return new o(l);if(typeof l=="function"){this._callback=l;let c=(function(f){this._callback&&(this._callback(f),this._callback=null)}).bind(this);this.on("pipe",function(f){f.on("error",c)}),this.on("unpipe",function(f){f.removeListener("error",c)}),l=null}s._init.call(this,l),n.call(this)}r(o,n),Object.assign(o.prototype,s.prototype),o.prototype._new=function(l){return new o(l)},o.prototype._write=function(l,c,f){this._appendBuffer(l),typeof f=="function"&&f()},o.prototype._read=function(l){if(!this.length)return this.push(null);l=Math.min(l,this.length),this.push(this.slice(0,l)),this.consume(l)},o.prototype.end=function(l){n.prototype.end.call(this,l),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(l,c){this._bufs.length=0,this.length=0,c(l)},o.prototype._isBufferList=function(l){return l instanceof o||l instanceof s||o.isBufferList(l)},o.isBufferList=s.isBufferList,e.exports=o,e.exports.BufferListStream=o,e.exports.BufferList=s}),j8=He((t,e)=>{ze(),Ve(),Fe();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=n}),Yk=He((t,e)=>{ze(),Ve(),Fe();var n=e.exports,{Buffer:r}=($n(),Zt(qn));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let o in n.requiredHeaderFlags){let l=n.requiredHeaderFlags[o];n.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+l.toString(16)+" for "+n.types[o]+" packet"}n.codes={};for(let o in n.types){let l=n.types[o];n.codes[l]=o}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let o in n.properties){let l=n.properties[o];n.propertiesCodes[l]=o}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function s(o){return[0,1,2].map(l=>[0,1].map(c=>[0,1].map(f=>{let d=r.alloc(1);return d.writeUInt8(n.codes[o]<<n.CMD_SHIFT|(c?n.DUP_MASK:0)|l<<n.QOS_SHIFT|f,0,!0),d})))}n.PUBLISH_HEADER=s("publish"),n.SUBSCRIBE_HEADER=s("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=s("unsubscribe"),n.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(o=>r.from([o])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),U8=He((t,e)=>{ze(),Ve(),Fe();var n=1e3,r=n*60,s=r*60,o=s*24,l=o*7,c=o*365.25;e.exports=function(g,y){y=y||{};var w=typeof g;if(w==="string"&&g.length>0)return f(g);if(w==="number"&&isFinite(g))return y.long?p(g):d(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function f(g){if(g=String(g),!(g.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(y){var w=parseFloat(y[1]),E=(y[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return w*c;case"weeks":case"week":case"w":return w*l;case"days":case"day":case"d":return w*o;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*r;case"seconds":case"second":case"secs":case"sec":case"s":return w*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function d(g){var y=Math.abs(g);return y>=o?Math.round(g/o)+"d":y>=s?Math.round(g/s)+"h":y>=r?Math.round(g/r)+"m":y>=n?Math.round(g/n)+"s":g+"ms"}function p(g){var y=Math.abs(g);return y>=o?m(g,y,o,"day"):y>=s?m(g,y,s,"hour"):y>=r?m(g,y,r,"minute"):y>=n?m(g,y,n,"second"):g+" ms"}function m(g,y,w,E){var C=y>=w*1.5;return Math.round(g/w)+" "+E+(C?"s":"")}}),B8=He((t,e)=>{ze(),Ve(),Fe();function n(r){o.debug=o,o.default=o,o.coerce=m,o.disable=d,o.enable=c,o.enabled=p,o.humanize=U8(),o.destroy=g,Object.keys(r).forEach(y=>{o[y]=r[y]}),o.names=[],o.skips=[],o.formatters={};function s(y){let w=0;for(let E=0;E<y.length;E++)w=(w<<5)-w+y.charCodeAt(E),w|=0;return o.colors[Math.abs(w)%o.colors.length]}o.selectColor=s;function o(y){let w,E=null,C,k;function T(...A){if(!T.enabled)return;let z=T,N=Number(new Date),M=N-(w||N);z.diff=M,z.prev=w,z.curr=N,w=N,A[0]=o.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let I=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(P,Q)=>{if(P==="%%")return"%";I++;let ne=o.formatters[Q];if(typeof ne=="function"){let se=A[I];P=ne.call(z,se),A.splice(I,1),I--}return P}),o.formatArgs.call(z,A),(z.log||o.log).apply(z,A)}return T.namespace=y,T.useColors=o.useColors(),T.color=o.selectColor(y),T.extend=l,T.destroy=o.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(C!==o.namespaces&&(C=o.namespaces,k=o.enabled(y)),k),set:A=>{E=A}}),typeof o.init=="function"&&o.init(T),T}function l(y,w){let E=o(this.namespace+(typeof w>"u"?":":w)+y);return E.log=this.log,E}function c(y){o.save(y),o.namespaces=y,o.names=[],o.skips=[];let w=(typeof y=="string"?y:"").trim().replace(" ",",").split(",").filter(Boolean);for(let E of w)E[0]==="-"?o.skips.push(E.slice(1)):o.names.push(E)}function f(y,w){let E=0,C=0,k=-1,T=0;for(;E<y.length;)if(C<w.length&&(w[C]===y[E]||w[C]==="*"))w[C]==="*"?(k=C,T=E,C++):(E++,C++);else if(k!==-1)C=k+1,T++,E=T;else return!1;for(;C<w.length&&w[C]==="*";)C++;return C===w.length}function d(){let y=[...o.names,...o.skips.map(w=>"-"+w)].join(",");return o.enable(""),y}function p(y){for(let w of o.skips)if(f(y,w))return!1;for(let w of o.names)if(f(y,w))return!0;return!1}function m(y){return y instanceof Error?y.stack||y.message:y}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}e.exports=n}),gs=He((t,e)=>{ze(),Ve(),Fe(),t.formatArgs=r,t.save=s,t.load=o,t.useColors=n,t.storage=l(),t.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let d="color: "+this.color;f.splice(1,0,d,"color: inherit");let p=0,m=0;f[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(p++,g==="%c"&&(m=p))}),f.splice(m,0,d)}t.log=console.debug||console.log||(()=>{});function s(f){try{f?t.storage.setItem("debug",f):t.storage.removeItem("debug")}catch{}}function o(){let f;try{f=t.storage.getItem("debug")}catch{}return!f&&typeof Lt<"u"&&"env"in Lt&&(f=Lt.env.DEBUG),f}function l(){try{return localStorage}catch{}}e.exports=B8()(t);var{formatters:c}=e.exports;c.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}),z8=He((t,e)=>{ze(),Ve(),Fe();var n=L8(),{EventEmitter:r}=(Ta(),Zt(Co)),s=j8(),o=Yk(),l=gs()("mqtt-packet:parser"),c=class l_ extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(d){return this instanceof l_?(this.settings=d||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new l_().parser(d)}_resetState(){l("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=n(),this._stateCounter=0}parse(d){for(this.error&&this._resetState(),this._list.append(d),l("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,l("parse: state complete. _stateCounter is now: %d",this._stateCounter),l("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return l("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let d=this._list.readUInt8(0),p=d>>o.CMD_SHIFT;this.packet.cmd=o.types[p];let m=d&15,g=o.requiredHeaderFlags[p];return g!=null&&m!==g?this._emitError(new Error(o.requiredHeaderFlagsErrors[p])):(this.packet.retain=(d&o.RETAIN_MASK)!==0,this.packet.qos=d>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(d&o.DUP_MASK)!==0,l("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let d=this._parseVarByteNum(!0);return d&&(this.packet.length=d.value,this._list.consume(d.bytes)),l("_parseLength %d",d.value),!!d}_parsePayload(){l("_parsePayload: payload %O",this._list);let d=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}d=!0}return l("_parsePayload complete result: %s",d),d}_parseConnect(){l("_parseConnect");let d,p,m,g,y={},w=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));y.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let C=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),k=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(y.will)w.will={},w.will.retain=C,w.will.qos=k;else{if(C)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(k)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(w.properties=A)}let T=this._parseString();if(T===null)return this._emitError(new Error("Packet too short"));if(w.clientId=T,l("_parseConnect: packet.clientId: %s",w.clientId),y.will){if(w.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(w.will.properties=A)}if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=d,l("_parseConnect: packet.will.topic: %s",w.will.topic),p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=p,l("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(y.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));w.username=g,l("_parseConnect: packet.username: %s",w.username)}if(y.password){if(m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse password"));w.password=m}return this.settings=w,l("_parseConnect: complete"),w}_parseConnack(){l("_parseConnack");let d=this.packet;if(this._list.length<1)return null;let p=this._list.readUInt8(this._pos++);if(p>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(d.sessionPresent=!!(p&o.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?d.reasonCode=this._list.readUInt8(this._pos++):d.reasonCode=0;else{if(this._list.length<2)return null;d.returnCode=this._list.readUInt8(this._pos++)}if(d.returnCode===-1||d.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(d.properties=m)}l("_parseConnack: complete")}_parsePublish(){l("_parsePublish");let d=this.packet;if(d.topic=this._parseString(),d.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(d.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(d.properties=p)}d.payload=this._list.slice(this._pos,d.length),l("_parsePublish: payload from buffer list: %o",d.payload)}}_parseSubscribe(){l("_parseSubscribe");let d=this.packet,p,m,g,y,w,E,C;if(d.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let k=this._parseProperties();Object.getOwnPropertyNames(k).length&&(d.properties=k)}if(d.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<d.length;){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=d.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(m=this._parseByte(),this.settings.protocolVersion===5){if(m&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(m&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=m&o.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(m>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(m>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=m>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,y>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));C={topic:p,qos:g},this.settings.protocolVersion===5?(C.nl=E,C.rap=w,C.rh=y):this.settings.bridgeMode&&(C.rh=0,C.rap=!0,C.nl=!0),l("_parseSubscribe: push subscription `%s` to subscription",C),d.subscriptions.push(C)}}}_parseSuback(){l("_parseSuback");let d=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(d.properties=p)}if(d.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[p])return this._emitError(new Error("Invalid suback code"))}else if(p>2&&p!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(p)}}}_parseUnsubscribe(){l("_parseUnsubscribe");let d=this.packet;if(d.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(d.properties=p)}if(d.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<d.length;){let p=this._parseString();if(p===null)return this._emitError(new Error("Cannot parse topic"));l("_parseUnsubscribe: push topic `%s` to unsubscriptions",p),d.unsubscriptions.push(p)}}}_parseUnsuback(){l("_parseUnsuback");let d=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&d.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(d.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let p=this._parseProperties();for(Object.getOwnPropertyNames(p).length&&(d.properties=p),d.granted=[];this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[m])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(m)}}}_parseConfirmation(){l("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let d=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(d.length>2){switch(d.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[d.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}l("_parseConfirmation: packet.reasonCode `%d`",d.reasonCode)}else d.reasonCode=0;if(d.length>3){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(d.properties=p)}}return!0}_parseDisconnect(){let d=this.packet;if(l("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(d.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[d.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):d.reasonCode=0;let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(d.properties=p)}return l("_parseDisconnect result: true"),!0}_parseAuth(){l("_parseAuth");let d=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(d.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[d.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let p=this._parseProperties();return Object.getOwnPropertyNames(p).length&&(d.properties=p),l("_parseAuth: result: true"),!0}_parseMessageId(){let d=this.packet;return d.messageId=this._parseNum(),d.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(l("_parseMessageId: packet.messageId %d",d.messageId),!0)}_parseString(d){let p=this._parseNum(),m=p+this._pos;if(p===-1||m>this._list.length||m>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,m);return this._pos+=p,l("_parseString: result: %s",g),g}_parseStringPair(){return l("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let d=this._parseNum(),p=d+this._pos;if(d===-1||p>this._list.length||p>this.packet.length)return null;let m=this._list.slice(this._pos,p);return this._pos+=d,l("_parseBuffer: result: %o",m),m}_parseNum(){if(this._list.length-this._pos<2)return-1;let d=this._list.readUInt16BE(this._pos);return this._pos+=2,l("_parseNum: result: %s",d),d}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let d=this._list.readUInt32BE(this._pos);return this._pos+=4,l("_parse4ByteNum: result: %s",d),d}_parseVarByteNum(d){l("_parseVarByteNum");let p=4,m=0,g=1,y=0,w=!1,E,C=this._pos?this._pos:0;for(;m<p&&C+m<this._list.length;){if(E=this._list.readUInt8(C+m++),y+=g*(E&o.VARBYTEINT_MASK),g*=128,(E&o.VARBYTEINT_FIN_MASK)===0){w=!0;break}if(this._list.length<=m)break}return!w&&m===p&&this._list.length>=m&&this._emitError(new Error("Invalid variable byte integer")),C&&(this._pos+=m),w?d?w={bytes:m,value:y}:w=y:w=!1,l("_parseVarByteNum: result: %o",w),w}_parseByte(){let d;return this._pos<this._list.length&&(d=this._list.readUInt8(this._pos),this._pos++),l("_parseByte: result: %o",d),d}_parseByType(d){switch(l("_parseByType: type: %s",d),d){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){l("_parseProperties");let d=this._parseVarByteNum(),p=this._pos+d,m={};for(;this._pos<p;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let y=o.propertiesCodes[g];if(!y)return this._emitError(new Error("Unknown property")),!1;if(y==="userProperties"){m[y]||(m[y]=Object.create(null));let w=this._parseByType(o.propertiesTypes[y]);if(m[y][w.name])if(Array.isArray(m[y][w.name]))m[y][w.name].push(w.value);else{let E=m[y][w.name];m[y][w.name]=[E],m[y][w.name].push(w.value)}else m[y][w.name]=w.value;continue}m[y]?Array.isArray(m[y])?m[y].push(this._parseByType(o.propertiesTypes[y])):(m[y]=[m[y]],m[y].push(this._parseByType(o.propertiesTypes[y]))):m[y]=this._parseByType(o.propertiesTypes[y])}return m}_newPacket(){return l("_newPacket"),this.packet&&(this._list.consume(this.packet.length),l("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),l("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(d){l("_emitError",d),this.error=d,this.emit("error",d)}};e.exports=c}),F8=He((t,e)=>{ze(),Ve(),Fe();var{Buffer:n}=($n(),Zt(qn)),r=65536,s={},o=n.isBuffer(n.from([1,2]).subarray(0,1));function l(p){let m=n.allocUnsafe(2);return m.writeUInt8(p>>8,0),m.writeUInt8(p&255,1),m}function c(){for(let p=0;p<r;p++)s[p]=l(p)}function f(p){let m=0,g=0,y=n.allocUnsafe(4);do m=p%128|0,p=p/128|0,p>0&&(m=m|128),y.writeUInt8(m,g++);while(p>0&&g<4);return p>0&&(g=0),o?y.subarray(0,g):y.slice(0,g)}function d(p){let m=n.allocUnsafe(4);return m.writeUInt32BE(p,0),m}e.exports={cache:s,generateCache:c,generateNumber:l,genBufVariableByteInt:f,generate4ByteBuffer:d}}),V8=He((t,e)=>{ze(),Ve(),Fe(),typeof Lt>"u"||!Lt.version||Lt.version.indexOf("v0.")===0||Lt.version.indexOf("v1.")===0&&Lt.version.indexOf("v1.8.")!==0?e.exports={nextTick:n}:e.exports=Lt;function n(r,s,o,l){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,f,d;switch(c){case 0:case 1:return Lt.nextTick(r);case 2:return Lt.nextTick(function(){r.call(null,s)});case 3:return Lt.nextTick(function(){r.call(null,s,o)});case 4:return Lt.nextTick(function(){r.call(null,s,o,l)});default:for(f=new Array(c-1),d=0;d<f.length;)f[d++]=arguments[d];return Lt.nextTick(function(){r.apply(null,f)})}}}),Kk=He((t,e)=>{ze(),Ve(),Fe();var n=Yk(),{Buffer:r}=($n(),Zt(qn)),s=r.allocUnsafe(0),o=r.from([0]),l=F8(),c=V8().nextTick,f=gs()("mqtt-packet:writeToStream"),d=l.cache,p=l.generateNumber,m=l.generateCache,g=l.genBufVariableByteInt,y=l.generate4ByteBuffer,w=G,E=!0;function C(J,K,be){switch(f("generate called"),K.cork&&(K.cork(),c(k,K)),E&&(E=!1,m()),f("generate: packet.cmd: %s",J.cmd),J.cmd){case"connect":return T(J,K);case"connack":return A(J,K,be);case"publish":return z(J,K,be);case"puback":case"pubrec":case"pubrel":case"pubcomp":return N(J,K,be);case"subscribe":return M(J,K,be);case"suback":return I(J,K,be);case"unsubscribe":return P(J,K,be);case"unsuback":return Q(J,K,be);case"pingreq":case"pingresp":return ne(J,K);case"disconnect":return se(J,K,be);case"auth":return L(J,K,be);default:return K.destroy(new Error("Unknown command")),!1}}Object.defineProperty(C,"cacheNumbers",{get(){return w===G},set(J){J?((!d||Object.keys(d).length===0)&&(E=!0),w=G):(E=!1,w=q)}});function k(J){J.uncork()}function T(J,K,be){let ue=J||{},fe=ue.protocolId||"MQTT",pe=ue.protocolVersion||4,Ne=ue.will,Ie=ue.clean,ce=ue.keepalive||0,me=ue.clientId||"",we=ue.username,De=ue.password,ke=ue.properties;Ie===void 0&&(Ie=!0);let $=0;if(typeof fe!="string"&&!r.isBuffer(fe))return K.destroy(new Error("Invalid protocolId")),!1;if($+=fe.length+2,pe!==3&&pe!==4&&pe!==5)return K.destroy(new Error("Invalid protocol version")),!1;if($+=1,(typeof me=="string"||r.isBuffer(me))&&(me||pe>=4)&&(me||Ie))$+=r.byteLength(me)+2;else{if(pe<4)return K.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Ie*1===0)return K.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof ce!="number"||ce<0||ce>65535||ce%1!==0)return K.destroy(new Error("Invalid keepalive")),!1;$+=2,$+=1;let B,oe;if(pe===5){if(B=Z(K,ke),!B)return!1;$+=B.length}if(Ne){if(typeof Ne!="object")return K.destroy(new Error("Invalid will")),!1;if(!Ne.topic||typeof Ne.topic!="string")return K.destroy(new Error("Invalid will topic")),!1;if($+=r.byteLength(Ne.topic)+2,$+=2,Ne.payload)if(Ne.payload.length>=0)typeof Ne.payload=="string"?$+=r.byteLength(Ne.payload):$+=Ne.payload.length;else return K.destroy(new Error("Invalid will payload")),!1;if(oe={},pe===5){if(oe=Z(K,Ne.properties),!oe)return!1;$+=oe.length}}let Te=!1;if(we!=null)if(Ae(we))Te=!0,$+=r.byteLength(we)+2;else return K.destroy(new Error("Invalid username")),!1;if(De!=null){if(!Te)return K.destroy(new Error("Username is required to use password")),!1;if(Ae(De))$+=X(De)+2;else return K.destroy(new Error("Invalid password")),!1}K.write(n.CONNECT_HEADER),ie(K,$),R(K,fe),ue.bridgeMode&&(pe+=128),K.write(pe===131?n.VERSION131:pe===132?n.VERSION132:pe===4?n.VERSION4:pe===5?n.VERSION5:n.VERSION3);let ge=0;return ge|=we!=null?n.USERNAME_MASK:0,ge|=De!=null?n.PASSWORD_MASK:0,ge|=Ne&&Ne.retain?n.WILL_RETAIN_MASK:0,ge|=Ne&&Ne.qos?Ne.qos<<n.WILL_QOS_SHIFT:0,ge|=Ne?n.WILL_FLAG_MASK:0,ge|=Ie?n.CLEAN_SESSION_MASK:0,K.write(r.from([ge])),w(K,ce),pe===5&&B.write(),R(K,me),Ne&&(pe===5&&oe.write(),H(K,Ne.topic),R(K,Ne.payload)),we!=null&&R(K,we),De!=null&&R(K,De),!0}function A(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=ue===5?fe.reasonCode:fe.returnCode,Ne=fe.properties,Ie=2;if(typeof pe!="number")return K.destroy(new Error("Invalid return code")),!1;let ce=null;if(ue===5){if(ce=Z(K,Ne),!ce)return!1;Ie+=ce.length}return K.write(n.CONNACK_HEADER),ie(K,Ie),K.write(fe.sessionPresent?n.SESSIONPRESENT_HEADER:o),K.write(r.from([pe])),ce==null||ce.write(),!0}function z(J,K,be){f("publish: packet: %o",J);let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.qos||0,Ne=fe.retain?n.RETAIN_MASK:0,Ie=fe.topic,ce=fe.payload||s,me=fe.messageId,we=fe.properties,De=0;if(typeof Ie=="string")De+=r.byteLength(Ie)+2;else if(r.isBuffer(Ie))De+=Ie.length+2;else return K.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(ce)?De+=ce.length:De+=r.byteLength(ce),pe&&typeof me!="number")return K.destroy(new Error("Invalid messageId")),!1;pe&&(De+=2);let ke=null;if(ue===5){if(ke=Z(K,we),!ke)return!1;De+=ke.length}return K.write(n.PUBLISH_HEADER[pe][fe.dup?1:0][Ne?1:0]),ie(K,De),w(K,X(Ie)),K.write(Ie),pe>0&&w(K,me),ke==null||ke.write(),f("publish: payload: %o",ce),K.write(ce)}function N(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.cmd||"puback",Ne=fe.messageId,Ie=fe.dup&&pe==="pubrel"?n.DUP_MASK:0,ce=0,me=fe.reasonCode,we=fe.properties,De=ue===5?3:2;if(pe==="pubrel"&&(ce=1),typeof Ne!="number")return K.destroy(new Error("Invalid messageId")),!1;let ke=null;if(ue===5&&typeof we=="object"){if(ke=U(K,we,be,De),!ke)return!1;De+=ke.length}return K.write(n.ACKS[pe][ce][Ie][0]),De===3&&(De+=me!==0?1:-1),ie(K,De),w(K,Ne),ue===5&&De!==2&&K.write(r.from([me])),ke!==null?ke.write():De===4&&K.write(r.from([0])),!0}function M(J,K,be){f("subscribe: packet: ");let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.dup?n.DUP_MASK:0,Ne=fe.messageId,Ie=fe.subscriptions,ce=fe.properties,me=0;if(typeof Ne!="number")return K.destroy(new Error("Invalid messageId")),!1;me+=2;let we=null;if(ue===5){if(we=Z(K,ce),!we)return!1;me+=we.length}if(typeof Ie=="object"&&Ie.length)for(let ke=0;ke<Ie.length;ke+=1){let $=Ie[ke].topic,B=Ie[ke].qos;if(typeof $!="string")return K.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof B!="number")return K.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ue===5){if(typeof(Ie[ke].nl||!1)!="boolean")return K.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Ie[ke].rap||!1)!="boolean")return K.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let oe=Ie[ke].rh||0;if(typeof oe!="number"||oe>2)return K.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}me+=r.byteLength($)+2+1}else return K.destroy(new Error("Invalid subscriptions")),!1;f("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),K.write(n.SUBSCRIBE_HEADER[1][pe?1:0][0]),ie(K,me),w(K,Ne),we!==null&&we.write();let De=!0;for(let ke of Ie){let $=ke.topic,B=ke.qos,oe=+ke.nl,Te=+ke.rap,ge=ke.rh,Me;H(K,$),Me=n.SUBSCRIBE_OPTIONS_QOS[B],ue===5&&(Me|=oe?n.SUBSCRIBE_OPTIONS_NL:0,Me|=Te?n.SUBSCRIBE_OPTIONS_RAP:0,Me|=ge?n.SUBSCRIBE_OPTIONS_RH[ge]:0),De=K.write(r.from([Me]))}return De}function I(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.messageId,Ne=fe.granted,Ie=fe.properties,ce=0;if(typeof pe!="number")return K.destroy(new Error("Invalid messageId")),!1;if(ce+=2,typeof Ne=="object"&&Ne.length)for(let we=0;we<Ne.length;we+=1){if(typeof Ne[we]!="number")return K.destroy(new Error("Invalid qos vector")),!1;ce+=1}else return K.destroy(new Error("Invalid qos vector")),!1;let me=null;if(ue===5){if(me=U(K,Ie,be,ce),!me)return!1;ce+=me.length}return K.write(n.SUBACK_HEADER),ie(K,ce),w(K,pe),me!==null&&me.write(),K.write(r.from(Ne))}function P(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.messageId,Ne=fe.dup?n.DUP_MASK:0,Ie=fe.unsubscriptions,ce=fe.properties,me=0;if(typeof pe!="number")return K.destroy(new Error("Invalid messageId")),!1;if(me+=2,typeof Ie=="object"&&Ie.length)for(let ke=0;ke<Ie.length;ke+=1){if(typeof Ie[ke]!="string")return K.destroy(new Error("Invalid unsubscriptions")),!1;me+=r.byteLength(Ie[ke])+2}else return K.destroy(new Error("Invalid unsubscriptions")),!1;let we=null;if(ue===5){if(we=Z(K,ce),!we)return!1;me+=we.length}K.write(n.UNSUBSCRIBE_HEADER[1][Ne?1:0][0]),ie(K,me),w(K,pe),we!==null&&we.write();let De=!0;for(let ke=0;ke<Ie.length;ke++)De=H(K,Ie[ke]);return De}function Q(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.messageId,Ne=fe.dup?n.DUP_MASK:0,Ie=fe.granted,ce=fe.properties,me=fe.cmd,we=0,De=2;if(typeof pe!="number")return K.destroy(new Error("Invalid messageId")),!1;if(ue===5)if(typeof Ie=="object"&&Ie.length)for(let $=0;$<Ie.length;$+=1){if(typeof Ie[$]!="number")return K.destroy(new Error("Invalid qos vector")),!1;De+=1}else return K.destroy(new Error("Invalid qos vector")),!1;let ke=null;if(ue===5){if(ke=U(K,ce,be,De),!ke)return!1;De+=ke.length}return K.write(n.ACKS[me][we][Ne][0]),ie(K,De),w(K,pe),ke!==null&&ke.write(),ue===5&&K.write(r.from(Ie)),!0}function ne(J,K,be){return K.write(n.EMPTY[J.cmd])}function se(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.reasonCode,Ne=fe.properties,Ie=ue===5?1:0,ce=null;if(ue===5){if(ce=U(K,Ne,be,Ie),!ce)return!1;Ie+=ce.length}return K.write(r.from([n.codes.disconnect<<4])),ie(K,Ie),ue===5&&K.write(r.from([pe])),ce!==null&&ce.write(),!0}function L(J,K,be){let ue=be?be.protocolVersion:4,fe=J||{},pe=fe.reasonCode,Ne=fe.properties,Ie=ue===5?1:0;ue!==5&&K.destroy(new Error("Invalid mqtt version for auth packet"));let ce=U(K,Ne,be,Ie);return ce?(Ie+=ce.length,K.write(r.from([n.codes.auth<<4])),ie(K,Ie),K.write(r.from([pe])),ce!==null&&ce.write(),!0):!1}var ae={};function ie(J,K){if(K>n.VARBYTEINT_MAX)return J.destroy(new Error(`Invalid variable byte integer: ${K}`)),!1;let be=ae[K];return be||(be=g(K),K<16384&&(ae[K]=be)),f("writeVarByteInt: writing to stream: %o",be),J.write(be)}function H(J,K){let be=r.byteLength(K);return w(J,be),f("writeString: %s",K),J.write(K,"utf8")}function D(J,K,be){H(J,K),H(J,be)}function G(J,K){return f("writeNumberCached: number: %d",K),f("writeNumberCached: %o",d[K]),J.write(d[K])}function q(J,K){let be=p(K);return f("writeNumberGenerated: %o",be),J.write(be)}function ye(J,K){let be=y(K);return f("write4ByteNumber: %o",be),J.write(be)}function R(J,K){typeof K=="string"?H(J,K):K?(w(J,K.length),J.write(K)):w(J,0)}function Z(J,K){if(typeof K!="object"||K.length!=null)return{length:1,write(){ve(J,{},0)}};let be=0;function ue(fe,pe){let Ne=n.propertiesTypes[fe],Ie=0;switch(Ne){case"byte":{if(typeof pe!="boolean")return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=2;break}case"int8":{if(typeof pe!="number"||pe<0||pe>255)return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=2;break}case"binary":{if(pe&&pe===null)return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=1+r.byteLength(pe)+2;break}case"int16":{if(typeof pe!="number"||pe<0||pe>65535)return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=3;break}case"int32":{if(typeof pe!="number"||pe<0||pe>4294967295)return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=5;break}case"var":{if(typeof pe!="number"||pe<0||pe>268435455)return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=1+r.byteLength(g(pe));break}case"string":{if(typeof pe!="string")return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=3+r.byteLength(pe.toString());break}case"pair":{if(typeof pe!="object")return J.destroy(new Error(`Invalid ${fe}: ${pe}`)),!1;Ie+=Object.getOwnPropertyNames(pe).reduce((ce,me)=>{let we=pe[me];return Array.isArray(we)?ce+=we.reduce((De,ke)=>(De+=3+r.byteLength(me.toString())+2+r.byteLength(ke.toString()),De),0):ce+=3+r.byteLength(me.toString())+2+r.byteLength(pe[me].toString()),ce},0);break}default:return J.destroy(new Error(`Invalid property ${fe}: ${pe}`)),!1}return Ie}if(K)for(let fe in K){let pe=0,Ne=0,Ie=K[fe];if(Ie!==void 0){if(Array.isArray(Ie))for(let ce=0;ce<Ie.length;ce++){if(Ne=ue(fe,Ie[ce]),!Ne)return!1;pe+=Ne}else{if(Ne=ue(fe,Ie),!Ne)return!1;pe=Ne}if(!pe)return!1;be+=pe}}return{length:r.byteLength(g(be))+be,write(){ve(J,K,be)}}}function U(J,K,be,ue){let fe=["reasonString","userProperties"],pe=be&&be.properties&&be.properties.maximumPacketSize?be.properties.maximumPacketSize:0,Ne=Z(J,K);if(pe)for(;ue+Ne.length>pe;){let Ie=fe.shift();if(Ie&&K[Ie])delete K[Ie],Ne=Z(J,K);else return!1}return Ne}function re(J,K,be){switch(n.propertiesTypes[K]){case"byte":{J.write(r.from([n.properties[K]])),J.write(r.from([+be]));break}case"int8":{J.write(r.from([n.properties[K]])),J.write(r.from([be]));break}case"binary":{J.write(r.from([n.properties[K]])),R(J,be);break}case"int16":{J.write(r.from([n.properties[K]])),w(J,be);break}case"int32":{J.write(r.from([n.properties[K]])),ye(J,be);break}case"var":{J.write(r.from([n.properties[K]])),ie(J,be);break}case"string":{J.write(r.from([n.properties[K]])),H(J,be);break}case"pair":{Object.getOwnPropertyNames(be).forEach(ue=>{let fe=be[ue];Array.isArray(fe)?fe.forEach(pe=>{J.write(r.from([n.properties[K]])),D(J,ue.toString(),pe.toString())}):(J.write(r.from([n.properties[K]])),D(J,ue.toString(),fe.toString()))});break}default:return J.destroy(new Error(`Invalid property ${K} value: ${be}`)),!1}}function ve(J,K,be){ie(J,be);for(let ue in K)if(Object.prototype.hasOwnProperty.call(K,ue)&&K[ue]!=null){let fe=K[ue];if(Array.isArray(fe))for(let pe=0;pe<fe.length;pe++)re(J,ue,fe[pe]);else re(J,ue,fe)}}function X(J){return J?J instanceof r?J.length:r.byteLength(J):0}function Ae(J){return typeof J=="string"||J instanceof r}e.exports=C}),H8=He((t,e)=>{ze(),Ve(),Fe();var n=Kk(),{EventEmitter:r}=(Ta(),Zt(Co)),{Buffer:s}=($n(),Zt(qn));function o(c,f){let d=new l;return n(c,d,f),d.concat()}var l=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(c){return this._array[this._i++]=c,!0}concat(){let c=0,f=new Array(this._array.length),d=this._array,p=0,m;for(m=0;m<d.length&&d[m]!==void 0;m++)typeof d[m]!="string"?f[m]=d[m].length:f[m]=s.byteLength(d[m]),c+=f[m];let g=s.allocUnsafe(c);for(m=0;m<d.length&&d[m]!==void 0;m++)typeof d[m]!="string"?(d[m].copy(g,p),p+=f[m]):(g.write(d[m],p),p+=f[m]);return g}destroy(c){c&&this.emit("error",c)}};e.exports=o}),W8=He(t=>{ze(),Ve(),Fe(),t.parser=z8().parser,t.generate=H8(),t.writeToStream=Kk()}),Qk=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};t.default=e}),q8=He((t,e)=>{ze(),Ve(),Fe(),e.exports=r;function n(o){return o instanceof Oh?Oh.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function r(o){if(o=o||{},o.circles)return s(o);let l=new Map;if(l.set(Date,m=>new Date(m)),l.set(Map,(m,g)=>new Map(f(Array.from(m),g))),l.set(Set,(m,g)=>new Set(f(Array.from(m),g))),o.constructorHandlers)for(let m of o.constructorHandlers)l.set(m[0],m[1]);let c=null;return o.proto?p:d;function f(m,g){let y=Object.keys(m),w=new Array(y.length);for(let E=0;E<y.length;E++){let C=y[E],k=m[C];typeof k!="object"||k===null?w[C]=k:k.constructor!==Object&&(c=l.get(k.constructor))?w[C]=c(k,g):ArrayBuffer.isView(k)?w[C]=n(k):w[C]=g(k)}return w}function d(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return f(m,d);if(m.constructor!==Object&&(c=l.get(m.constructor)))return c(m,d);let g={};for(let y in m){if(Object.hasOwnProperty.call(m,y)===!1)continue;let w=m[y];typeof w!="object"||w===null?g[y]=w:w.constructor!==Object&&(c=l.get(w.constructor))?g[y]=c(w,d):ArrayBuffer.isView(w)?g[y]=n(w):g[y]=d(w)}return g}function p(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return f(m,p);if(m.constructor!==Object&&(c=l.get(m.constructor)))return c(m,p);let g={};for(let y in m){let w=m[y];typeof w!="object"||w===null?g[y]=w:w.constructor!==Object&&(c=l.get(w.constructor))?g[y]=c(w,p):ArrayBuffer.isView(w)?g[y]=n(w):g[y]=p(w)}return g}}function s(o){let l=[],c=[],f=new Map;if(f.set(Date,y=>new Date(y)),f.set(Map,(y,w)=>new Map(p(Array.from(y),w))),f.set(Set,(y,w)=>new Set(p(Array.from(y),w))),o.constructorHandlers)for(let y of o.constructorHandlers)f.set(y[0],y[1]);let d=null;return o.proto?g:m;function p(y,w){let E=Object.keys(y),C=new Array(E.length);for(let k=0;k<E.length;k++){let T=E[k],A=y[T];if(typeof A!="object"||A===null)C[T]=A;else if(A.constructor!==Object&&(d=f.get(A.constructor)))C[T]=d(A,w);else if(ArrayBuffer.isView(A))C[T]=n(A);else{let z=l.indexOf(A);z!==-1?C[T]=c[z]:C[T]=w(A)}}return C}function m(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return p(y,m);if(y.constructor!==Object&&(d=f.get(y.constructor)))return d(y,m);let w={};l.push(y),c.push(w);for(let E in y){if(Object.hasOwnProperty.call(y,E)===!1)continue;let C=y[E];if(typeof C!="object"||C===null)w[E]=C;else if(C.constructor!==Object&&(d=f.get(C.constructor)))w[E]=d(C,m);else if(ArrayBuffer.isView(C))w[E]=n(C);else{let k=l.indexOf(C);k!==-1?w[E]=c[k]:w[E]=m(C)}}return l.pop(),c.pop(),w}function g(y){if(typeof y!="object"||y===null)return y;if(Array.isArray(y))return p(y,g);if(y.constructor!==Object&&(d=f.get(y.constructor)))return d(y,g);let w={};l.push(y),c.push(w);for(let E in y){let C=y[E];if(typeof C!="object"||C===null)w[E]=C;else if(C.constructor!==Object&&(d=f.get(C.constructor)))w[E]=d(C,g);else if(ArrayBuffer.isView(C))w[E]=n(C);else{let k=l.indexOf(C);k!==-1?w[E]=c[k]:w[E]=g(C)}}return l.pop(),c.pop(),w}}}),$8=He((t,e)=>{ze(),Ve(),Fe(),e.exports=q8()()}),G8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopic=e,t.validateTopics=n;function e(r){let s=r.split("/");for(let o=0;o<s.length;o++)if(s[o]!=="+"){if(s[o]==="#")return o===s.length-1;if(s[o].indexOf("+")!==-1||s[o].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let s=0;s<r.length;s++)if(!e(r[s]))return r[s];return null}}),Zk=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=Ca(),n={objectMode:!0},r={clean:!0},s=class{constructor(o){this.options=o||{},this.options=Object.assign(Object.assign({},r),o),this._inflights=new Map}put(o,l){return this._inflights.set(o.messageId,o),l&&l(),this}createStream(){let o=new e.Readable(n),l=[],c=!1,f=0;return this._inflights.forEach((d,p)=>{l.push(d)}),o._read=()=>{!c&&f<l.length?o.push(l[f++]):o.push(null)},o.destroy=d=>{if(!c)return c=!0,setTimeout(()=>{o.emit("close")},0),o},o}del(o,l){let c=this._inflights.get(o.messageId);return c?(this._inflights.delete(o.messageId),l(null,c)):l&&l(new Error("missing packet")),this}get(o,l){let c=this._inflights.get(o.messageId);return c?l(null,c):l&&l(new Error("missing packet")),this}close(o){this.options.clean&&(this._inflights=null),o&&o()}};t.default=s}),Y8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],n=(r,s,o)=>{r.log("handlePublish: packet %o",s),o=typeof o<"u"?o:r.noop;let l=s.topic.toString(),c=s.payload,{qos:f}=s,{messageId:d}=s,{options:p}=r;if(r.options.protocolVersion===5){let m;if(s.properties&&(m=s.properties.topicAlias),typeof m<"u")if(l.length===0)if(m>0&&m<=65535){let g=r.topicAliasRecv.getTopicByAlias(m);if(g)l=g,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",l,m);else{r.log("handlePublish :: unregistered topic alias. alias: %d",m),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",m),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(l,m))r.log("handlePublish :: registered topic: %s - alias: %d",l,m);else{r.log("handlePublish :: topic alias out of range. alias: %d",m),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",f),f){case 2:{p.customHandleAcks(l,c,s,(m,g)=>{if(typeof m=="number"&&(g=m,m=null),m)return r.emit("error",m);if(e.indexOf(g)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));g?r._sendPacket({cmd:"pubrec",messageId:d,reasonCode:g},o):r.incomingStore.put(s,()=>{r._sendPacket({cmd:"pubrec",messageId:d},o)})});break}case 1:{p.customHandleAcks(l,c,s,(m,g)=>{if(typeof m=="number"&&(g=m,m=null),m)return r.emit("error",m);if(e.indexOf(g)===-1)return r.emit("error",new Error("Wrong reason code for puback"));g||r.emit("message",l,c,s),r.handleMessage(s,y=>{if(y)return o&&o(y);r._sendPacket({cmd:"puback",messageId:d,reasonCode:g},o)})});break}case 0:r.emit("message",l,c,s),r.handleMessage(s,o);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=n}),K8=He((t,e)=>{e.exports={version:"5.13.1"}}),nc=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.ErrorWithSubackPacket=t.ErrorWithReasonCode=void 0,t.applyMixin=r;var e=class Xk extends Error{constructor(o,l){super(o),this.code=l,Object.setPrototypeOf(this,Xk.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;var n=class Jk extends Error{constructor(o,l){super(o),this.packet=l,Object.setPrototypeOf(this,Jk.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};t.ErrorWithSubackPacket=n;function r(s,o,l=!1){var c;let f=[o];for(;;){let d=f[0],p=Object.getPrototypeOf(d);if(p!=null&&p.prototype)f.unshift(p);else break}for(let d of f)for(let p of Object.getOwnPropertyNames(d.prototype))(l||p!=="constructor")&&Object.defineProperty(s.prototype,p,(c=Object.getOwnPropertyDescriptor(d.prototype,p))!==null&&c!==void 0?c:Object.create(null))}t.nextTick=typeof(Lt==null?void 0:Lt.nextTick)=="function"?Lt.nextTick:s=>{setTimeout(s,0)},t.MQTTJS_VERSION=K8().version}),gp=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var e=nc();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,s)=>{let{messageId:o}=s,l=s.cmd,c=null,f=r.outgoing[o]?r.outgoing[o].cb:null,d=null;if(!f){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",l),l){case"pubcomp":case"puback":{let p=s.reasonCode;p&&p>0&&p!==16?(d=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[p]}`,p),r._removeOutgoingAndStoreMessage(o,()=>{f(d,s)})):r._removeOutgoingAndStoreMessage(o,f);break}case"pubrec":{c={cmd:"pubrel",qos:2,messageId:o};let p=s.reasonCode;p&&p>0&&p!==16?(d=new e.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[p]}`,p),r._removeOutgoingAndStoreMessage(o,()=>{f(d,s)})):r._sendPacket(c);break}case"suback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o);let p=s.granted;for(let m=0;m<p.length;m++){let g=p[m];if((g&128)!==0){d=new Error(`Subscribe error: ${t.ReasonCodes[g]}`),d.code=g;let y=r.messageIdToTopic[o];y&&y.forEach(w=>{delete r._resubscribeTopics[w]})}}delete r.messageIdToTopic[o],r._invokeStoreProcessingQueue(),f(d,s);break}case"unsuback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o),r._invokeStoreProcessingQueue(),f(null,s);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};t.default=n}),Q8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=nc(),n=gp(),r=(s,o)=>{let{options:l}=s,c=l.protocolVersion,f=c===5?o.reasonCode:o.returnCode;if(c!==5){let d=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${c}`,f);s.emit("error",d);return}s.handleAuth(o,(d,p)=>{if(d){s.emit("error",d);return}if(f===24)s.reconnecting=!1,s._sendPacket(p);else{let m=new e.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[f]}`,f);s.emit("error",m)}})};t.default=r}),Z8=He(t=>{var y,w,E,C,k,T,A,z,N,M,I,P,Q,ne,se,L,ae,ie,H,D,G,q,ye,R,Z,U,re,ve,X,c_,J,K,be,ue,eO,pe,Ne,Ie,Qs,Zs,u_,Kd,Qd,an,f_,mu,Xs,d_,Me;ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof Lt=="object"&&Lt?Lt:{},s=(b,S,x,j)=>{typeof r.emitWarning=="function"?r.emitWarning(b,S,x,j):console.error(`[${x}] ${S}: ${b}`)},o=globalThis.AbortController,l=globalThis.AbortSignal;if(typeof o>"u"){l=class{constructor(){fn(this,"onabort");fn(this,"_onabort",[]);fn(this,"reason");fn(this,"aborted",!1)}addEventListener(x,j){this._onabort.push(j)}},o=class{constructor(){fn(this,"signal",new l);S()}abort(x){var j,te;if(!this.signal.aborted){this.signal.reason=x,this.signal.aborted=!0;for(let he of this.signal._onabort)he(x);(te=(j=this.signal).onabort)==null||te.call(j,x)}}};let b=((y=r.env)==null?void 0:y.LRU_CACHE_IGNORE_AC_WARNING)!=="1",S=()=>{b&&(b=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",S))}}var c=b=>!n.has(b),f=b=>b&&b===Math.floor(b)&&b>0&&isFinite(b),d=b=>f(b)?b<=Math.pow(2,8)?Uint8Array:b<=Math.pow(2,16)?Uint16Array:b<=Math.pow(2,32)?Uint32Array:b<=Number.MAX_SAFE_INTEGER?p:null:null,p=class extends Array{constructor(b){super(b),this.fill(0)}},m=(w=class{constructor(S,x){fn(this,"heap");fn(this,"length");if(!le(w,E))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new x(S),this.length=0}static create(S){let x=d(S);if(!x)return[];ft(w,E,!0);let j=new w(S,x);return ft(w,E,!1),j}push(S){this.heap[this.length++]=S}pop(){return this.heap[--this.length]}},E=new WeakMap,Nt(w,E,!1),w),g=(Me=class{constructor(S){Nt(this,X);Nt(this,T);Nt(this,A);Nt(this,z);Nt(this,N);Nt(this,M);Nt(this,I);fn(this,"ttl");fn(this,"ttlResolution");fn(this,"ttlAutopurge");fn(this,"updateAgeOnGet");fn(this,"updateAgeOnHas");fn(this,"allowStale");fn(this,"noDisposeOnSet");fn(this,"noUpdateTTL");fn(this,"maxEntrySize");fn(this,"sizeCalculation");fn(this,"noDeleteOnFetchRejection");fn(this,"noDeleteOnStaleGet");fn(this,"allowStaleOnFetchAbort");fn(this,"allowStaleOnFetchRejection");fn(this,"ignoreFetchAbort");Nt(this,P);Nt(this,Q);Nt(this,ne);Nt(this,se);Nt(this,L);Nt(this,ae);Nt(this,ie);Nt(this,H);Nt(this,D);Nt(this,G);Nt(this,q);Nt(this,ye);Nt(this,R);Nt(this,Z);Nt(this,U);Nt(this,re);Nt(this,ve);Nt(this,J,()=>{});Nt(this,K,()=>{});Nt(this,be,()=>{});Nt(this,ue,()=>!1);Nt(this,pe,S=>{});Nt(this,Ne,(S,x,j)=>{});Nt(this,Ie,(S,x,j,te)=>{if(j||te)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});fn(this,C,"LRUCache");let{max:x=0,ttl:j,ttlResolution:te=1,ttlAutopurge:he,updateAgeOnGet:Se,updateAgeOnHas:qe,allowStale:$e,dispose:Je,disposeAfter:lt,noDisposeOnSet:ot,noUpdateTTL:In,maxSize:rn=0,maxEntrySize:Un=0,sizeCalculation:Ft,fetchMethod:Xt,memoMethod:ct,noDeleteOnFetchRejection:Ze,noDeleteOnStaleGet:St,allowStaleOnFetchRejection:_t,allowStaleOnFetchAbort:It,ignoreFetchAbort:Xn}=S;if(x!==0&&!f(x))throw new TypeError("max option must be a nonnegative integer");let Y=x?d(x):Array;if(!Y)throw new Error("invalid max value: "+x);if(ft(this,T,x),ft(this,A,rn),this.maxEntrySize=Un||le(this,A),this.sizeCalculation=Ft,this.sizeCalculation){if(!le(this,A)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ct!==void 0&&typeof ct!="function")throw new TypeError("memoMethod must be a function if defined");if(ft(this,I,ct),Xt!==void 0&&typeof Xt!="function")throw new TypeError("fetchMethod must be a function if specified");if(ft(this,M,Xt),ft(this,re,!!Xt),ft(this,ne,new Map),ft(this,se,new Array(x).fill(void 0)),ft(this,L,new Array(x).fill(void 0)),ft(this,ae,new Y(x)),ft(this,ie,new Y(x)),ft(this,H,0),ft(this,D,0),ft(this,G,m.create(x)),ft(this,P,0),ft(this,Q,0),typeof Je=="function"&&ft(this,z,Je),typeof lt=="function"?(ft(this,N,lt),ft(this,q,[])):(ft(this,N,void 0),ft(this,q,void 0)),ft(this,U,!!le(this,z)),ft(this,ve,!!le(this,N)),this.noDisposeOnSet=!!ot,this.noUpdateTTL=!!In,this.noDeleteOnFetchRejection=!!Ze,this.allowStaleOnFetchRejection=!!_t,this.allowStaleOnFetchAbort=!!It,this.ignoreFetchAbort=!!Xn,this.maxEntrySize!==0){if(le(this,A)!==0&&!f(le(this,A)))throw new TypeError("maxSize must be a positive integer if specified");if(!f(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");et(this,X,eO).call(this)}if(this.allowStale=!!$e,this.noDeleteOnStaleGet=!!St,this.updateAgeOnGet=!!Se,this.updateAgeOnHas=!!qe,this.ttlResolution=f(te)||te===0?te:1,this.ttlAutopurge=!!he,this.ttl=j||0,this.ttl){if(!f(this.ttl))throw new TypeError("ttl must be a positive integer if specified");et(this,X,c_).call(this)}if(le(this,T)===0&&this.ttl===0&&le(this,A)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!le(this,T)&&!le(this,A)){let ee="LRU_CACHE_UNBOUNDED";c(ee)&&(n.add(ee),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ee,Me))}}static unsafeExposeInternals(S){return{starts:le(S,R),ttls:le(S,Z),sizes:le(S,ye),keyMap:le(S,ne),keyList:le(S,se),valList:le(S,L),next:le(S,ae),prev:le(S,ie),get head(){return le(S,H)},get tail(){return le(S,D)},free:le(S,G),isBackgroundFetch:x=>{var j;return et(j=S,X,an).call(j,x)},backgroundFetch:(x,j,te,he)=>{var Se;return et(Se=S,X,Qd).call(Se,x,j,te,he)},moveToTail:x=>{var j;return et(j=S,X,mu).call(j,x)},indexes:x=>{var j;return et(j=S,X,Qs).call(j,x)},rindexes:x=>{var j;return et(j=S,X,Zs).call(j,x)},isStale:x=>{var j;return le(j=S,ue).call(j,x)}}}get max(){return le(this,T)}get maxSize(){return le(this,A)}get calculatedSize(){return le(this,Q)}get size(){return le(this,P)}get fetchMethod(){return le(this,M)}get memoMethod(){return le(this,I)}get dispose(){return le(this,z)}get disposeAfter(){return le(this,N)}getRemainingTTL(S){return le(this,ne).has(S)?1/0:0}*entries(){for(let S of et(this,X,Qs).call(this))le(this,L)[S]!==void 0&&le(this,se)[S]!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield[le(this,se)[S],le(this,L)[S]])}*rentries(){for(let S of et(this,X,Zs).call(this))le(this,L)[S]!==void 0&&le(this,se)[S]!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield[le(this,se)[S],le(this,L)[S]])}*keys(){for(let S of et(this,X,Qs).call(this)){let x=le(this,se)[S];x!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield x)}}*rkeys(){for(let S of et(this,X,Zs).call(this)){let x=le(this,se)[S];x!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield x)}}*values(){for(let S of et(this,X,Qs).call(this))le(this,L)[S]!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield le(this,L)[S])}*rvalues(){for(let S of et(this,X,Zs).call(this))le(this,L)[S]!==void 0&&!et(this,X,an).call(this,le(this,L)[S])&&(yield le(this,L)[S])}[(k=Symbol.iterator,C=Symbol.toStringTag,k)](){return this.entries()}find(S,x={}){for(let j of et(this,X,Qs).call(this)){let te=le(this,L)[j],he=et(this,X,an).call(this,te)?te.__staleWhileFetching:te;if(he!==void 0&&S(he,le(this,se)[j],this))return this.get(le(this,se)[j],x)}}forEach(S,x=this){for(let j of et(this,X,Qs).call(this)){let te=le(this,L)[j],he=et(this,X,an).call(this,te)?te.__staleWhileFetching:te;he!==void 0&&S.call(x,he,le(this,se)[j],this)}}rforEach(S,x=this){for(let j of et(this,X,Zs).call(this)){let te=le(this,L)[j],he=et(this,X,an).call(this,te)?te.__staleWhileFetching:te;he!==void 0&&S.call(x,he,le(this,se)[j],this)}}purgeStale(){let S=!1;for(let x of et(this,X,Zs).call(this,{allowStale:!0}))le(this,ue).call(this,x)&&(et(this,X,Xs).call(this,le(this,se)[x],"expire"),S=!0);return S}info(S){let x=le(this,ne).get(S);if(x===void 0)return;let j=le(this,L)[x],te=et(this,X,an).call(this,j)?j.__staleWhileFetching:j;if(te===void 0)return;let he={value:te};if(le(this,Z)&&le(this,R)){let Se=le(this,Z)[x],qe=le(this,R)[x];if(Se&&qe){let $e=Se-(e.now()-qe);he.ttl=$e,he.start=Date.now()}}return le(this,ye)&&(he.size=le(this,ye)[x]),he}dump(){let S=[];for(let x of et(this,X,Qs).call(this,{allowStale:!0})){let j=le(this,se)[x],te=le(this,L)[x],he=et(this,X,an).call(this,te)?te.__staleWhileFetching:te;if(he===void 0||j===void 0)continue;let Se={value:he};if(le(this,Z)&&le(this,R)){Se.ttl=le(this,Z)[x];let qe=e.now()-le(this,R)[x];Se.start=Math.floor(Date.now()-qe)}le(this,ye)&&(Se.size=le(this,ye)[x]),S.unshift([j,Se])}return S}load(S){this.clear();for(let[x,j]of S){if(j.start){let te=Date.now()-j.start;j.start=e.now()-te}this.set(x,j.value,j)}}set(S,x,j={}){var In,rn,Un,Ft,Xt;if(x===void 0)return this.delete(S),this;let{ttl:te=this.ttl,start:he,noDisposeOnSet:Se=this.noDisposeOnSet,sizeCalculation:qe=this.sizeCalculation,status:$e}=j,{noUpdateTTL:Je=this.noUpdateTTL}=j,lt=le(this,Ie).call(this,S,x,j.size||0,qe);if(this.maxEntrySize&&lt>this.maxEntrySize)return $e&&($e.set="miss",$e.maxEntrySizeExceeded=!0),et(this,X,Xs).call(this,S,"set"),this;let ot=le(this,P)===0?void 0:le(this,ne).get(S);if(ot===void 0)ot=le(this,P)===0?le(this,D):le(this,G).length!==0?le(this,G).pop():le(this,P)===le(this,T)?et(this,X,Kd).call(this,!1):le(this,P),le(this,se)[ot]=S,le(this,L)[ot]=x,le(this,ne).set(S,ot),le(this,ae)[le(this,D)]=ot,le(this,ie)[ot]=le(this,D),ft(this,D,ot),bd(this,P)._++,le(this,Ne).call(this,ot,lt,$e),$e&&($e.set="add"),Je=!1;else{et(this,X,mu).call(this,ot);let ct=le(this,L)[ot];if(x!==ct){if(le(this,re)&&et(this,X,an).call(this,ct)){ct.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Ze}=ct;Ze!==void 0&&!Se&&(le(this,U)&&((In=le(this,z))==null||In.call(this,Ze,S,"set")),le(this,ve)&&((rn=le(this,q))==null||rn.push([Ze,S,"set"])))}else Se||(le(this,U)&&((Un=le(this,z))==null||Un.call(this,ct,S,"set")),le(this,ve)&&((Ft=le(this,q))==null||Ft.push([ct,S,"set"])));if(le(this,pe).call(this,ot),le(this,Ne).call(this,ot,lt,$e),le(this,L)[ot]=x,$e){$e.set="replace";let Ze=ct&&et(this,X,an).call(this,ct)?ct.__staleWhileFetching:ct;Ze!==void 0&&($e.oldValue=Ze)}}else $e&&($e.set="update")}if(te!==0&&!le(this,Z)&&et(this,X,c_).call(this),le(this,Z)&&(Je||le(this,be).call(this,ot,te,he),$e&&le(this,K).call(this,$e,ot)),!Se&&le(this,ve)&&le(this,q)){let ct=le(this,q),Ze;for(;Ze=ct==null?void 0:ct.shift();)(Xt=le(this,N))==null||Xt.call(this,...Ze)}return this}pop(){var S;try{for(;le(this,P);){let x=le(this,L)[le(this,H)];if(et(this,X,Kd).call(this,!0),et(this,X,an).call(this,x)){if(x.__staleWhileFetching)return x.__staleWhileFetching}else if(x!==void 0)return x}}finally{if(le(this,ve)&&le(this,q)){let x=le(this,q),j;for(;j=x==null?void 0:x.shift();)(S=le(this,N))==null||S.call(this,...j)}}}has(S,x={}){let{updateAgeOnHas:j=this.updateAgeOnHas,status:te}=x,he=le(this,ne).get(S);if(he!==void 0){let Se=le(this,L)[he];if(et(this,X,an).call(this,Se)&&Se.__staleWhileFetching===void 0)return!1;if(le(this,ue).call(this,he))te&&(te.has="stale",le(this,K).call(this,te,he));else return j&&le(this,J).call(this,he),te&&(te.has="hit",le(this,K).call(this,te,he)),!0}else te&&(te.has="miss");return!1}peek(S,x={}){let{allowStale:j=this.allowStale}=x,te=le(this,ne).get(S);if(te===void 0||!j&&le(this,ue).call(this,te))return;let he=le(this,L)[te];return et(this,X,an).call(this,he)?he.__staleWhileFetching:he}async fetch(S,x={}){let{allowStale:j=this.allowStale,updateAgeOnGet:te=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,ttl:Se=this.ttl,noDisposeOnSet:qe=this.noDisposeOnSet,size:$e=0,sizeCalculation:Je=this.sizeCalculation,noUpdateTTL:lt=this.noUpdateTTL,noDeleteOnFetchRejection:ot=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:In=this.allowStaleOnFetchRejection,ignoreFetchAbort:rn=this.ignoreFetchAbort,allowStaleOnFetchAbort:Un=this.allowStaleOnFetchAbort,context:Ft,forceRefresh:Xt=!1,status:ct,signal:Ze}=x;if(!le(this,re))return ct&&(ct.fetch="get"),this.get(S,{allowStale:j,updateAgeOnGet:te,noDeleteOnStaleGet:he,status:ct});let St={allowStale:j,updateAgeOnGet:te,noDeleteOnStaleGet:he,ttl:Se,noDisposeOnSet:qe,size:$e,sizeCalculation:Je,noUpdateTTL:lt,noDeleteOnFetchRejection:ot,allowStaleOnFetchRejection:In,allowStaleOnFetchAbort:Un,ignoreFetchAbort:rn,status:ct,signal:Ze},_t=le(this,ne).get(S);if(_t===void 0){ct&&(ct.fetch="miss");let It=et(this,X,Qd).call(this,S,_t,St,Ft);return It.__returned=It}else{let It=le(this,L)[_t];if(et(this,X,an).call(this,It)){let Ue=j&&It.__staleWhileFetching!==void 0;return ct&&(ct.fetch="inflight",Ue&&(ct.returnedStale=!0)),Ue?It.__staleWhileFetching:It.__returned=It}let Xn=le(this,ue).call(this,_t);if(!Xt&&!Xn)return ct&&(ct.fetch="hit"),et(this,X,mu).call(this,_t),te&&le(this,J).call(this,_t),ct&&le(this,K).call(this,ct,_t),It;let Y=et(this,X,Qd).call(this,S,_t,St,Ft),ee=Y.__staleWhileFetching!==void 0&&j;return ct&&(ct.fetch=Xn?"stale":"refresh",ee&&Xn&&(ct.returnedStale=!0)),ee?Y.__staleWhileFetching:Y.__returned=Y}}async forceFetch(S,x={}){let j=await this.fetch(S,x);if(j===void 0)throw new Error("fetch() returned undefined");return j}memo(S,x={}){let j=le(this,I);if(!j)throw new Error("no memoMethod provided to constructor");let{context:te,forceRefresh:he,...Se}=x,qe=this.get(S,Se);if(!he&&qe!==void 0)return qe;let $e=j(S,qe,{options:Se,context:te});return this.set(S,$e,Se),$e}get(S,x={}){let{allowStale:j=this.allowStale,updateAgeOnGet:te=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,status:Se}=x,qe=le(this,ne).get(S);if(qe!==void 0){let $e=le(this,L)[qe],Je=et(this,X,an).call(this,$e);return Se&&le(this,K).call(this,Se,qe),le(this,ue).call(this,qe)?(Se&&(Se.get="stale"),Je?(Se&&j&&$e.__staleWhileFetching!==void 0&&(Se.returnedStale=!0),j?$e.__staleWhileFetching:void 0):(he||et(this,X,Xs).call(this,S,"expire"),Se&&j&&(Se.returnedStale=!0),j?$e:void 0)):(Se&&(Se.get="hit"),Je?$e.__staleWhileFetching:(et(this,X,mu).call(this,qe),te&&le(this,J).call(this,qe),$e))}else Se&&(Se.get="miss")}delete(S){return et(this,X,Xs).call(this,S,"delete")}clear(){return et(this,X,d_).call(this,"delete")}},T=new WeakMap,A=new WeakMap,z=new WeakMap,N=new WeakMap,M=new WeakMap,I=new WeakMap,P=new WeakMap,Q=new WeakMap,ne=new WeakMap,se=new WeakMap,L=new WeakMap,ae=new WeakMap,ie=new WeakMap,H=new WeakMap,D=new WeakMap,G=new WeakMap,q=new WeakMap,ye=new WeakMap,R=new WeakMap,Z=new WeakMap,U=new WeakMap,re=new WeakMap,ve=new WeakMap,X=new WeakSet,c_=function(){let S=new p(le(this,T)),x=new p(le(this,T));ft(this,Z,S),ft(this,R,x),ft(this,be,(he,Se,qe=e.now())=>{if(x[he]=Se!==0?qe:0,S[he]=Se,Se!==0&&this.ttlAutopurge){let $e=setTimeout(()=>{le(this,ue).call(this,he)&&et(this,X,Xs).call(this,le(this,se)[he],"expire")},Se+1);$e.unref&&$e.unref()}}),ft(this,J,he=>{x[he]=S[he]!==0?e.now():0}),ft(this,K,(he,Se)=>{if(S[Se]){let qe=S[Se],$e=x[Se];if(!qe||!$e)return;he.ttl=qe,he.start=$e,he.now=j||te();let Je=he.now-$e;he.remainingTTL=qe-Je}});let j=0,te=()=>{let he=e.now();if(this.ttlResolution>0){j=he;let Se=setTimeout(()=>j=0,this.ttlResolution);Se.unref&&Se.unref()}return he};this.getRemainingTTL=he=>{let Se=le(this,ne).get(he);if(Se===void 0)return 0;let qe=S[Se],$e=x[Se];if(!qe||!$e)return 1/0;let Je=(j||te())-$e;return qe-Je},ft(this,ue,he=>{let Se=x[he],qe=S[he];return!!qe&&!!Se&&(j||te())-Se>qe})},J=new WeakMap,K=new WeakMap,be=new WeakMap,ue=new WeakMap,eO=function(){let S=new p(le(this,T));ft(this,Q,0),ft(this,ye,S),ft(this,pe,x=>{ft(this,Q,le(this,Q)-S[x]),S[x]=0}),ft(this,Ie,(x,j,te,he)=>{if(et(this,X,an).call(this,j))return 0;if(!f(te))if(he){if(typeof he!="function")throw new TypeError("sizeCalculation must be a function");if(te=he(j,x),!f(te))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return te}),ft(this,Ne,(x,j,te)=>{if(S[x]=j,le(this,A)){let he=le(this,A)-S[x];for(;le(this,Q)>he;)et(this,X,Kd).call(this,!0)}ft(this,Q,le(this,Q)+S[x]),te&&(te.entrySize=j,te.totalCalculatedSize=le(this,Q))})},pe=new WeakMap,Ne=new WeakMap,Ie=new WeakMap,Qs=function*({allowStale:S=this.allowStale}={}){if(le(this,P))for(let x=le(this,D);!(!et(this,X,u_).call(this,x)||((S||!le(this,ue).call(this,x))&&(yield x),x===le(this,H)));)x=le(this,ie)[x]},Zs=function*({allowStale:S=this.allowStale}={}){if(le(this,P))for(let x=le(this,H);!(!et(this,X,u_).call(this,x)||((S||!le(this,ue).call(this,x))&&(yield x),x===le(this,D)));)x=le(this,ae)[x]},u_=function(S){return S!==void 0&&le(this,ne).get(le(this,se)[S])===S},Kd=function(S){var he,Se;let x=le(this,H),j=le(this,se)[x],te=le(this,L)[x];return le(this,re)&&et(this,X,an).call(this,te)?te.__abortController.abort(new Error("evicted")):(le(this,U)||le(this,ve))&&(le(this,U)&&((he=le(this,z))==null||he.call(this,te,j,"evict")),le(this,ve)&&((Se=le(this,q))==null||Se.push([te,j,"evict"]))),le(this,pe).call(this,x),S&&(le(this,se)[x]=void 0,le(this,L)[x]=void 0,le(this,G).push(x)),le(this,P)===1?(ft(this,H,ft(this,D,0)),le(this,G).length=0):ft(this,H,le(this,ae)[x]),le(this,ne).delete(j),bd(this,P)._--,x},Qd=function(S,x,j,te){let he=x===void 0?void 0:le(this,L)[x];if(et(this,X,an).call(this,he))return he;let Se=new o,{signal:qe}=j;qe==null||qe.addEventListener("abort",()=>Se.abort(qe.reason),{signal:Se.signal});let $e={signal:Se.signal,options:j,context:te},Je=(Ft,Xt=!1)=>{let{aborted:ct}=Se.signal,Ze=j.ignoreFetchAbort&&Ft!==void 0;if(j.status&&(ct&&!Xt?(j.status.fetchAborted=!0,j.status.fetchError=Se.signal.reason,Ze&&(j.status.fetchAbortIgnored=!0)):j.status.fetchResolved=!0),ct&&!Ze&&!Xt)return ot(Se.signal.reason);let St=rn;return le(this,L)[x]===rn&&(Ft===void 0?St.__staleWhileFetching?le(this,L)[x]=St.__staleWhileFetching:et(this,X,Xs).call(this,S,"fetch"):(j.status&&(j.status.fetchUpdated=!0),this.set(S,Ft,$e.options))),Ft},lt=Ft=>(j.status&&(j.status.fetchRejected=!0,j.status.fetchError=Ft),ot(Ft)),ot=Ft=>{let{aborted:Xt}=Se.signal,ct=Xt&&j.allowStaleOnFetchAbort,Ze=ct||j.allowStaleOnFetchRejection,St=Ze||j.noDeleteOnFetchRejection,_t=rn;if(le(this,L)[x]===rn&&(!St||_t.__staleWhileFetching===void 0?et(this,X,Xs).call(this,S,"fetch"):ct||(le(this,L)[x]=_t.__staleWhileFetching)),Ze)return j.status&&_t.__staleWhileFetching!==void 0&&(j.status.returnedStale=!0),_t.__staleWhileFetching;if(_t.__returned===_t)throw Ft},In=(Ft,Xt)=>{var Ze;let ct=(Ze=le(this,M))==null?void 0:Ze.call(this,S,he,$e);ct&&ct instanceof Promise&&ct.then(St=>Ft(St===void 0?void 0:St),Xt),Se.signal.addEventListener("abort",()=>{(!j.ignoreFetchAbort||j.allowStaleOnFetchAbort)&&(Ft(void 0),j.allowStaleOnFetchAbort&&(Ft=St=>Je(St,!0)))})};j.status&&(j.status.fetchDispatched=!0);let rn=new Promise(In).then(Je,lt),Un=Object.assign(rn,{__abortController:Se,__staleWhileFetching:he,__returned:void 0});return x===void 0?(this.set(S,Un,{...$e.options,status:void 0}),x=le(this,ne).get(S)):le(this,L)[x]=Un,Un},an=function(S){if(!le(this,re))return!1;let x=S;return!!x&&x instanceof Promise&&x.hasOwnProperty("__staleWhileFetching")&&x.__abortController instanceof o},f_=function(S,x){le(this,ie)[x]=S,le(this,ae)[S]=x},mu=function(S){S!==le(this,D)&&(S===le(this,H)?ft(this,H,le(this,ae)[S]):et(this,X,f_).call(this,le(this,ie)[S],le(this,ae)[S]),et(this,X,f_).call(this,le(this,D),S),ft(this,D,S))},Xs=function(S,x){var te,he,Se,qe;let j=!1;if(le(this,P)!==0){let $e=le(this,ne).get(S);if($e!==void 0)if(j=!0,le(this,P)===1)et(this,X,d_).call(this,x);else{le(this,pe).call(this,$e);let Je=le(this,L)[$e];if(et(this,X,an).call(this,Je)?Je.__abortController.abort(new Error("deleted")):(le(this,U)||le(this,ve))&&(le(this,U)&&((te=le(this,z))==null||te.call(this,Je,S,x)),le(this,ve)&&((he=le(this,q))==null||he.push([Je,S,x]))),le(this,ne).delete(S),le(this,se)[$e]=void 0,le(this,L)[$e]=void 0,$e===le(this,D))ft(this,D,le(this,ie)[$e]);else if($e===le(this,H))ft(this,H,le(this,ae)[$e]);else{let lt=le(this,ie)[$e];le(this,ae)[lt]=le(this,ae)[$e];let ot=le(this,ae)[$e];le(this,ie)[ot]=le(this,ie)[$e]}bd(this,P)._--,le(this,G).push($e)}}if(le(this,ve)&&((Se=le(this,q))!=null&&Se.length)){let $e=le(this,q),Je;for(;Je=$e==null?void 0:$e.shift();)(qe=le(this,N))==null||qe.call(this,...Je)}return j},d_=function(S){var x,j,te;for(let he of et(this,X,Zs).call(this,{allowStale:!0})){let Se=le(this,L)[he];if(et(this,X,an).call(this,Se))Se.__abortController.abort(new Error("deleted"));else{let qe=le(this,se)[he];le(this,U)&&((x=le(this,z))==null||x.call(this,Se,qe,S)),le(this,ve)&&((j=le(this,q))==null||j.push([Se,qe,S]))}}if(le(this,ne).clear(),le(this,L).fill(void 0),le(this,se).fill(void 0),le(this,Z)&&le(this,R)&&(le(this,Z).fill(0),le(this,R).fill(0)),le(this,ye)&&le(this,ye).fill(0),ft(this,H,0),ft(this,D,0),le(this,G).length=0,ft(this,Q,0),ft(this,P,0),le(this,ve)&&le(this,q)){let he=le(this,q),Se;for(;Se=he==null?void 0:he.shift();)(te=le(this,N))==null||te.call(this,...Se)}},Me);t.LRUCache=g}),Es=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(s=0){this.iteratorType=s}equals(s){return this.o===s.o}};t.ContainerIterator=e;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=n;var r=class extends n{};t.Container=r}),X8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Es(),n=class extends e.Base{constructor(s=[]){super(),this.S=[];let o=this;s.forEach(function(l){o.push(l)})}clear(){this.i=0,this.S=[]}push(s){return this.S.push(s),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;t.default=r}),J8=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Es(),n=class extends e.Base{constructor(s=[]){super(),this.j=0,this.q=[];let o=this;s.forEach(function(l){o.push(l)})}clear(){this.q=[],this.i=this.j=0}push(s){let o=this.q.length;if(this.j/o>.5&&this.j+this.i>=o&&o>4096){let l=this.i;for(let c=0;c<l;++c)this.q[c]=this.q[this.j+c];this.j=0,this.q[this.i]=s}else this.q[this.j+this.i]=s;return++this.i}pop(){if(this.i===0)return;let s=this.q[this.j++];return this.i-=1,s}front(){if(this.i!==0)return this.q[this.j]}},r=n;t.default=r}),ez=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Es(),n=class extends e.Base{constructor(s=[],o=function(c,f){return c>f?-1:c<f?1:0},l=!0){if(super(),this.v=o,Array.isArray(s))this.C=l?[...s]:s;else{this.C=[];let f=this;s.forEach(function(d){f.C.push(d)})}this.i=this.C.length;let c=this.i>>1;for(let f=this.i-1>>1;f>=0;--f)this.k(f,c)}m(s){let o=this.C[s];for(;s>0;){let l=s-1>>1,c=this.C[l];if(this.v(c,o)<=0)break;this.C[s]=c,s=l}this.C[s]=o}k(s,o){let l=this.C[s];for(;s<o;){let c=s<<1|1,f=c+1,d=this.C[c];if(f<this.i&&this.v(d,this.C[f])>0&&(c=f,d=this.C[f]),this.v(d,l)>=0)break;this.C[s]=d,s=c}this.C[s]=l}clear(){this.i=0,this.C.length=0}push(s){this.C.push(s),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let s=this.C[0],o=this.C.pop();return this.i-=1,this.i&&(this.C[0]=o,this.k(0,this.i>>1)),s}top(){return this.C[0]}find(s){return this.C.indexOf(s)>=0}remove(s){let o=this.C.indexOf(s);return o<0?!1:(o===0?this.pop():o===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(o,1,this.C.pop()),this.i-=1,this.m(o),this.k(o,this.i>>1)),!0)}updateItem(s){let o=this.C.indexOf(s);return o<0?!1:(this.m(o),this.k(o,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;t.default=r}),Hb=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Es(),n=class extends e.Container{},r=n;t.default=r}),Ts=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),tO=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=Es(),n=Ts(),r=class extends e.ContainerIterator{constructor(s,o){super(o),this.o=s,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(s){this.container.setElementByPos(this.o,s)}};t.RandomIterator=r}),tz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Hb()),n=tO();function r(c){return c&&c.t?c:{default:c}}var s=class nO extends n.RandomIterator{constructor(f,d,p){super(f,p),this.container=d}copy(){return new nO(this.o,this.container,this.iteratorType)}},o=class extends e.default{constructor(c=[],f=!0){if(super(),Array.isArray(c))this.J=f?[...c]:c,this.i=c.length;else{this.J=[];let d=this;c.forEach(function(p){d.pushBack(p)})}}clear(){this.i=0,this.J.length=0}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J[c]}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J.splice(c,1),this.i-=1,this.i}eraseElementByValue(c){let f=0;for(let d=0;d<this.i;++d)this.J[d]!==c&&(this.J[f++]=this.J[d]);return this.i=this.J.length=f,this.i}eraseElementByIterator(c){let f=c.o;return c=c.next(),this.eraseElementByPos(f),c}pushBack(c){return this.J.push(c),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(c,f){if(c<0||c>this.i-1)throw new RangeError;this.J[c]=f}insert(c,f,d=1){if(c<0||c>this.i)throw new RangeError;return this.J.splice(c,0,...new Array(d).fill(f)),this.i+=d,this.i}find(c){for(let f=0;f<this.i;++f)if(this.J[f]===c)return new s(f,this);return this.end()}reverse(){this.J.reverse()}unique(){let c=1;for(let f=1;f<this.i;++f)this.J[f]!==this.J[f-1]&&(this.J[c++]=this.J[f]);return this.i=this.J.length=c,this.i}sort(c){this.J.sort(c)}forEach(c){for(let f=0;f<this.i;++f)c(this.J[f],f,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},l=o;t.default=l}),nz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(Hb()),n=Es(),r=Ts();function s(f){return f&&f.t?f:{default:f}}var o=class rO extends n.ContainerIterator{constructor(d,p,m,g){super(g),this.o=d,this.h=p,this.container=m,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(d){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=d}copy(){return new rO(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(f=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let d=this;f.forEach(function(p){d.pushBack(p)})}V(f){let{L:d,B:p}=f;d.B=p,p.L=d,f===this.p&&(this.p=p),f===this._&&(this._=d),this.i-=1}G(f,d){let p=d.B,m={l:f,L:d,B:p};d.B=m,p.L=m,d===this.h&&(this.p=m),p===this.h&&(this._=m),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return d.l}eraseElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return this.V(d),this.i}eraseElementByValue(f){let d=this.p;for(;d!==this.h;)d.l===f&&this.V(d),d=d.B;return this.i}eraseElementByIterator(f){let d=f.o;return d===this.h&&(0,r.throwIteratorAccessError)(),f=f.next(),this.V(d),f}pushBack(f){return this.G(f,this._),this.i}popBack(){if(this.i===0)return;let f=this._.l;return this.V(this._),f}pushFront(f){return this.G(f,this.h),this.i}popFront(){if(this.i===0)return;let f=this.p.l;return this.V(this.p),f}setElementByPos(f,d){if(f<0||f>this.i-1)throw new RangeError;let p=this.p;for(;f--;)p=p.B;p.l=d}insert(f,d,p=1){if(f<0||f>this.i)throw new RangeError;if(p<=0)return this.i;if(f===0)for(;p--;)this.pushFront(d);else if(f===this.i)for(;p--;)this.pushBack(d);else{let m=this.p;for(let y=1;y<f;++y)m=m.B;let g=m.B;for(this.i+=p;p--;)m.B={l:d,L:m},m.B.L=m,m=m.B;m.B=g,g.L=m}return this.i}find(f){let d=this.p;for(;d!==this.h;){if(d.l===f)return new o(d,this.h,this);d=d.B}return this.end()}reverse(){if(this.i<=1)return;let f=this.p,d=this._,p=0;for(;p<<1<this.i;){let m=f.l;f.l=d.l,d.l=m,f=f.B,d=d.L,p+=1}}unique(){if(this.i<=1)return this.i;let f=this.p;for(;f!==this.h;){let d=f;for(;d.B!==this.h&&d.l===d.B.l;)d=d.B,this.i-=1;f.B=d.B,f.B.L=f,f=f.B}return this.i}sort(f){if(this.i<=1)return;let d=[];this.forEach(function(m){d.push(m)}),d.sort(f);let p=this.p;d.forEach(function(m){p.l=m,p=p.B})}merge(f){let d=this;if(this.i===0)f.forEach(function(p){d.pushBack(p)});else{let p=this.p;f.forEach(function(m){for(;p!==d.h&&p.l<=m;)p=p.B;d.G(m,p.L)})}return this.i}forEach(f){let d=this.p,p=0;for(;d!==this.h;)f(d.l,p++,this),d=d.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let f=this.p;for(;f!==this.h;)yield f.l,f=f.B}).bind(this)()}},c=l;t.default=c}),rz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=r(Hb()),n=tO();function r(c){return c&&c.t?c:{default:c}}var s=class iO extends n.RandomIterator{constructor(f,d,p){super(f,p),this.container=d}copy(){return new iO(this.o,this.container,this.iteratorType)}},o=class extends e.default{constructor(c=[],f=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let d=(()=>{if(typeof c.length=="number")return c.length;if(typeof c.size=="number")return c.size;if(typeof c.size=="function")return c.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=f,this.P=Math.max(Math.ceil(d/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let p=Math.ceil(d/this.F);this.j=this.R=(this.P>>1)-(p>>1),this.D=this.N=this.F-d%this.F>>1;let m=this;c.forEach(function(g){m.pushBack(g)})}T(){let c=[],f=Math.max(this.P>>1,1);for(let d=0;d<f;++d)c[d]=new Array(this.F);for(let d=this.j;d<this.P;++d)c[c.length]=this.A[d];for(let d=0;d<this.R;++d)c[c.length]=this.A[d];c[c.length]=[...this.A[this.R]],this.j=f,this.R=c.length-1;for(let d=0;d<f;++d)c[c.length]=new Array(this.F);this.A=c,this.P=c.length}O(c){let f=this.D+c+1,d=f%this.F,p=d-1,m=this.j+(f-d)/this.F;return d===0&&(m-=1),m%=this.P,p<0&&(p+=this.F),{curNodeBucketIndex:m,curNodePointerIndex:p}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(c){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=c,this.i}popBack(){if(this.i===0)return;let c=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,c}pushFront(c){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=c,this.i}popFront(){if(this.i===0)return;let c=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,c}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:f,curNodePointerIndex:d}=this.O(c);return this.A[f][d]}setElementByPos(c,f){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:d,curNodePointerIndex:p}=this.O(c);this.A[d][p]=f}insert(c,f,d=1){if(c<0||c>this.i)throw new RangeError;if(c===0)for(;d--;)this.pushFront(f);else if(c===this.i)for(;d--;)this.pushBack(f);else{let p=[];for(let m=c;m<this.i;++m)p.push(this.getElementByPos(m));this.cut(c-1);for(let m=0;m<d;++m)this.pushBack(f);for(let m=0;m<p.length;++m)this.pushBack(p[m])}return this.i}cut(c){if(c<0)return this.clear(),0;let{curNodeBucketIndex:f,curNodePointerIndex:d}=this.O(c);return this.R=f,this.N=d,this.i=c+1,this.i}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;if(c===0)this.popFront();else if(c===this.i-1)this.popBack();else{let f=[];for(let p=c+1;p<this.i;++p)f.push(this.getElementByPos(p));this.cut(c),this.popBack();let d=this;f.forEach(function(p){d.pushBack(p)})}return this.i}eraseElementByValue(c){if(this.i===0)return 0;let f=[];for(let p=0;p<this.i;++p){let m=this.getElementByPos(p);m!==c&&f.push(m)}let d=f.length;for(let p=0;p<d;++p)this.setElementByPos(p,f[p]);return this.cut(d-1)}eraseElementByIterator(c){let f=c.o;return this.eraseElementByPos(f),c=c.next(),c}find(c){for(let f=0;f<this.i;++f)if(this.getElementByPos(f)===c)return new s(f,this);return this.end()}reverse(){let c=0,f=this.i-1;for(;c<f;){let d=this.getElementByPos(c);this.setElementByPos(c,this.getElementByPos(f)),this.setElementByPos(f,d),c+=1,f-=1}}unique(){if(this.i<=1)return this.i;let c=1,f=this.getElementByPos(0);for(let d=1;d<this.i;++d){let p=this.getElementByPos(d);p!==f&&(f=p,this.setElementByPos(c++,p))}for(;this.i>c;)this.popBack();return this.i}sort(c){let f=[];for(let d=0;d<this.i;++d)f.push(this.getElementByPos(d));f.sort(c);for(let d=0;d<this.i;++d)this.setElementByPos(d,f[d])}shrinkToFit(){if(this.i===0)return;let c=[];this.forEach(function(f){c.push(f)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));for(let f=0;f<c.length;++f)this.pushBack(c[f])}forEach(c){for(let f=0;f<this.i;++f)c(this.getElementByPos(f),f,this)}[Symbol.iterator](){return(function*(){for(let c=0;c<this.i;++c)yield this.getElementByPos(c)}).bind(this)()}},l=o;t.default=l}),iz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(r,s){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=s}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let s=r.tt;for(;s.U===r;)r=s,s=r.tt;r=s}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let s=r.tt;for(;s.W===r;)r=s,s=r.tt;return r.W!==s?s:r}}te(){let r=this.tt,s=this.W,o=s.U;return r.tt===this?r.tt=s:r.U===this?r.U=s:r.W=s,s.tt=r,s.U=this,this.tt=s,this.W=o,o&&(o.tt=this),s}se(){let r=this.tt,s=this.U,o=s.W;return r.tt===this?r.tt=s:r.U===this?r.U=s:r.W=s,s.tt=r,s.W=this,this.tt=s,this.U=o,o&&(o.tt=this),s}};t.TreeNode=e;var n=class extends e{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=n}),sO=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=iz(),n=Es(),r=Ts(),s=class extends n.Container{constructor(l=function(f,d){return f<d?-1:f>d?1:0},c=!1){super(),this.Y=void 0,this.v=l,c?(this.re=e.TreeNodeEnableIndex,this.M=function(f,d,p){let m=this.ne(f,d,p);if(m){let g=m.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let y=this.he(m);if(y){let{parentNode:w,grandParent:E,curNode:C}=y;w.ie(),E.ie(),C.ie()}}return this.i},this.V=function(f){let d=this.fe(f);for(;d!==this.h;)d.rt-=1,d=d.tt}):(this.re=e.TreeNode,this.M=function(f,d,p){let m=this.ne(f,d,p);return m&&this.he(m),this.i},this.V=this.fe),this.h=new this.re}X(l,c){let f=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)l=l.W;else if(d>0)f=l,l=l.U;else return l}return f}Z(l,c){let f=this.h;for(;l;)this.v(l.u,c)<=0?l=l.W:(f=l,l=l.U);return f}$(l,c){let f=this.h;for(;l;){let d=this.v(l.u,c);if(d<0)f=l,l=l.W;else if(d>0)l=l.U;else return l}return f}rr(l,c){let f=this.h;for(;l;)this.v(l.u,c)<0?(f=l,l=l.W):l=l.U;return f}ue(l){for(;;){let c=l.tt;if(c===this.h)return;if(l.ee===1){l.ee=0;return}if(l===c.U){let f=c.W;if(f.ee===1)f.ee=0,c.ee=1,c===this.Y?this.Y=c.te():c.te();else if(f.W&&f.W.ee===1){f.ee=c.ee,c.ee=0,f.W.ee=0,c===this.Y?this.Y=c.te():c.te();return}else f.U&&f.U.ee===1?(f.ee=1,f.U.ee=0,f.se()):(f.ee=1,l=c)}else{let f=c.U;if(f.ee===1)f.ee=0,c.ee=1,c===this.Y?this.Y=c.se():c.se();else if(f.U&&f.U.ee===1){f.ee=c.ee,c.ee=0,f.U.ee=0,c===this.Y?this.Y=c.se():c.se();return}else f.W&&f.W.ee===1?(f.ee=1,f.W.ee=0,f.te()):(f.ee=1,l=c)}}}fe(l){if(this.i===1)return this.clear(),this.h;let c=l;for(;c.U||c.W;){if(c.W)for(c=c.W;c.U;)c=c.U;else c=c.U;[l.u,c.u]=[c.u,l.u],[l.l,c.l]=[c.l,l.l],l=c}this.h.U===c?this.h.U=c.tt:this.h.W===c&&(this.h.W=c.tt),this.ue(c);let f=c.tt;return c===f.U?f.U=void 0:f.W=void 0,this.i-=1,this.Y.ee=0,f}oe(l,c){return l===void 0?!1:this.oe(l.U,c)||c(l)?!0:this.oe(l.W,c)}he(l){for(;;){let c=l.tt;if(c.ee===0)return;let f=c.tt;if(c===f.U){let d=f.W;if(d&&d.ee===1){if(d.ee=c.ee=0,f===this.Y)return;f.ee=1,l=f;continue}else if(l===c.W){if(l.ee=0,l.U&&(l.U.tt=c),l.W&&(l.W.tt=f),c.W=l.U,f.U=l.W,l.U=c,l.W=f,f===this.Y)this.Y=l,this.h.tt=l;else{let p=f.tt;p.U===f?p.U=l:p.W=l}return l.tt=f.tt,c.tt=l,f.tt=l,f.ee=1,{parentNode:c,grandParent:f,curNode:l}}else c.ee=0,f===this.Y?this.Y=f.se():f.se(),f.ee=1}else{let d=f.U;if(d&&d.ee===1){if(d.ee=c.ee=0,f===this.Y)return;f.ee=1,l=f;continue}else if(l===c.U){if(l.ee=0,l.U&&(l.U.tt=f),l.W&&(l.W.tt=c),f.W=l.U,c.U=l.W,l.U=f,l.W=c,f===this.Y)this.Y=l,this.h.tt=l;else{let p=f.tt;p.U===f?p.U=l:p.W=l}return l.tt=f.tt,c.tt=l,f.tt=l,f.ee=1,{parentNode:c,grandParent:f,curNode:l}}else c.ee=0,f===this.Y?this.Y=f.te():f.te(),f.ee=1}return}}ne(l,c,f){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,c),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let d,p=this.h.U,m=this.v(p.u,l);if(m===0){p.l=c;return}else if(m>0)p.U=new this.re(l,c),p.U.tt=p,d=p.U,this.h.U=d;else{let g=this.h.W,y=this.v(g.u,l);if(y===0){g.l=c;return}else if(y<0)g.W=new this.re(l,c),g.W.tt=g,d=g.W,this.h.W=d;else{if(f!==void 0){let w=f.o;if(w!==this.h){let E=this.v(w.u,l);if(E===0){w.l=c;return}else if(E>0){let C=w.L(),k=this.v(C.u,l);if(k===0){C.l=c;return}else k<0&&(d=new this.re(l,c),C.W===void 0?(C.W=d,d.tt=C):(w.U=d,d.tt=w))}}}if(d===void 0)for(d=this.Y;;){let w=this.v(d.u,l);if(w>0){if(d.U===void 0){d.U=new this.re(l,c),d.U.tt=d,d=d.U;break}d=d.U}else if(w<0){if(d.W===void 0){d.W=new this.re(l,c),d.W.tt=d,d=d.W;break}d=d.W}else{d.l=c;return}}}}return this.i+=1,d}I(l,c){for(;l;){let f=this.v(l.u,c);if(f<0)l=l.W;else if(f>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,c){let f=l.o;if(f===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return f.u=c,!0;if(f===this.h.U)return this.v(f.B().u,c)>0?(f.u=c,!0):!1;if(f===this.h.W)return this.v(f.L().u,c)<0?(f.u=c,!0):!1;let d=f.L().u;if(this.v(d,c)>=0)return!1;let p=f.B().u;return this.v(p,c)<=0?!1:(f.u=c,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=0,f=this;return this.oe(this.Y,function(d){return l===c?(f.V(d),!0):(c+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let c=this.I(this.Y,l);return c===this.h?!1:(this.V(c),!0)}eraseElementByIterator(l){let c=l.o;c===this.h&&(0,r.throwIteratorAccessError)();let f=c.W===void 0;return l.iteratorType===0?f&&l.next():(!f||c.U===void 0)&&l.next(),this.V(c),l}forEach(l){let c=0;for(let f of this)l(f,c++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c,f=0;for(let d of this){if(f===l){c=d;break}f+=1}return c}getHeight(){if(this.i===0)return 0;let l=function(c){return c?Math.max(l(c.U),l(c.W))+1:0};return l(this.Y)}},o=s;t.default=o}),oO=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=Es(),n=Ts(),r=class extends e.ContainerIterator{constructor(o,l,c){super(c),this.o=o,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let o=this.o,l=this.h.tt;if(o===this.h)return l?l.rt-1:0;let c=0;for(o.U&&(c+=o.U.rt);o!==l;){let f=o.tt;o===f.W&&(c+=1,f.U&&(c+=f.U.rt)),o=f}return c}},s=r;t.default=s}),sz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(sO()),n=s(oO()),r=Ts();function s(f){return f&&f.t?f:{default:f}}var o=class aO extends n.default{constructor(d,p,m,g){super(d,p,g),this.container=m}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new aO(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(f=[],d,p){super(d,p);let m=this;f.forEach(function(g){m.insert(g)})}*K(f){f!==void 0&&(yield*this.K(f.U),yield f.u,yield*this.K(f.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(f,d){return this.M(f,void 0,d)}find(f){let d=this.I(this.Y,f);return new o(d,this.h,this)}lowerBound(f){let d=this.X(this.Y,f);return new o(d,this.h,this)}upperBound(f){let d=this.Z(this.Y,f);return new o(d,this.h,this)}reverseLowerBound(f){let d=this.$(this.Y,f);return new o(d,this.h,this)}reverseUpperBound(f){let d=this.rr(this.Y,f);return new o(d,this.h,this)}union(f){let d=this;return f.forEach(function(p){d.insert(p)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;t.default=c}),oz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=s(sO()),n=s(oO()),r=Ts();function s(f){return f&&f.t?f:{default:f}}var o=class lO extends n.default{constructor(d,p,m,g){super(d,p,g),this.container=m}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let d=this;return new Proxy([],{get(p,m){if(m==="0")return d.o.u;if(m==="1")return d.o.l},set(p,m,g){if(m!=="1")throw new TypeError("props must be 1");return d.o.l=g,!0}})}copy(){return new lO(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.default{constructor(f=[],d,p){super(d,p);let m=this;f.forEach(function(g){m.setElement(g[0],g[1])})}*K(f){f!==void 0&&(yield*this.K(f.U),yield[f.u,f.l],yield*this.K(f.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i===0)return;let f=this.h.U;return[f.u,f.l]}back(){if(this.i===0)return;let f=this.h.W;return[f.u,f.l]}lowerBound(f){let d=this.X(this.Y,f);return new o(d,this.h,this)}upperBound(f){let d=this.Z(this.Y,f);return new o(d,this.h,this)}reverseLowerBound(f){let d=this.$(this.Y,f);return new o(d,this.h,this)}reverseUpperBound(f){let d=this.rr(this.Y,f);return new o(d,this.h,this)}setElement(f,d,p){return this.M(f,d,p)}find(f){let d=this.I(this.Y,f);return new o(d,this.h,this)}getElementByKey(f){return this.I(this.Y,f).l}union(f){let d=this;return f.forEach(function(p){d.setElement(p[0],p[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=l;t.default=c}),cO=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),uO=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=Es(),n=s(cO()),r=Ts();function s(c){return c&&c.t?c:{default:c}}var o=class extends e.ContainerIterator{constructor(c,f,d){super(d),this.o=c,this.h=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=o;var l=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(c){let{L:f,B:d}=c;f.B=d,d.L=f,c===this.p&&(this.p=d),c===this._&&(this._=f),this.i-=1}M(c,f,d){d===void 0&&(d=(0,n.default)(c));let p;if(d){let m=c[this.HASH_TAG];if(m!==void 0)return this.H[m].l=f,this.i;Object.defineProperty(c,this.HASH_TAG,{value:this.H.length,configurable:!0}),p={u:c,l:f,L:this._,B:this.h},this.H.push(p)}else{let m=this.g[c];if(m)return m.l=f,this.i;p={u:c,l:f,L:this._,B:this.h},this.g[c]=p}return this.i===0?(this.p=p,this.h.B=p):this._.B=p,this._=p,this.h.L=p,++this.i}I(c,f){if(f===void 0&&(f=(0,n.default)(c)),f){let d=c[this.HASH_TAG];return d===void 0?this.h:this.H[d]}else return this.g[c]||this.h}clear(){let c=this.HASH_TAG;this.H.forEach(function(f){delete f.u[c]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(c,f){let d;if(f===void 0&&(f=(0,n.default)(c)),f){let p=c[this.HASH_TAG];if(p===void 0)return!1;delete c[this.HASH_TAG],d=this.H[p],delete this.H[p]}else{if(d=this.g[c],d===void 0)return!1;delete this.g[c]}return this.V(d),!0}eraseElementByIterator(c){let f=c.o;return f===this.h&&(0,r.throwIteratorAccessError)(),this.V(f),c.next()}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let f=this.p;for(;c--;)f=f.B;return this.V(f),this.i}};t.HashContainer=l}),az=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uO(),n=Ts(),r=class fO extends e.HashContainerIterator{constructor(c,f,d,p){super(c,f,p),this.container=d}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new fO(this.o,this.h,this.container,this.iteratorType)}},s=class extends e.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(f){c.insert(f)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,c){return this.M(l,void 0,c)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.u}find(l,c){let f=this.I(l,c);return new r(f,this.h,this)}forEach(l){let c=0,f=this.p;for(;f!==this.h;)l(f.u,c++,this),f=f.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}},o=s;t.default=o}),lz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uO(),n=s(cO()),r=Ts();function s(f){return f&&f.t?f:{default:f}}var o=class dO extends e.HashContainerIterator{constructor(d,p,m,g){super(d,p,g),this.container=m}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let d=this;return new Proxy([],{get(p,m){if(m==="0")return d.o.u;if(m==="1")return d.o.l},set(p,m,g){if(m!=="1")throw new TypeError("props must be 1");return d.o.l=g,!0}})}copy(){return new dO(this.o,this.h,this.container,this.iteratorType)}},l=class extends e.HashContainer{constructor(f=[]){super();let d=this;f.forEach(function(p){d.setElement(p[0],p[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(f,d,p){return this.M(f,d,p)}getElementByKey(f,d){if(d===void 0&&(d=(0,n.default)(f)),d){let m=f[this.HASH_TAG];return m!==void 0?this.H[m].l:void 0}let p=this.g[f];return p?p.l:void 0}getElementByPos(f){if(f<0||f>this.i-1)throw new RangeError;let d=this.p;for(;f--;)d=d.B;return[d.u,d.l]}find(f,d){let p=this.I(f,d);return new o(p,this.h,this)}forEach(f){let d=0,p=this.p;for(;p!==this.h;)f([p.u,p.l],d++,this),p=p.B}[Symbol.iterator](){return(function*(){let f=this.p;for(;f!==this.h;)yield[f.u,f.l],f=f.B}).bind(this)()}},c=l;t.default=c}),cz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return s.default}});var e=m(X8()),n=m(J8()),r=m(ez()),s=m(tz()),o=m(nz()),l=m(rz()),c=m(sz()),f=m(oz()),d=m(az()),p=m(lz());function m(g){return g&&g.t?g:{default:g}}}),uz=He((t,e)=>{ze(),Ve(),Fe();var n=cz().OrderedSet,r=gs()("number-allocator:trace"),s=gs()("number-allocator:error");function o(c,f){this.low=c,this.high=f}o.prototype.equals=function(c){return this.low===c.low&&this.high===c.high},o.prototype.compare=function(c){return this.low<c.low&&this.high<c.low?-1:c.low<this.low&&c.high<this.low?1:0};function l(c,f){if(!(this instanceof l))return new l(c,f);this.min=c,this.max=f,this.ss=new n([],(d,p)=>d.compare(p)),r("Create"),this.clear()}l.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},l.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let c=this.ss.begin(),f=c.pointer.low,d=c.pointer.high,p=f;return p+1<=d?this.ss.updateKeyByIterator(c,new o(f+1,d)):this.ss.eraseElementByPos(0),r("alloc():"+p),p},l.prototype.use=function(c){let f=new o(c,c),d=this.ss.lowerBound(f);if(!d.equals(this.ss.end())){let p=d.pointer.low,m=d.pointer.high;return d.pointer.equals(f)?(this.ss.eraseElementByIterator(d),r("use():"+c),!0):p>c?!1:p===c?(this.ss.updateKeyByIterator(d,new o(p+1,m)),r("use():"+c),!0):m===c?(this.ss.updateKeyByIterator(d,new o(p,m-1)),r("use():"+c),!0):(this.ss.updateKeyByIterator(d,new o(c+1,m)),this.ss.insert(new o(p,c-1)),r("use():"+c),!0)}return r("use():failed"),!1},l.prototype.free=function(c){if(c<this.min||c>this.max){s("free():"+c+" is out of range");return}let f=new o(c,c),d=this.ss.upperBound(f);if(d.equals(this.ss.end())){if(d.equals(this.ss.begin())){this.ss.insert(f);return}d.pre();let p=d.pointer.high;d.pointer.high+1===c?this.ss.updateKeyByIterator(d,new o(p,c)):this.ss.insert(f)}else if(d.equals(this.ss.begin()))if(c+1===d.pointer.low){let p=d.pointer.high;this.ss.updateKeyByIterator(d,new o(c,p))}else this.ss.insert(f);else{let p=d.pointer.low,m=d.pointer.high;d.pre();let g=d.pointer.low;d.pointer.high+1===c?c+1===p?(this.ss.eraseElementByIterator(d),this.ss.updateKeyByIterator(d,new o(g,m))):this.ss.updateKeyByIterator(d,new o(g,c)):c+1===p?(this.ss.eraseElementByIterator(d.next()),this.ss.insert(new o(c,m))):this.ss.insert(f)}r("free():"+c)},l.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},l.prototype.intervalCount=function(){return this.ss.size()},l.prototype.dump=function(){console.log("length:"+this.ss.size());for(let c of this.ss)console.log(c)},e.exports=l}),hO=He((t,e)=>{ze(),Ve(),Fe();var n=uz();e.exports.NumberAllocator=n}),fz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=Z8(),n=hO(),r=class{constructor(s){s>0&&(this.aliasToTopic=new e.LRUCache({max:s}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,s),this.max=s,this.length=0)}put(s,o){if(o===0||o>this.max)return!1;let l=this.aliasToTopic.get(o);return l&&delete this.topicToAlias[l],this.aliasToTopic.set(o,s),this.topicToAlias[s]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.size,!0}getTopicByAlias(s){return this.aliasToTopic.get(s)}getAliasByTopic(s){let o=this.topicToAlias[s];return typeof o<"u"&&this.aliasToTopic.get(o),o}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=r}),dz=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var n=gp(),r=e(fz()),s=nc(),o=(l,c)=>{l.log("_handleConnack");let{options:f}=l,d=f.protocolVersion===5?c.reasonCode:c.returnCode;if(clearTimeout(l.connackTimer),delete l.topicAliasSend,c.properties){if(c.properties.topicAliasMaximum){if(c.properties.topicAliasMaximum>65535){l.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}c.properties.topicAliasMaximum>0&&(l.topicAliasSend=new r.default(c.properties.topicAliasMaximum))}c.properties.serverKeepAlive&&f.keepalive&&(f.keepalive=c.properties.serverKeepAlive),c.properties.maximumPacketSize&&(f.properties||(f.properties={}),f.properties.maximumPacketSize=c.properties.maximumPacketSize)}if(d===0)l.reconnecting=!1,l._onConnect(c);else if(d>0){let p=new s.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[d]}`,d);l.emit("error",p),l.options.reconnectOnConnackError&&l._cleanUp(!0)}};t.default=o}),hz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=(n,r,s)=>{n.log("handling pubrel packet");let o=typeof s<"u"?s:n.noop,{messageId:l}=r,c={cmd:"pubcomp",messageId:l};n.incomingStore.get(r,(f,d)=>{f?n._sendPacket(c,o):(n.emit("message",d.topic,d.payload,d),n.handleMessage(d,p=>{if(p)return o(p);n.incomingStore.del(d,n.noop),n._sendPacket(c,o)}))})};t.default=e}),pz=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(Y8()),r=e(Q8()),s=e(dz()),o=e(gp()),l=e(hz()),c=(f,d,p)=>{let{options:m}=f;if(m.protocolVersion===5&&m.properties&&m.properties.maximumPacketSize&&m.properties.maximumPacketSize<d.length)return f.emit("error",new Error(`exceeding packets size ${d.cmd}`)),f.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),f;switch(f.log("_handlePacket :: emitting packetreceive"),f.emit("packetreceive",d),d.cmd){case"publish":(0,n.default)(f,d,p);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":f.reschedulePing(),(0,o.default)(f,d),p();break;case"pubrel":f.reschedulePing(),(0,l.default)(f,d,p);break;case"connack":(0,s.default)(f,d),p();break;case"auth":f.reschedulePing(),(0,r.default)(f,d),p();break;case"pingresp":f.log("_handlePacket :: received pingresp"),f.reschedulePing(!0),p();break;case"disconnect":f.emit("disconnect",d),p();break;default:f.log("_handlePacket :: unknown command"),p();break}};t.default=c}),mz=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var n=e((Ta(),Zt(Co))),r=nc(),s=class{};t.TypedEventEmitter=s,(0,r.applyMixin)(s,n.default)}),vp=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var e=()=>{var o;return typeof window<"u"?typeof navigator<"u"&&((o=navigator.userAgent)===null||o===void 0?void 0:o.toLowerCase().indexOf(" electron/"))>-1&&Lt!=null&&Lt.versions?!Object.prototype.hasOwnProperty.call(Lt.versions,"electron"):typeof window.document<"u":!1},n=()=>{var o,l;return!!(typeof self=="object"&&!((l=(o=self==null?void 0:self.constructor)===null||o===void 0?void 0:o.name)===null||l===void 0)&&l.includes("WorkerGlobalScope"))},r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s=e()||n()||r();t.isWebWorker=n(),t.isReactNativeBrowser=r(),t.default=s}),gz=He((t,e)=>{ze(),Ve(),Fe(),function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))}(t,function(n){var r=function(y){return function(w){var E=y(w);return w.add(E),E}},s=function(y){return function(w,E){return y.set(w,E),E}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,l=536870912,c=l*2,f=function(y,w){return function(E){var C=w.get(E),k=C===void 0?E.size:C<c?C+1:0;if(!E.has(k))return y(E,k);if(E.size<l){for(;E.has(k);)k=Math.floor(Math.random()*c);return y(E,k)}if(E.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(k);)k=Math.floor(Math.random()*o);return y(E,k)}},d=new WeakMap,p=s(d),m=f(p,d),g=r(m);n.addUniqueNumber=g,n.generateUniqueNumber=m})}),vz=He((t,e)=>{ze(),Ve(),Fe(),function(n,r){typeof t=="object"&&typeof e<"u"?r(t,gz()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n.fastUniqueNumbers))}(t,function(n,r){var s=function(c){return c.method!==void 0&&c.method==="call"},o=function(c){return c.error===null&&typeof c.id=="number"},l=function(c){var f=new Map([[0,function(){}]]),d=new Map([[0,function(){}]]),p=new Map,m=new Worker(c);m.addEventListener("message",function(C){var k=C.data;if(s(k)){var T=k.params,A=T.timerId,z=T.timerType;if(z==="interval"){var N=f.get(A);if(typeof N=="number"){var M=p.get(N);if(M===void 0||M.timerId!==A||M.timerType!==z)throw new Error("The timer is in an undefined state.")}else if(typeof N<"u")N();else throw new Error("The timer is in an undefined state.")}else if(z==="timeout"){var I=d.get(A);if(typeof I=="number"){var P=p.get(I);if(P===void 0||P.timerId!==A||P.timerType!==z)throw new Error("The timer is in an undefined state.")}else if(typeof I<"u")I(),d.delete(A);else throw new Error("The timer is in an undefined state.")}}else if(o(k)){var Q=k.id,ne=p.get(Q);if(ne===void 0)throw new Error("The timer is in an undefined state.");var se=ne.timerId,L=ne.timerType;p.delete(Q),L==="interval"?f.delete(se):d.delete(se)}else{var ae=k.error.message;throw new Error(ae)}});var g=function(C){var k=r.generateUniqueNumber(p);p.set(k,{timerId:C,timerType:"interval"}),f.set(C,k),m.postMessage({id:k,method:"clear",params:{timerId:C,timerType:"interval"}})},y=function(C){var k=r.generateUniqueNumber(p);p.set(k,{timerId:C,timerType:"timeout"}),d.set(C,k),m.postMessage({id:k,method:"clear",params:{timerId:C,timerType:"timeout"}})},w=function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=r.generateUniqueNumber(f);return f.set(T,function(){C(),typeof f.get(T)=="function"&&m.postMessage({id:null,method:"set",params:{delay:k,now:performance.now(),timerId:T,timerType:"interval"}})}),m.postMessage({id:null,method:"set",params:{delay:k,now:performance.now(),timerId:T,timerType:"interval"}}),T},E=function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=r.generateUniqueNumber(d);return d.set(T,C),m.postMessage({id:null,method:"set",params:{delay:k,now:performance.now(),timerId:T,timerType:"timeout"}}),T};return{clearInterval:g,clearTimeout:y,setInterval:w,setTimeout:E}};n.load=l})}),yz=He((t,e)=>{ze(),Ve(),Fe(),function(n,r){typeof t=="object"&&typeof e<"u"?r(t,vz()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))}(t,function(n,r){var s=function(m,g){var y=null;return function(){if(y!==null)return y;var w=new Blob([g],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(w);return y=m(E),setTimeout(function(){return URL.revokeObjectURL(E)}),y}},o=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,l=s(r.load,o),c=function(m){return l().clearInterval(m)},f=function(m){return l().clearTimeout(m)},d=function(){var m;return(m=l()).setInterval.apply(m,arguments)},p=function(){var m;return(m=l()).setTimeout.apply(m,arguments)};n.clearInterval=c,n.clearTimeout=f,n.setInterval=d,n.setTimeout=p})}),_z=He(t=>{ze(),Ve(),Fe();var e=t&&t.__createBinding||(Object.create?function(d,p,m,g){g===void 0&&(g=m);var y=Object.getOwnPropertyDescriptor(p,m);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(d,g,y)}:function(d,p,m,g){g===void 0&&(g=m),d[g]=p[m]}),n=t&&t.__setModuleDefault||(Object.create?function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}:function(d,p){d.default=p}),r=t&&t.__importStar||function(){var d=function(p){return d=Object.getOwnPropertyNames||function(m){var g=[];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[g.length]=y);return g},d(p)};return function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var g=d(p),y=0;y<g.length;y++)g[y]!=="default"&&e(m,p,g[y]);return n(m,p),m}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(vp()),o=yz(),l={set:o.setInterval,clear:o.clearInterval},c={set:(d,p)=>setInterval(d,p),clear:d=>clearInterval(d)},f=d=>{switch(d){case"native":return c;case"worker":return l;case"auto":default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?l:c}};t.default=f}),pO=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var n=e(_z()),r=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(s,o){this.destroyed=!1,this.client=s,this.timer=typeof o=="object"&&"set"in o&&"clear"in o?o:(0,n.default)(o),this.setKeepalive(s.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(s){if(s*=1e3,isNaN(s)||s<=0||s>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${s}`);this._keepalive=s,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${s}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let s=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+s,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=r}),h_=He(t=>{ze(),Ve(),Fe();var e=t&&t.__createBinding||(Object.create?function(N,M,I,P){P===void 0&&(P=I);var Q=Object.getOwnPropertyDescriptor(M,I);(!Q||("get"in Q?!M.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return M[I]}}),Object.defineProperty(N,P,Q)}:function(N,M,I,P){P===void 0&&(P=I),N[P]=M[I]}),n=t&&t.__setModuleDefault||(Object.create?function(N,M){Object.defineProperty(N,"default",{enumerable:!0,value:M})}:function(N,M){N.default=M}),r=t&&t.__importStar||function(){var N=function(M){return N=Object.getOwnPropertyNames||function(I){var P=[];for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&(P[P.length]=Q);return P},N(M)};return function(M){if(M&&M.__esModule)return M;var I={};if(M!=null)for(var P=N(M),Q=0;Q<P.length;Q++)P[Q]!=="default"&&e(I,M,P[Q]);return n(I,M),I}}(),s=t&&t.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(A8()),l=s(W8()),c=s(Qk()),f=Ca(),d=s($8()),p=r(G8()),m=s(gs()),g=s(Zk()),y=s(pz()),w=nc(),E=mz(),C=s(pO()),k=r(vp()),T=globalThis.setImmediate||((...N)=>{let M=N.shift();(0,w.nextTick)(()=>{M(...N)})}),A={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},z=class p_ extends E.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(M,I){super(),this.options=I||{};for(let P in A)typeof this.options[P]>"u"?this.options[P]=A[P]:this.options[P]=I[P];this.log=this.options.log||(0,m.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",p_.VERSION),k.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",k.default?"browser":"node"),this.log("MqttClient :: options.protocol",I.protocol),this.log("MqttClient :: options.protocolVersion",I.protocolVersion),this.log("MqttClient :: options.username",I.username),this.log("MqttClient :: options.keepalive",I.keepalive),this.log("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",I.properties?I.properties.topicAliasMaximum:void 0),this.options.clientId=typeof I.clientId=="string"?I.clientId:p_.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:(...P)=>{P[3](null,0)},this.options.writeCache||(l.default.writeToStream.cacheNumbers=!1),this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new c.default:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new g.default,this.incomingStore=I.incomingStore||new g.default,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.properties&&I.properties.topicAliasMaximum>0&&(I.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(I.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:P}=this,Q=()=>{let ne=P.shift();this.log("deliver :: entry %o",ne);let se=null;if(!ne){this._resubscribe();return}se=ne.packet,this.log("deliver :: call _sendPacket for %o",se);let L=!0;se.messageId&&se.messageId!==0&&(this.messageIdProvider.register(se.messageId)||(L=!1)),L?this._sendPacket(se,ae=>{ne.cb&&ne.cb(ae),Q()}):(this.log("messageId: %d has already used. The message is skipped and removed.",se.messageId),Q())};this.log("connect :: sending queued packets"),Q()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(M,I){I()}handleMessage(M,I){I()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var M;let I=new f.Writable,P=l.default.parser(this.options),Q=null,ne=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),P.on("packet",H=>{this.log("parser :: on packet push to packets array."),ne.push(H)});let se=()=>{this.log("work :: getting next packet in queue");let H=ne.shift();if(H)this.log("work :: packet pulled from queue"),(0,y.default)(this,H,L);else{this.log("work :: no packets in queue");let D=Q;Q=null,this.log("work :: done flag is %s",!!D),D&&D()}},L=()=>{if(ne.length)(0,w.nextTick)(se);else{let H=Q;Q=null,H()}};I._write=(H,D,G)=>{Q=G,this.log("writable stream :: parsing buffer"),P.parse(H),se()};let ae=H=>{this.log("streamErrorHandler :: error",H.message),H.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",H)):this.noop(H)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(I),this.stream.on("error",ae),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ie={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ie.will=Object.assign(Object.assign({},this.options.will),{payload:(M=this.options.will)===null||M===void 0?void 0:M.payload})),this.topicAliasRecv&&(ie.properties||(ie.properties={}),this.topicAliasRecv&&(ie.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ie),P.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let H=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(H)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(M,I,P,Q){this.log("publish :: message `%s` to topic `%s`",I,M);let{options:ne}=this;typeof P=="function"&&(Q=P,P=null),P=P||{},P=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),P);let{qos:se,retain:L,dup:ae,properties:ie,cbStorePut:H}=P;if(this._checkDisconnecting(Q))return this;let D=()=>{let G=0;if((se===1||se===2)&&(G=this._nextId(),G===null))return this.log("No messageId left"),!1;let q={cmd:"publish",topic:M,payload:I,qos:se,retain:L,messageId:G,dup:ae};switch(ne.protocolVersion===5&&(q.properties=ie),this.log("publish :: qos",se),se){case 1:case 2:this.outgoing[q.messageId]={volatile:!1,cb:Q||this.noop},this.log("MqttClient:publish: packet cmd: %s",q.cmd),this._sendPacket(q,void 0,H);break;default:this.log("MqttClient:publish: packet cmd: %s",q.cmd),this._sendPacket(q,Q,H);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!D())&&this._storeProcessingQueue.push({invoke:D,cbStorePut:P.cbStorePut,callback:Q}),this}publishAsync(M,I,P){return new Promise((Q,ne)=>{this.publish(M,I,P,(se,L)=>{se?ne(se):Q(L)})})}subscribe(M,I,P){let Q=this.options.protocolVersion;typeof I=="function"&&(P=I),P=P||this.noop;let ne=!1,se=[];typeof M=="string"?(M=[M],se=M):Array.isArray(M)?se=M:typeof M=="object"&&(ne=M.resubscribe,delete M.resubscribe,se=Object.keys(M));let L=p.validateTopics(se);if(L!==null)return T(P,new Error(`Invalid topic ${L}`)),this;if(this._checkDisconnecting(P))return this.log("subscribe: discconecting true"),this;let ae={qos:0};Q===5&&(ae.nl=!1,ae.rap=!1,ae.rh=0),I=Object.assign(Object.assign({},ae),I);let ie=I.properties,H=[],D=(ye,R)=>{if(R=R||I,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ye)||this._resubscribeTopics[ye].qos<R.qos||ne){let Z={topic:ye,qos:R.qos};Q===5&&(Z.nl=R.nl,Z.rap=R.rap,Z.rh=R.rh,Z.properties=ie),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),H.push(Z)}};if(Array.isArray(M)?M.forEach(ye=>{this.log("subscribe: array topic %s",ye),D(ye)}):Object.keys(M).forEach(ye=>{this.log("subscribe: object topic %s, %o",ye,M[ye]),D(ye,M[ye])}),!H.length)return P(null,[]),this;let G=(ye,R)=>{let Z={cmd:"subscribe",subscriptions:ye,messageId:R};if(ie&&(Z.properties=ie),this.options.resubscribe){this.log("subscribe :: resubscribe true");let re=[];ye.forEach(ve=>{if(this.options.reconnectPeriod>0){let X={qos:ve.qos};Q===5&&(X.nl=ve.nl||!1,X.rap=ve.rap||!1,X.rh=ve.rh||0,X.properties=ve.properties),this._resubscribeTopics[ve.topic]=X,re.push(ve.topic)}}),this.messageIdToTopic[Z.messageId]=re}let U=new Promise((re,ve)=>{this.outgoing[Z.messageId]={volatile:!0,cb(X,Ae){if(!X){let{granted:J}=Ae;for(let K=0;K<J.length;K+=1)ye[K].qos=J[K]}X?ve(new w.ErrorWithSubackPacket(X.message,Ae)):re(Ae)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),U},q=()=>{var ye;let R=(ye=this.options.subscribeBatchSize)!==null&&ye!==void 0?ye:H.length,Z=[];for(let U=0;U<H.length;U+=R){let re=H.slice(U,U+R),ve=this._nextId();if(ve===null)return this.log("No messageId left"),!1;Z.push(G(re,ve))}return Promise.all(Z).then(U=>{P(null,H,U.at(-1))}).catch(U=>{P(U,H,U.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!q())&&this._storeProcessingQueue.push({invoke:q,callback:P}),this}subscribeAsync(M,I){return new Promise((P,Q)=>{this.subscribe(M,I,(ne,se)=>{ne?Q(ne):P(se)})})}unsubscribe(M,I,P){typeof M=="string"&&(M=[M]),typeof I=="function"&&(P=I),P=P||this.noop;let Q=p.validateTopics(M);if(Q!==null)return T(P,new Error(`Invalid topic ${Q}`)),this;if(this._checkDisconnecting(P))return this;let ne=()=>{let se=this._nextId();if(se===null)return this.log("No messageId left"),!1;let L={cmd:"unsubscribe",messageId:se,unsubscriptions:[]};return typeof M=="string"?L.unsubscriptions=[M]:Array.isArray(M)&&(L.unsubscriptions=M),this.options.resubscribe&&L.unsubscriptions.forEach(ae=>{delete this._resubscribeTopics[ae]}),typeof I=="object"&&I.properties&&(L.properties=I.properties),this.outgoing[L.messageId]={volatile:!0,cb:P},this.log("unsubscribe: call _sendPacket"),this._sendPacket(L),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ne())&&this._storeProcessingQueue.push({invoke:ne,callback:P}),this}unsubscribeAsync(M,I){return new Promise((P,Q)=>{this.unsubscribe(M,I,(ne,se)=>{ne?Q(ne):P(se)})})}end(M,I,P){this.log("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(P=P||I,I=M,M=!1),typeof I!="object"&&(P=P||I,I=null),this.log("end :: cb? %s",!!P),(!P||typeof P!="function")&&(P=this.noop);let Q=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(se=>{this.outgoingStore.close(L=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),P){let ae=se||L;this.log("end :: closeStores: invoking callback with args"),P(ae)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},ne=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,M),this._cleanUp(M,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,w.nextTick)(Q)},I)};return this.disconnecting?(P(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ne,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),ne()),this)}endAsync(M,I){return new Promise((P,Q)=>{this.end(M,I,ne=>{ne?Q(ne):P()})})}removeOutgoingMessage(M){if(this.outgoing[M]){let{cb:I}=this.outgoing[M];this._removeOutgoingAndStoreMessage(M,()=>{I(new Error("Message removed"))})}return this}reconnect(M){this.log("client reconnect");let I=()=>{M?(this.options.incomingStore=M.incomingStore,this.options.outgoingStore=M.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new g.default,this.outgoingStore=this.options.outgoingStore||new g.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=I:I(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(M=>{this.outgoing[M].volatile&&typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(M=>{typeof this.outgoing[M].cb=="function"&&(this.outgoing[M].cb(new Error("Connection closed")),delete this.outgoing[M])}))}_removeTopicAliasAndRecoverTopicName(M){let I;M.properties&&(I=M.properties.topicAlias);let P=M.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",I,P),P.length===0){if(typeof I>"u")return new Error("Unregistered Topic Alias");if(P=this.topicAliasSend.getTopicByAlias(I),typeof P>"u")return new Error("Unregistered Topic Alias");M.topic=P}I&&delete M.properties.topicAlias}_checkDisconnecting(M){return this.disconnecting&&(M&&M!==this.noop?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(M,I,P={}){if(I&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),this.log("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let Q=Object.assign({cmd:"disconnect"},P);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(Q,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),T(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),I&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())}_storeAndSend(M,I,P){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",M.cmd);let Q=M,ne;if(Q.cmd==="publish"&&(Q=(0,d.default)(M),ne=this._removeTopicAliasAndRecoverTopicName(Q),ne))return I&&I(ne);this.outgoingStore.put(Q,se=>{if(se)return I&&I(se);P(),this._writePacket(M,I)})}_applyTopicAlias(M){if(this.options.protocolVersion===5&&M.cmd==="publish"){let I;M.properties&&(I=M.properties.topicAlias);let P=M.topic.toString();if(this.topicAliasSend)if(I){if(P.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",P,I),!this.topicAliasSend.put(P,I)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",P,I),new Error("Sending Topic Alias out of range")}else P.length!==0&&(this.options.autoAssignTopicAlias?(I=this.topicAliasSend.getAliasByTopic(P),I?(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",P,I)):(I=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(P,I),M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",P,I))):this.options.autoUseTopicAlias&&(I=this.topicAliasSend.getAliasByTopic(P),I&&(M.topic="",M.properties=Object.assign(Object.assign({},M.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",P,I))));else if(I)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",P,I),new Error("Sending Topic Alias out of range")}}_noop(M){this.log("noop ::",M)}_writePacket(M,I){this.log("_writePacket :: packet: %O",M),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",M),this.log("_writePacket :: writing to stream");let P=l.default.writeToStream(M,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",P),!P&&I&&I!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",I)):I&&(this.log("_writePacket :: invoking cb"),I())}_sendPacket(M,I,P,Q){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),P=P||this.noop,I=I||this.noop;let ne=this._applyTopicAlias(M);if(ne){I(ne);return}if(!this.connected){if(M.cmd==="auth"){this._writePacket(M,I);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,I,P);return}if(Q){this._writePacket(M,I);return}switch(M.cmd){case"publish":break;case"pubrel":this._storeAndSend(M,I,P);return;default:this._writePacket(M,I);return}switch(M.qos){case 2:case 1:this._storeAndSend(M,I,P);break;case 0:default:this._writePacket(M,I);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(M,I,P){this.log("_storePacket :: packet: %o",M),this.log("_storePacket :: cb? %s",!!I),P=P||this.noop;let Q=M;if(Q.cmd==="publish"){Q=(0,d.default)(M);let se=this._removeTopicAliasAndRecoverTopicName(Q);if(se)return I&&I(se)}let ne=Q.qos||0;ne===0&&this.queueQoSZero||Q.cmd!=="publish"?this.queue.push({packet:Q,cb:I}):ne>0?(I=this.outgoing[Q.messageId]?this.outgoing[Q.messageId].cb:null,this.outgoingStore.put(Q,se=>{if(se)return I&&I(se);P()})):I&&I(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new C.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(M=!1){this.keepaliveManager&&this.options.keepalive&&(M||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let I=0;I<M.length;I++){let P={};P[M[I]]=this._resubscribeTopics[M[I]],P.resubscribe=!0,this.subscribe(P,{properties:P[M[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(M){if(this.disconnected){this.emit("connect",M);return}this.connackPacket=M,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let I=()=>{let P=this.outgoingStore.createStream(),Q=()=>{P.destroy(),P=null,this._flushStoreProcessingQueue(),ne()},ne=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",Q),P.on("error",L=>{ne(),this._flushStoreProcessingQueue(),this.removeListener("close",Q),this.emit("error",L)});let se=()=>{if(!P)return;let L=P.read(1),ae;if(!L){P.once("readable",se);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[L.messageId]){se();return}!this.disconnecting&&!this.reconnectTimer?(ae=this.outgoing[L.messageId]?this.outgoing[L.messageId].cb:null,this.outgoing[L.messageId]={volatile:!1,cb(ie,H){ae&&ae(ie,H),se()}},this._packetIdsDuringStoreProcessing[L.messageId]=!0,this.messageIdProvider.register(L.messageId)?this._sendPacket(L,void 0,void 0,!0):this.log("messageId: %d has already used.",L.messageId)):P.destroy&&P.destroy()};P.on("end",()=>{let L=!0;for(let ae in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[ae]){L=!1;break}this.removeListener("close",Q),L?(ne(),this._invokeAllStoreProcessingQueue(),this.emit("connect",M)):I()}),se()};I()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(M,I){delete this.outgoing[M],this.outgoingStore.del({messageId:M},(P,Q)=>{I(P,Q),this.messageIdProvider.deallocate(M),this._invokeStoreProcessingQueue()})}};z.VERSION=w.MQTTJS_VERSION,t.default=z}),bz=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=hO(),n=class{constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};t.default=n});function Zo(t){throw new RangeError(gO[t])}function QT(t,e){let n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]);let s=function(o,l){let c=[],f=o.length;for(;f--;)c[f]=l(o[f]);return c}((t=t.replace(mO,".")).split("."),e).join(".");return r+s}function ZT(t){let e=[],n=0,r=t.length;for(;n<r;){let s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){let o=t.charCodeAt(n++);(64512&o)==56320?e.push(((1023&s)<<10)+(1023&o)+65536):(e.push(s),n--)}else e.push(s)}return e}var XT,JT,mO,gO,Qr,Rd,pv,mv,gv,vv,Js,wz=ar(()=>{ze(),Ve(),Fe(),XT=/^xn--/,JT=/[^\0-\x7E]/,mO=/[\x2E\u3002\uFF0E\uFF61]/g,gO={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qr=Math.floor,Rd=String.fromCharCode,pv=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},mv=function(t,e,n){let r=0;for(t=n?Qr(t/700):t>>1,t+=Qr(t/e);t>455;r+=36)t=Qr(t/35);return Qr(r+36*t/(t+38))},gv=function(t){let e=[],n=t.length,r=0,s=128,o=72,l=t.lastIndexOf("-");l<0&&(l=0);for(let f=0;f<l;++f)t.charCodeAt(f)>=128&&Zo("not-basic"),e.push(t.charCodeAt(f));for(let f=l>0?l+1:0;f<n;){let d=r;for(let m=1,g=36;;g+=36){f>=n&&Zo("invalid-input");let y=(c=t.charCodeAt(f++))-48<10?c-22:c-65<26?c-65:c-97<26?c-97:36;(y>=36||y>Qr((2147483647-r)/m))&&Zo("overflow"),r+=y*m;let w=g<=o?1:g>=o+26?26:g-o;if(y<w)break;let E=36-w;m>Qr(2147483647/E)&&Zo("overflow"),m*=E}let p=e.length+1;o=mv(r-d,p,d==0),Qr(r/p)>2147483647-s&&Zo("overflow"),s+=Qr(r/p),r%=p,e.splice(r++,0,s)}var c;return String.fromCodePoint(...e)},vv=function(t){let e=[],n=(t=ZT(t)).length,r=128,s=0,o=72;for(let f of t)f<128&&e.push(Rd(f));let l=e.length,c=l;for(l&&e.push("-");c<n;){let f=2147483647;for(let p of t)p>=r&&p<f&&(f=p);let d=c+1;f-r>Qr((2147483647-s)/d)&&Zo("overflow"),s+=(f-r)*d,r=f;for(let p of t)if(p<r&&++s>2147483647&&Zo("overflow"),p==r){let m=s;for(let g=36;;g+=36){let y=g<=o?1:g>=o+26?26:g-o;if(m<y)break;let w=m-y,E=36-y;e.push(Rd(pv(y+w%E,0))),m=Qr(w/E)}e.push(Rd(pv(m,0))),o=mv(s,d,c==l),s=0,++c}++s,++r}return e.join("")},Js={version:"2.1.0",ucs2:{decode:ZT,encode:t=>String.fromCodePoint(...t)},decode:gv,encode:vv,toASCII:function(t){return QT(t,function(e){return JT.test(e)?"xn--"+vv(e):e})},toUnicode:function(t){return QT(t,function(e){return XT.test(e)?gv(e.slice(4).toLowerCase()):e})}},Js.decode,Js.encode,Js.toASCII,Js.toUnicode,Js.ucs2,Js.version});function Sz(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ex,fl,tx,Ei,Ez=ar(()=>{ze(),Ve(),Fe(),ex=function(t,e,n,r){e=e||"&",n=n||"=";var s={};if(typeof t!="string"||t.length===0)return s;var o=/\+/g;t=t.split(e);var l=1e3;r&&typeof r.maxKeys=="number"&&(l=r.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var f=0;f<c;++f){var d,p,m,g,y=t[f].replace(o,"%20"),w=y.indexOf(n);w>=0?(d=y.substr(0,w),p=y.substr(w+1)):(d=y,p=""),m=decodeURIComponent(d),g=decodeURIComponent(p),Sz(s,m)?Array.isArray(s[m])?s[m].push(g):s[m]=[s[m],g]:s[m]=g}return s},fl=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},tx=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(s){var o=encodeURIComponent(fl(s))+n;return Array.isArray(t[s])?t[s].map(function(l){return o+encodeURIComponent(fl(l))}).join(e):o+encodeURIComponent(fl(t[s]))}).join(e):r?encodeURIComponent(fl(r))+n+encodeURIComponent(fl(t)):""},Ei={},Ei.decode=Ei.parse=ex,Ei.encode=Ei.stringify=tx,Ei.decode,Ei.encode,Ei.parse,Ei.stringify});function m_(){throw new Error("setTimeout has not been defined")}function g_(){throw new Error("clearTimeout has not been defined")}function vO(t){if(is===setTimeout)return setTimeout(t,0);if((is===m_||!is)&&setTimeout)return is=setTimeout,setTimeout(t,0);try{return is(t,0)}catch{try{return is.call(null,t,0)}catch{return is.call(this||la,t,0)}}}function Tz(){ca&&sa&&(ca=!1,sa.length?Ci=sa.concat(Ci):Cu=-1,Ci.length&&yO())}function yO(){if(!ca){var t=vO(Tz);ca=!0;for(var e=Ci.length;e;){for(sa=Ci,Ci=[];++Cu<e;)sa&&sa[Cu].run();Cu=-1,e=Ci.length}sa=null,ca=!1,function(n){if(ss===clearTimeout)return clearTimeout(n);if((ss===g_||!ss)&&clearTimeout)return ss=clearTimeout,clearTimeout(n);try{ss(n)}catch{try{return ss.call(null,n)}catch{return ss.call(this||la,n)}}}(t)}}function nx(t,e){(this||la).fun=t,(this||la).array=e}function es(){}var rx,is,ss,la,wn,sa,Ci,ca,Cu,gn,xz=ar(()=>{ze(),Ve(),Fe(),la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,wn=rx={},function(){try{is=typeof setTimeout=="function"?setTimeout:m_}catch{is=m_}try{ss=typeof clearTimeout=="function"?clearTimeout:g_}catch{ss=g_}}(),Ci=[],ca=!1,Cu=-1,wn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ci.push(new nx(t,e)),Ci.length!==1||ca||vO(yO)},nx.prototype.run=function(){(this||la).fun.apply(null,(this||la).array)},wn.title="browser",wn.browser=!0,wn.env={},wn.argv=[],wn.version="",wn.versions={},wn.on=es,wn.addListener=es,wn.once=es,wn.off=es,wn.removeListener=es,wn.removeAllListeners=es,wn.emit=es,wn.prependListener=es,wn.prependOnceListener=es,wn.listeners=function(t){return[]},wn.binding=function(t){throw new Error("process.binding is not supported")},wn.cwd=function(){return"/"},wn.chdir=function(t){throw new Error("process.chdir is not supported")},wn.umask=function(){return 0},gn=rx,gn.addListener,gn.argv,gn.binding,gn.browser,gn.chdir,gn.cwd,gn.emit,gn.env,gn.listeners,gn.nextTick,gn.off,gn.on,gn.once,gn.prependListener,gn.prependOnceListener,gn.removeAllListeners,gn.removeListener,gn.title,gn.umask,gn.version,gn.versions});function Cz(){if(v_)return Zd;v_=!0;var t=Zd={},e,n;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=s}catch{n=s}})();function o(E){if(e===setTimeout)return setTimeout(E,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(E,0);try{return e(E,0)}catch{try{return e.call(null,E,0)}catch{return e.call(this||ta,E,0)}}}function l(E){if(n===clearTimeout)return clearTimeout(E);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(E);try{return n(E)}catch{try{return n.call(null,E)}catch{return n.call(this||ta,E)}}}var c=[],f=!1,d,p=-1;function m(){!f||!d||(f=!1,d.length?c=d.concat(c):p=-1,c.length&&g())}function g(){if(!f){var E=o(m);f=!0;for(var C=c.length;C;){for(d=c,c=[];++p<C;)d&&d[p].run();p=-1,C=c.length}d=null,f=!1,l(E)}}t.nextTick=function(E){var C=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)C[k-1]=arguments[k];c.push(new y(E,C)),c.length===1&&!f&&o(g)};function y(E,C){(this||ta).fun=E,(this||ta).array=C}y.prototype.run=function(){(this||ta).fun.apply(null,(this||ta).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(E){return[]},t.binding=function(E){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(E){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Zd}var Zd,v_,ta,dn,_O=ar(()=>{ze(),Ve(),Fe(),Zd={},v_=!1,ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,dn=Cz(),dn.platform="browser",dn.addListener,dn.argv,dn.binding,dn.browser,dn.chdir,dn.cwd,dn.emit,dn.env,dn.listeners,dn.nextTick,dn.off,dn.on,dn.once,dn.prependListener,dn.prependOnceListener,dn.removeAllListeners,dn.removeListener,dn.title,dn.umask,dn.version,dn.versions});function Az(){if(y_)return Xd;y_=!0;var t=dn;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function n(o,l){for(var c="",f=0,d=-1,p=0,m,g=0;g<=o.length;++g){if(g<o.length)m=o.charCodeAt(g);else{if(m===47)break;m=47}if(m===47){if(!(d===g-1||p===1))if(d!==g-1&&p===2){if(c.length<2||f!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var y=c.lastIndexOf("/");if(y!==c.length-1){y===-1?(c="",f=0):(c=c.slice(0,y),f=c.length-1-c.lastIndexOf("/")),d=g,p=0;continue}}else if(c.length===2||c.length===1){c="",f=0,d=g,p=0;continue}}l&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+o.slice(d+1,g):c=o.slice(d+1,g),f=g-d-1;d=g,p=0}else m===46&&p!==-1?++p:p=-1}return c}function r(o,l){var c=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+f:c+o+f:f}var s={resolve:function(){for(var o="",l=!1,c,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(c===void 0&&(c=t.cwd()),d=c),e(d),d.length!==0&&(o=d+"/"+o,l=d.charCodeAt(0)===47)}return o=n(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var l=o.charCodeAt(0)===47,c=o.charCodeAt(o.length-1)===47;return o=n(o,!l),o.length===0&&!l&&(o="."),o.length>0&&c&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var c=arguments[l];e(c),c.length>0&&(o===void 0?o=c:o+="/"+c)}return o===void 0?".":s.normalize(o)},relative:function(o,l){if(e(o),e(l),o===l||(o=s.resolve(o),l=s.resolve(l),o===l))return"";for(var c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var f=o.length,d=f-c,p=1;p<l.length&&l.charCodeAt(p)===47;++p);for(var m=l.length,g=m-p,y=d<g?d:g,w=-1,E=0;E<=y;++E){if(E===y){if(g>y){if(l.charCodeAt(p+E)===47)return l.slice(p+E+1);if(E===0)return l.slice(p+E)}else d>y&&(o.charCodeAt(c+E)===47?w=E:E===0&&(w=0));break}var C=o.charCodeAt(c+E),k=l.charCodeAt(p+E);if(C!==k)break;C===47&&(w=E)}var T="";for(E=c+w+1;E<=f;++E)(E===f||o.charCodeAt(E)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+l.slice(p+w):(p+=w,l.charCodeAt(p)===47&&++p,l.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var l=o.charCodeAt(0),c=l===47,f=-1,d=!0,p=o.length-1;p>=1;--p)if(l=o.charCodeAt(p),l===47){if(!d){f=p;break}}else d=!1;return f===-1?c?"/":".":c&&f===1?"//":o.slice(0,f)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');e(o);var c=0,f=-1,d=!0,p;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var m=l.length-1,g=-1;for(p=o.length-1;p>=0;--p){var y=o.charCodeAt(p);if(y===47){if(!d){c=p+1;break}}else g===-1&&(d=!1,g=p+1),m>=0&&(y===l.charCodeAt(m)?--m===-1&&(f=p):(m=-1,f=g))}return c===f?f=g:f===-1&&(f=o.length),o.slice(c,f)}else{for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===47){if(!d){c=p+1;break}}else f===-1&&(d=!1,f=p+1);return f===-1?"":o.slice(c,f)}},extname:function(o){e(o);for(var l=-1,c=0,f=-1,d=!0,p=0,m=o.length-1;m>=0;--m){var g=o.charCodeAt(m);if(g===47){if(!d){c=m+1;break}continue}f===-1&&(d=!1,f=m+1),g===46?l===-1?l=m:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||f===-1||p===0||p===1&&l===f-1&&l===c+1?"":o.slice(l,f)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){e(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var c=o.charCodeAt(0),f=c===47,d;f?(l.root="/",d=1):d=0;for(var p=-1,m=0,g=-1,y=!0,w=o.length-1,E=0;w>=d;--w){if(c=o.charCodeAt(w),c===47){if(!y){m=w+1;break}continue}g===-1&&(y=!1,g=w+1),c===46?p===-1?p=w:E!==1&&(E=1):p!==-1&&(E=-1)}return p===-1||g===-1||E===0||E===1&&p===g-1&&p===m+1?g!==-1&&(m===0&&f?l.base=l.name=o.slice(1,g):l.base=l.name=o.slice(m,g)):(m===0&&f?(l.name=o.slice(1,p),l.base=o.slice(1,g)):(l.name=o.slice(m,p),l.base=o.slice(m,g)),l.ext=o.slice(p,g)),m>0?l.dir=o.slice(0,m-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Xd=s,Xd}var Xd,y_,__,Rz=ar(()=>{ze(),Ve(),Fe(),_O(),Xd={},y_=!1,__=Az()}),bO={};ec(bO,{URL:()=>UO,Url:()=>MO,default:()=>Yt,fileURLToPath:()=>wO,format:()=>DO,parse:()=>jO,pathToFileURL:()=>SO,resolve:()=>PO,resolveObject:()=>LO});function Wr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function au(t,e,n){if(t&&Zr.isObject(t)&&t instanceof Wr)return t;var r=new Wr;return r.parse(t,e,n),r}function kz(){if(b_)return Jd;b_=!0;var t=gn;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function n(o,l){for(var c="",f=0,d=-1,p=0,m,g=0;g<=o.length;++g){if(g<o.length)m=o.charCodeAt(g);else{if(m===47)break;m=47}if(m===47){if(!(d===g-1||p===1))if(d!==g-1&&p===2){if(c.length<2||f!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var y=c.lastIndexOf("/");if(y!==c.length-1){y===-1?(c="",f=0):(c=c.slice(0,y),f=c.length-1-c.lastIndexOf("/")),d=g,p=0;continue}}else if(c.length===2||c.length===1){c="",f=0,d=g,p=0;continue}}l&&(c.length>0?c+="/..":c="..",f=2)}else c.length>0?c+="/"+o.slice(d+1,g):c=o.slice(d+1,g),f=g-d-1;d=g,p=0}else m===46&&p!==-1?++p:p=-1}return c}function r(o,l){var c=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+f:c+o+f:f}var s={resolve:function(){for(var o="",l=!1,c,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(c===void 0&&(c=t.cwd()),d=c),e(d),d.length!==0&&(o=d+"/"+o,l=d.charCodeAt(0)===47)}return o=n(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var l=o.charCodeAt(0)===47,c=o.charCodeAt(o.length-1)===47;return o=n(o,!l),o.length===0&&!l&&(o="."),o.length>0&&c&&(o+="/"),l?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,l=0;l<arguments.length;++l){var c=arguments[l];e(c),c.length>0&&(o===void 0?o=c:o+="/"+c)}return o===void 0?".":s.normalize(o)},relative:function(o,l){if(e(o),e(l),o===l||(o=s.resolve(o),l=s.resolve(l),o===l))return"";for(var c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var f=o.length,d=f-c,p=1;p<l.length&&l.charCodeAt(p)===47;++p);for(var m=l.length,g=m-p,y=d<g?d:g,w=-1,E=0;E<=y;++E){if(E===y){if(g>y){if(l.charCodeAt(p+E)===47)return l.slice(p+E+1);if(E===0)return l.slice(p+E)}else d>y&&(o.charCodeAt(c+E)===47?w=E:E===0&&(w=0));break}var C=o.charCodeAt(c+E),k=l.charCodeAt(p+E);if(C!==k)break;C===47&&(w=E)}var T="";for(E=c+w+1;E<=f;++E)(E===f||o.charCodeAt(E)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+l.slice(p+w):(p+=w,l.charCodeAt(p)===47&&++p,l.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var l=o.charCodeAt(0),c=l===47,f=-1,d=!0,p=o.length-1;p>=1;--p)if(l=o.charCodeAt(p),l===47){if(!d){f=p;break}}else d=!1;return f===-1?c?"/":".":c&&f===1?"//":o.slice(0,f)},basename:function(o,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');e(o);var c=0,f=-1,d=!0,p;if(l!==void 0&&l.length>0&&l.length<=o.length){if(l.length===o.length&&l===o)return"";var m=l.length-1,g=-1;for(p=o.length-1;p>=0;--p){var y=o.charCodeAt(p);if(y===47){if(!d){c=p+1;break}}else g===-1&&(d=!1,g=p+1),m>=0&&(y===l.charCodeAt(m)?--m===-1&&(f=p):(m=-1,f=g))}return c===f?f=g:f===-1&&(f=o.length),o.slice(c,f)}else{for(p=o.length-1;p>=0;--p)if(o.charCodeAt(p)===47){if(!d){c=p+1;break}}else f===-1&&(d=!1,f=p+1);return f===-1?"":o.slice(c,f)}},extname:function(o){e(o);for(var l=-1,c=0,f=-1,d=!0,p=0,m=o.length-1;m>=0;--m){var g=o.charCodeAt(m);if(g===47){if(!d){c=m+1;break}continue}f===-1&&(d=!1,f=m+1),g===46?l===-1?l=m:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||f===-1||p===0||p===1&&l===f-1&&l===c+1?"":o.slice(l,f)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){e(o);var l={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return l;var c=o.charCodeAt(0),f=c===47,d;f?(l.root="/",d=1):d=0;for(var p=-1,m=0,g=-1,y=!0,w=o.length-1,E=0;w>=d;--w){if(c=o.charCodeAt(w),c===47){if(!y){m=w+1;break}continue}g===-1&&(y=!1,g=w+1),c===46?p===-1?p=w:E!==1&&(E=1):p!==-1&&(E=-1)}return p===-1||g===-1||E===0||E===1&&p===g-1&&p===m+1?g!==-1&&(m===0&&f?l.base=l.name=o.slice(1,g):l.base=l.name=o.slice(m,g)):(m===0&&f?(l.name=o.slice(1,p),l.base=o.slice(1,g)):(l.name=o.slice(m,p),l.base=o.slice(m,g)),l.ext=o.slice(p,g)),m>0?l.dir=o.slice(0,m-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Jd=s,Jd}function Oz(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ih?Iz(t):Nz(t)}function Iz(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let s=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&s===102||n[r+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(AO,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,s=n[2];if(r<xO||r>CO||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function Nz(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function Mz(t){let e=w_.resolve(t),n=t.charCodeAt(t.length-1);(n===TO||Ih&&n===EO)&&e[e.length-1]!==w_.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(RO,"%25")),!Ih&&e.includes("\\")&&(e=e.replace(kO,"%5C")),e.includes(`
`)&&(e=e.replace(OO,"%0A")),e.includes("\r")&&(e=e.replace(IO,"%0D")),e.includes("	")&&(e=e.replace(NO,"%09")),r.pathname=e,r}function wO(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Nh?Dz(t):Pz(t)}function Dz(t){let e=t.hostname,n=t.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let s=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&s===102||n[r+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(HO,"\\"),n=decodeURIComponent(n),e!=="")return`\\\\${e}${n}`;{let r=n.codePointAt(1)|32,s=n[2];if(r<FO||r>VO||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function Pz(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let n=0;n<e.length;n++)if(e[n]==="%"){let r=e.codePointAt(n+2)||32;if(e[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function SO(t){let e=__.resolve(t),n=t.charCodeAt(t.length-1);(n===zO||Nh&&n===BO)&&e[e.length-1]!==__.sep&&(e+="/");let r=new URL("file://");return e.includes("%")&&(e=e.replace(WO,"%25")),!Nh&&e.includes("\\")&&(e=e.replace(qO,"%5C")),e.includes(`
`)&&(e=e.replace($O,"%0A")),e.includes("\r")&&(e=e.replace(GO,"%0D")),e.includes("	")&&(e=e.replace(YO,"%09")),r.pathname=e,r}var Yt,ix,Zr,sx,ox,ax,lx,kd,yv,_v,bv,cx,ux,Od,Xo,Id,Jd,b_,w_,fx,EO,TO,xO,CO,Ih,AO,RO,kO,OO,IO,NO,dx,MO,DO,PO,LO,jO,UO,BO,zO,FO,VO,Nh,HO,WO,qO,$O,GO,YO,Lz=ar(()=>{ze(),Ve(),Fe(),wz(),Ez(),xz(),Rz(),_O(),Yt={},ix=Js,Zr={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Yt.parse=au,Yt.resolve=function(t,e){return au(t,!1,!0).resolve(e)},Yt.resolveObject=function(t,e){return t?au(t,!1,!0).resolveObject(e):e},Yt.format=function(t){return Zr.isString(t)&&(t=au(t)),t instanceof Wr?t.format():Wr.prototype.format.call(t)},Yt.Url=Wr,sx=/^([a-z0-9.+-]+:)/i,ox=/:[0-9]*$/,ax=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,lx=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),kd=["'"].concat(lx),yv=["%","/","?",";","#"].concat(kd),_v=["/","?","#"],bv=/^[+a-z0-9A-Z_-]{0,63}$/,cx=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ux={javascript:!0,"javascript:":!0},Od={javascript:!0,"javascript:":!0},Xo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Id=Ei,Wr.prototype.parse=function(t,e,n){if(!Zr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),s=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(s);o[0]=o[0].replace(/\\/g,"/");var l=t=o.join(s);if(l=l.trim(),!n&&t.split("#").length===1){var c=ax.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?Id.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=sx.exec(l);if(f){var d=(f=f[0]).toLowerCase();this.protocol=d,l=l.substr(f.length)}if(n||f||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=l.substr(0,2)==="//";!p||f&&Od[f]||(l=l.substr(2),this.slashes=!0)}if(!Od[f]&&(p||f&&!Xo[f])){for(var m,g,y=-1,w=0;w<_v.length;w++)(E=l.indexOf(_v[w]))!==-1&&(y===-1||E<y)&&(y=E);for((g=y===-1?l.lastIndexOf("@"):l.lastIndexOf("@",y))!==-1&&(m=l.slice(0,g),l=l.slice(g+1),this.auth=decodeURIComponent(m)),y=-1,w=0;w<yv.length;w++){var E;(E=l.indexOf(yv[w]))!==-1&&(y===-1||E<y)&&(y=E)}y===-1&&(y=l.length),this.host=l.slice(0,y),l=l.slice(y),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var k=this.hostname.split(/\./),T=(w=0,k.length);w<T;w++){var A=k[w];if(A&&!A.match(bv)){for(var z="",N=0,M=A.length;N<M;N++)A.charCodeAt(N)>127?z+="x":z+=A[N];if(!z.match(bv)){var I=k.slice(0,w),P=k.slice(w+1),Q=A.match(cx);Q&&(I.push(Q[1]),P.unshift(Q[2])),P.length&&(l="/"+P.join(".")+l),this.hostname=I.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=ix.toASCII(this.hostname));var ne=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+ne,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!ux[d])for(w=0,T=kd.length;w<T;w++){var L=kd[w];if(l.indexOf(L)!==-1){var ae=encodeURIComponent(L);ae===L&&(ae=escape(L)),l=l.split(L).join(ae)}}var ie=l.indexOf("#");ie!==-1&&(this.hash=l.substr(ie),l=l.slice(0,ie));var H=l.indexOf("?");if(H!==-1?(this.search=l.substr(H),this.query=l.substr(H+1),e&&(this.query=Id.parse(this.query)),l=l.slice(0,H)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Xo[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ne=this.pathname||"";var D=this.search||"";this.path=ne+D}return this.href=this.format(),this},Wr.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&Zr.isObject(this.query)&&Object.keys(this.query).length&&(o=Id.stringify(this.query));var l=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Xo[e])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),r&&r.charAt(0)!=="#"&&(r="#"+r),l&&l.charAt(0)!=="?"&&(l="?"+l),e+s+(n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}))+(l=l.replace("#","%23"))+r},Wr.prototype.resolve=function(t){return this.resolveObject(au(t,!1,!0)).format()},Wr.prototype.resolveObject=function(t){if(Zr.isString(t)){var e=new Wr;e.parse(t,!1,!0),t=e}for(var n=new Wr,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var f=l[c];f!=="protocol"&&(n[f]=t[f])}return Xo[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!Xo[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var m=d[p];n[m]=t[m]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||Od[t.protocol])n.pathname=t.pathname;else{for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var y=n.pathname||"",w=n.search||"";n.path=y+w}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var E=n.pathname&&n.pathname.charAt(0)==="/",C=t.host||t.pathname&&t.pathname.charAt(0)==="/",k=C||E||n.host&&t.pathname,T=k,A=n.pathname&&n.pathname.split("/")||[],z=(g=t.pathname&&t.pathname.split("/")||[],n.protocol&&!Xo[n.protocol]);if(z&&(n.hostname="",n.port=null,n.host&&(A[0]===""?A[0]=n.host:A.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),k=k&&(g[0]===""||A[0]==="")),C)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,A=g;else if(g.length)A||(A=[]),A.pop(),A=A.concat(g),n.search=t.search,n.query=t.query;else if(!Zr.isNullOrUndefined(t.search))return z&&(n.hostname=n.host=A.shift(),(Q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=Q.shift(),n.host=n.hostname=Q.shift())),n.search=t.search,n.query=t.query,Zr.isNull(n.pathname)&&Zr.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!A.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var N=A.slice(-1)[0],M=(n.host||t.host||A.length>1)&&(N==="."||N==="..")||N==="",I=0,P=A.length;P>=0;P--)(N=A[P])==="."?A.splice(P,1):N===".."?(A.splice(P,1),I++):I&&(A.splice(P,1),I--);if(!k&&!T)for(;I--;I)A.unshift("..");!k||A[0]===""||A[0]&&A[0].charAt(0)==="/"||A.unshift(""),M&&A.join("/").substr(-1)!=="/"&&A.push("");var Q,ne=A[0]===""||A[0]&&A[0].charAt(0)==="/";return z&&(n.hostname=n.host=ne?"":A.length?A.shift():"",(Q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=Q.shift(),n.host=n.hostname=Q.shift())),(k=k||n.host&&A.length)&&!ne&&A.unshift(""),A.length?n.pathname=A.join("/"):(n.pathname=null,n.path=null),Zr.isNull(n.pathname)&&Zr.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},Wr.prototype.parseHost=function(){var t=this.host,e=ox.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},Yt.Url,Yt.format,Yt.resolve,Yt.resolveObject,Jd={},b_=!1,w_=kz(),fx=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Yt.URL=typeof URL<"u"?URL:null,Yt.pathToFileURL=Mz,Yt.fileURLToPath=Oz,Yt.Url,Yt.format,Yt.resolve,Yt.resolveObject,Yt.URL,EO=92,TO=47,xO=97,CO=122,Ih=fx==="win32",AO=/\//g,RO=/%/g,kO=/\\/g,OO=/\n/g,IO=/\r/g,NO=/\t/g,dx=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Yt.URL=typeof URL<"u"?URL:null,Yt.pathToFileURL=SO,Yt.fileURLToPath=wO,MO=Yt.Url,DO=Yt.format,PO=Yt.resolve,LO=Yt.resolveObject,jO=Yt.parse,UO=Yt.URL,BO=92,zO=47,FO=97,VO=122,Nh=dx==="win32",HO=/\//g,WO=/%/g,qO=/\\/g,$O=/\n/g,GO=/\r/g,YO=/\t/g}),jz=He((t,e)=>{ze(),Ve(),Fe(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Wb=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=void 0,t.writev=r;var e=Ca(),n=($n(),Zt(qn));function r(o,l){let c=new Array(o.length);for(let f=0;f<o.length;f++)typeof o[f].chunk=="string"?c[f]=n.Buffer.from(o[f].chunk,"utf8"):c[f]=o[f].chunk;this._write(n.Buffer.concat(c),"binary",l)}var s=class extends e.Duplex{constructor(o,l,c){super({objectMode:!0}),this.proxy=l,this.socket=c,this.writeQueue=[],o.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",f=>{!this.destroyed&&this.readable&&this.push(f)})}_read(o){this.proxy.read(o)}_write(o,l,c){this.isSocketOpen?this.writeToProxy(o,l,c):this.writeQueue.push({chunk:o,encoding:l,cb:c})}_final(o){this.writeQueue=[],this.proxy.end(o)}_destroy(o,l){this.writeQueue=[],this.proxy.destroy(),l(o)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(o,l,c){this.proxy.write(o,l)===!1?this.proxy.once("drain",c):c()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:o,encoding:l,cb:c}=this.writeQueue.shift();this.writeToProxy(o,l,c)}}};t.BufferedDuplex=s}),Nd=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var n=($n(),Zt(qn)),r=e(jz()),s=e(gs()),o=Ca(),l=e(vp()),c=Wb(),f=(0,s.default)("mqttjs:ws"),d=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function p(k,T){let A=`${k.protocol}://${k.hostname}:${k.port}${k.path}`;return typeof k.transformWsUrl=="function"&&(A=k.transformWsUrl(A,k,T)),A}function m(k){let T=k;return k.port||(k.protocol==="wss"?T.port=443:T.port=80),k.path||(T.path="/"),k.wsOptions||(T.wsOptions={}),!l.default&&!k.forceNativeWebSocket&&k.protocol==="wss"&&d.forEach(A=>{Object.prototype.hasOwnProperty.call(k,A)&&!Object.prototype.hasOwnProperty.call(k.wsOptions,A)&&(T.wsOptions[A]=k[A])}),T}function g(k){let T=m(k);if(T.hostname||(T.hostname=T.host),!T.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let A=new URL(document.URL);T.hostname=A.hostname,T.port||(T.port=Number(A.port))}return T.objectMode===void 0&&(T.objectMode=!(T.binary===!0||T.binary===void 0)),T}function y(k,T,A){f("createWebSocket"),f(`protocol: ${A.protocolId} ${A.protocolVersion}`);let z=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt";f(`creating new Websocket for url: ${T} and protocol: ${z}`);let N;return A.createWebsocket?N=A.createWebsocket(T,[z],A):N=new r.default(T,[z],A.wsOptions),N}function w(k,T){let A=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt",z=p(T,k),N;return T.createWebsocket?N=T.createWebsocket(z,[A],T):N=new WebSocket(z,[A]),N.binaryType="arraybuffer",N}var E=(k,T)=>{f("streamBuilder");let A=m(T);A.hostname=A.hostname||A.host||"localhost";let z=p(A,k),N=y(k,z,A),M=r.default.createWebSocketStream(N,A.wsOptions);return M.url=z,N.on("close",()=>{M.destroy()}),M};t.streamBuilder=E;var C=(k,T)=>{f("browserStreamBuilder");let A,z=g(T).browserBufferSize||1024*512,N=T.browserBufferTimeout||1e3,M=!T.objectMode,I=w(k,T),P=ne(T,H,D);T.objectMode||(P._writev=c.writev.bind(P)),P.on("close",()=>{I.close()});let Q=typeof I.addEventListener<"u";I.readyState===I.OPEN?(A=P,A.socket=I):(A=new c.BufferedDuplex(T,P,I),Q?I.addEventListener("open",se):I.onopen=se),Q?(I.addEventListener("close",L),I.addEventListener("error",ae),I.addEventListener("message",ie)):(I.onclose=L,I.onerror=ae,I.onmessage=ie);function ne(G,q,ye){let R=new o.Transform({objectMode:G.objectMode});return R._write=q,R._flush=ye,R}function se(){f("WebSocket onOpen"),A instanceof c.BufferedDuplex&&A.socketReady()}function L(G){f("WebSocket onClose",G),A.end(),A.destroy()}function ae(G){f("WebSocket onError",G);let q=new Error("WebSocket error");q.event=G,A.destroy(q)}async function ie(G){if(!P||P.destroyed||!P.readable)return;let{data:q}=G;q instanceof ArrayBuffer?q=n.Buffer.from(q):q instanceof Blob?q=n.Buffer.from(await new Response(q).arrayBuffer()):q=n.Buffer.from(q,"utf8"),P.push(q)}function H(G,q,ye){if(I.bufferedAmount>z){setTimeout(H,N,G,q,ye);return}M&&typeof G=="string"&&(G=n.Buffer.from(G,"utf8"));try{I.send(G)}catch(R){return ye(R)}ye()}function D(G){I.close(),G()}return A};t.browserStreamBuilder=C}),qb={};ec(qb,{Server:()=>hn,Socket:()=>hn,Stream:()=>hn,_createServerHandle:()=>hn,_normalizeArgs:()=>hn,_setSimultaneousAccepts:()=>hn,connect:()=>hn,createConnection:()=>hn,createServer:()=>hn,default:()=>KO,isIP:()=>hn,isIPv4:()=>hn,isIPv6:()=>hn});function hn(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var KO,QO=ar(()=>{ze(),Ve(),Fe(),KO={_createServerHandle:hn,_normalizeArgs:hn,_setSimultaneousAccepts:hn,connect:hn,createConnection:hn,createServer:hn,isIP:hn,isIPv4:hn,isIPv6:hn,Server:hn,Socket:hn,Stream:hn}}),ZO=He((t,e)=>{ze(),Ve(),Fe(),e.exports={}}),hx=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0});var n=e((QO(),Zt(qb))),r=e(gs()),s=e(ZO()),o=(0,r.default)("mqttjs:tcp"),l=(c,f)=>{if(f.port=f.port||1883,f.hostname=f.hostname||f.host||"localhost",f.socksProxy)return(0,s.default)(f.hostname,f.port,f.socksProxy,{timeout:f.socksTimeout});let{port:d,path:p}=f,m=f.hostname;return o("port %d and host %s",d,m),n.default.createConnection({port:d,host:m,path:p})};t.default=l}),XO={};ec(XO,{default:()=>JO});var JO,Uz=ar(()=>{ze(),Ve(),Fe(),JO={}}),px=He(t=>{ze(),Ve(),Fe();var e=t&&t.__rest||function(p,m){var g={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&m.indexOf(y)<0&&(g[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,y=Object.getOwnPropertySymbols(p);w<y.length;w++)m.indexOf(y[w])<0&&Object.prototype.propertyIsEnumerable.call(p,y[w])&&(g[y[w]]=p[y[w]]);return g},n=t&&t.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0});var r=n((Uz(),Zt(XO))),s=n((QO(),Zt(qb))),o=n(gs()),l=n(ZO()),c=(0,o.default)("mqttjs:tls");function f(p){let{host:m,port:g,socksProxy:y}=p,w=e(p,["host","port","socksProxy"]);return r.default.connect(y?Object.assign(Object.assign({},w),{socket:(0,l.default)(m,g,y,{timeout:p.socksTimeout})}):p)}var d=(p,m)=>{m.port=m.port||8883,m.host=m.hostname||m.host||"localhost",s.default.isIP(m.host)===0&&(m.servername=m.host),m.rejectUnauthorized=m.rejectUnauthorized!==!1,delete m.path,c("port %d host %s rejectUnauthorized %b",m.port,m.host,m.rejectUnauthorized);let g=f(m);g.on("secureConnect",()=>{m.rejectUnauthorized&&!g.authorized?g.emit("error",new Error("TLS not authorized")):g.removeListener("error",y)});function y(w){m.rejectUnauthorized&&p.emit("error",w),g.end()}return g.on("error",y),g};t.default=d}),mx=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=($n(),Zt(qn)),n=Ca(),r=Wb(),s,o,l;function c(){let g=new n.Transform;return g._write=(y,w,E)=>{s.send({data:y.buffer,success(){E()},fail(C){E(new Error(C))}})},g._flush=y=>{s.close({success(){y()}})},g}function f(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function d(g,y){let w=g.protocol==="wxs"?"wss":"ws",E=`${w}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(E=`${w}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(E=g.transformWsUrl(E,g,y)),E}function p(){s.onOpen(()=>{l.socketReady()}),s.onMessage(g=>{let{data:y}=g;y instanceof ArrayBuffer?y=e.Buffer.from(y):y=e.Buffer.from(y,"utf8"),o.push(y)}),s.onClose(()=>{l.emit("close"),l.end(),l.destroy()}),s.onError(g=>{let y=new Error(g.errMsg);l.destroy(y)})}var m=(g,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let w=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";f(y);let E=d(y,g);s=wx.connectSocket({url:E,protocols:[w]}),o=c(),l=new r.BufferedDuplex(y,o,s),l._destroy=(k,T)=>{s.close({success(){T&&T(k)}})};let C=l.destroy;return l.destroy=(k,T)=>(l.destroy=C,setTimeout(()=>{s.close({fail(){l._destroy(k,T)}})},0),l),p(),l};t.default=m}),gx=He(t=>{ze(),Ve(),Fe(),Object.defineProperty(t,"__esModule",{value:!0});var e=($n(),Zt(qn)),n=Ca(),r=Wb(),s,o,l,c=!1;function f(){let y=new n.Transform;return y._write=(w,E,C)=>{s.sendSocketMessage({data:w.buffer,success(){C()},fail(){C(new Error)}})},y._flush=w=>{s.closeSocket({success(){w()}})},y}function d(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function p(y,w){let E=y.protocol==="alis"?"wss":"ws",C=`${E}://${y.hostname}${y.path}`;return y.port&&y.port!==80&&y.port!==443&&(C=`${E}://${y.hostname}:${y.port}${y.path}`),typeof y.transformWsUrl=="function"&&(C=y.transformWsUrl(C,y,w)),C}function m(){c||(c=!0,s.onSocketOpen(()=>{l.socketReady()}),s.onSocketMessage(y=>{if(typeof y.data=="string"){let w=e.Buffer.from(y.data,"base64");o.push(w)}else{let w=new FileReader;w.addEventListener("load",()=>{let E=w.result;E instanceof ArrayBuffer?E=e.Buffer.from(E):E=e.Buffer.from(E,"utf8"),o.push(E)}),w.readAsArrayBuffer(y.data)}}),s.onSocketClose(()=>{l.end(),l.destroy()}),s.onSocketError(y=>{l.destroy(y)}))}var g=(y,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let E=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";d(w);let C=p(w,y);return s=w.my,s.connectSocket({url:C,protocols:E}),o=f(),l=new r.BufferedDuplex(w,o,s),m(),l};t.default=g}),Bz=He(t=>{ze(),Ve(),Fe();var e=t&&t.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=p;var n=e(gs()),r=e((Lz(),Zt(bO))),s=e(h_()),o=e(vp());typeof(Lt==null?void 0:Lt.nextTick)!="function"&&(Lt.nextTick=setImmediate);var l=(0,n.default)("mqttjs"),c=null;function f(m){let g;m.auth&&(g=m.auth.match(/^(.+):(.+)$/),g?(m.username=g[1],m.password=g[2]):m.username=m.auth)}function d(m,g){var y,w,E;if(l("connecting to an MQTT broker..."),typeof m=="object"&&!g&&(g=m,m=""),g=g||{},m&&typeof m=="string"){let T=r.default.parse(m,!0),A={};if(T.port!=null&&(A.port=Number(T.port)),A.host=T.hostname,A.query=T.query,A.auth=T.auth,A.protocol=T.protocol,A.path=T.path,g=Object.assign(Object.assign({},A),g),!g.protocol)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(g.unixSocket=g.unixSocket||((y=g.protocol)===null||y===void 0?void 0:y.includes("+unix")),g.unixSocket?g.protocol=g.protocol.replace("+unix",""):!(!((w=g.protocol)===null||w===void 0)&&w.startsWith("ws"))&&!(!((E=g.protocol)===null||E===void 0)&&E.startsWith("wx"))&&delete g.path,f(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),o.default||g.unixSocket?g.socksProxy=void 0:g.socksProxy===void 0&&typeof Lt<"u"&&(g.socksProxy=Lt.env.MQTTJS_SOCKS_PROXY),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(c||(c={},!o.default&&!g.forceNativeWebSocket?(c.ws=Nd().streamBuilder,c.wss=Nd().streamBuilder,c.mqtt=hx().default,c.tcp=hx().default,c.ssl=px().default,c.tls=c.ssl,c.mqtts=px().default):(c.ws=Nd().browserStreamBuilder,c.wss=Nd().browserStreamBuilder,c.wx=mx().default,c.wxs=mx().default,c.ali=gx().default,c.alis=gx().default)),!c[g.protocol]){let T=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((A,z)=>T&&z%2===0?!1:typeof c[A]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function C(T){return g.servers&&((!T._reconnectCount||T._reconnectCount===g.servers.length)&&(T._reconnectCount=0),g.host=g.servers[T._reconnectCount].host,g.port=g.servers[T._reconnectCount].port,g.protocol=g.servers[T._reconnectCount].protocol?g.servers[T._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,T._reconnectCount++),l("calling streambuilder for",g.protocol),c[g.protocol](T,g)}let k=new s.default(C,g);return k.on("error",()=>{}),k}function p(m,g,y=!0){return new Promise((w,E)=>{let C=d(m,g),k={connect:A=>{T(),w(C)},end:()=>{T(),w(C)},error:A=>{T(),C.end(),E(A)}};y===!1&&(k.close=()=>{k.error(new Error("Couldn't connect to server"))});function T(){Object.keys(k).forEach(A=>{C.off(A,k[A])})}Object.keys(k).forEach(A=>{C.on(A,k[A])})})}t.default=d}),vx=He(t=>{ze(),Ve(),Fe();var e=t&&t.__createBinding||(Object.create?function(y,w,E,C){C===void 0&&(C=E);var k=Object.getOwnPropertyDescriptor(w,E);(!k||("get"in k?!w.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(y,C,k)}:function(y,w,E,C){C===void 0&&(C=E),y[C]=w[E]}),n=t&&t.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),r=t&&t.__importStar||function(){var y=function(w){return y=Object.getOwnPropertyNames||function(E){var C=[];for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(C[C.length]=k);return C},y(w)};return function(w){if(w&&w.__esModule)return w;var E={};if(w!=null)for(var C=y(w),k=0;k<C.length;k++)C[k]!=="default"&&e(E,w,C[k]);return n(E,w),E}}(),s=t&&t.__exportStar||function(y,w){for(var E in y)E!=="default"&&!Object.prototype.hasOwnProperty.call(w,E)&&e(w,y,E)},o=t&&t.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var l=o(h_());t.MqttClient=l.default;var c=o(Qk());t.DefaultMessageIdProvider=c.default;var f=o(bz());t.UniqueMessageIdProvider=f.default;var d=o(Zk());t.Store=d.default;var p=r(Bz());t.connect=p.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return p.connectAsync}});var m=o(pO());t.KeepaliveManager=m.default,t.Client=l.default,s(h_(),t),s(nc(),t);var g=gp();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return g.ReasonCodes}})}),zz=He(t=>{ze(),Ve(),Fe();var e=t&&t.__createBinding||(Object.create?function(l,c,f,d){d===void 0&&(d=f);var p=Object.getOwnPropertyDescriptor(c,f);(!p||("get"in p?!c.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,d,p)}:function(l,c,f,d){d===void 0&&(d=f),l[d]=c[f]}),n=t&&t.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),r=t&&t.__importStar||function(){var l=function(c){return l=Object.getOwnPropertyNames||function(f){var d=[];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[d.length]=p);return d},l(c)};return function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d=l(c),p=0;p<d.length;p++)d[p]!=="default"&&e(f,c,d[p]);return n(f,c),f}}(),s=t&&t.__exportStar||function(l,c){for(var f in l)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&e(c,l,f)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(vx());t.default=o,s(vx(),t)});const eI=zz();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const Fz=async()=>navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["6e400001-b5a3-f393-e0a9-e50e24dcca9e","6e400002-b5a3-f393-e0a9-e50e24dcca9e","6e400003-b5a3-f393-e0a9-e50e24dcca9e"]}).then(async t=>(console.log("Connecting to Bluetooth device:",t),t.removeEventListener("gattserverdisconnected",()=>{Mh(t)}),t.addEventListener("gattserverdisconnected",()=>{Mh(t)}),mo.set(li,e=>({...e,isConnected:!0,device:t})),t)),Vz=async()=>{if(await yp({action:"SYNC"})==="ACK")return!0;throw new Error("Device verification failed")},Mh=async t=>{var e;if(t||(t=mo.get(li).device),typeof t=="string"){console.warn("Device is a string, not a BluetoothDevice instance");return}(e=t==null?void 0:t.gatt)!=null&&e.connected&&t.gatt.disconnect(),mo.set(li,n=>({...n,isConnected:!1,device:null}))},yp=t=>{const{device:e}=mo.get(li);return new Promise(async(n,r)=>{if(!e){r(new Error("No device connected"));return}if(typeof e=="string"){const s={clientId:"react_mqtt_"+Math.random().toString(16).substr(2,8),protocol:"wss",port:8884},o=eI.connect("wss://broker.hivemq.com:8884/mqtt",s);o.on("connect",()=>{console.log("MQTT Client Connected"),o.subscribe(`doser_to_client/${e}`,l=>{if(l){r(l);return}typeof t=="object"&&(t=JSON.stringify(t)),o.publish(`client_to_doser/${e}`,t,{},c=>{if(c){r(c);return}o.on("message",(f,d)=>{if(f===`doser_to_client/${e}`){const p=d.toString();o.end(),n(p)}})})})})}else try{let s,o=null;const l=(g=!1)=>{clearTimeout(s),!g&&(s=setTimeout(async()=>{r({message:"Timeout"}),m.removeEventListener("characteristicvaluechanged",c)},3e3))},c=g=>{if(g.target===null)return;const y=g.target.value,w=new TextDecoder("UTF-8").decode(y);w==="START"?(l(),o=[]):Array.isArray(o)?w==="END"?(l(!0),n(o.join(""))):(l(),o.push(w)):(l(!0),n(w))};if(!e.gatt){r(new Error("Device not connected"));return}const d=await(await e.gatt.connect()).getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e"),p=await d.getCharacteristic("6e400002-b5a3-f393-e0a9-e50e24dcca9e"),m=await d.getCharacteristic("6e400003-b5a3-f393-e0a9-e50e24dcca9e");if(l(),m.properties.notify&&(await m.startNotifications(),m.addEventListener("characteristicvaluechanged",c)),typeof t=="object"&&(t=JSON.stringify(t)),t.length>10){const g=t.match(/.{1,10}/g);if(!g){r(new Error("Message is too short"));return}for await(let y of g)y!==g[g.length-1]&&(y+="&"),await p.writeValueWithResponse(new TextEncoder().encode(y))}else{const g=new TextEncoder().encode(t);await p.writeValueWithResponse(g)}}catch(s){r(s)}})},_p=t=>{const[e,n]=V.useState(mo.get(t));return V.useEffect(()=>mo.sub(t,()=>{const s=mo.get(t);n(s)}),[t]),e};function Hz(t){return fi({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"},child:[]}]})(t)}function S_(t,[e,n]){return Math.min(n,Math.max(e,t))}function jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Wz(t,e){const n=V.createContext(e),r=o=>{const{children:l,...c}=o,f=V.useMemo(()=>c,Object.values(c));return W.jsx(n.Provider,{value:f,children:l})};r.displayName=t+"Provider";function s(o){const l=V.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function af(t,e=[]){let n=[];function r(o,l){const c=V.createContext(l),f=n.length;n=[...n,l];const d=m=>{var k;const{scope:g,children:y,...w}=m,E=((k=g==null?void 0:g[t])==null?void 0:k[f])||c,C=V.useMemo(()=>w,Object.values(w));return W.jsx(E.Provider,{value:C,children:y})};d.displayName=o+"Provider";function p(m,g){var E;const y=((E=g==null?void 0:g[t])==null?void 0:E[f])||c,w=V.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,p]}const s=()=>{const o=n.map(l=>V.createContext(l));return function(c){const f=(c==null?void 0:c[t])||o;return V.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return s.scopeName=t,[r,qz(s,...e)]}function qz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:f,scopeName:d})=>{const m=f(o)[`__scope${d}`];return{...c,...m}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function $z(t){const e=t+"CollectionProvider",[n,r]=af(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:C,children:k}=E,T=Pe.useRef(null),A=Pe.useRef(new Map).current;return W.jsx(s,{scope:C,itemMap:A,collectionRef:T,children:k})};l.displayName=e;const c=t+"CollectionSlot",f=Pl(c),d=Pe.forwardRef((E,C)=>{const{scope:k,children:T}=E,A=o(c,k),z=tn(C,A.collectionRef);return W.jsx(f,{ref:z,children:T})});d.displayName=c;const p=t+"CollectionItemSlot",m="data-radix-collection-item",g=Pl(p),y=Pe.forwardRef((E,C)=>{const{scope:k,children:T,...A}=E,z=Pe.useRef(null),N=tn(C,z),M=o(p,k);return Pe.useEffect(()=>(M.itemMap.set(z,{ref:z,...A}),()=>void M.itemMap.delete(z))),W.jsx(g,{[m]:"",ref:N,children:T})});y.displayName=p;function w(E){const C=o(t+"CollectionConsumer",E);return Pe.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((M,I)=>A.indexOf(M.ref.current)-A.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:d,ItemSlot:y},w,r]}var Gz=V.createContext(void 0);function tI(t){const e=V.useContext(Gz);return t||e||"ltr"}function mr(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t}),V.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Yz(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t);V.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Kz="DismissableLayer",E_="dismissableLayer.update",Qz="dismissableLayer.pointerDownOutside",Zz="dismissableLayer.focusOutside",yx,nI=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$b=V.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...f}=t,d=V.useContext(nI),[p,m]=V.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=V.useState({}),w=tn(e,I=>m(I)),E=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),k=E.indexOf(C),T=p?E.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,z=T>=k,N=e9(I=>{const P=I.target,Q=[...d.branches].some(ne=>ne.contains(P));!z||Q||(s==null||s(I),l==null||l(I),I.defaultPrevented||c==null||c())},g),M=t9(I=>{const P=I.target;[...d.branches].some(ne=>ne.contains(P))||(o==null||o(I),l==null||l(I),I.defaultPrevented||c==null||c())},g);return Yz(I=>{T===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&c&&(I.preventDefault(),c()))},g),V.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yx=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),_x(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=yx)}},[p,g,n,d]),V.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),_x())},[p,d]),V.useEffect(()=>{const I=()=>y({});return document.addEventListener(E_,I),()=>document.removeEventListener(E_,I)},[]),W.jsx(Mt.div,{...f,ref:w,style:{pointerEvents:A?z?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,N.onPointerDownCapture)})});$b.displayName=Kz;var Xz="DismissableLayerBranch",Jz=V.forwardRef((t,e)=>{const n=V.useContext(nI),r=V.useRef(null),s=tn(e,r);return V.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),W.jsx(Mt.div,{...t,ref:s})});Jz.displayName=Xz;function e9(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=V.useRef(!1),s=V.useRef(()=>{});return V.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){rI(Qz,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function t9(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=V.useRef(!1);return V.useEffect(()=>{const s=o=>{o.target&&!r.current&&rI(Zz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _x(){const t=new CustomEvent(E_);document.dispatchEvent(t)}function rI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?u8(s,o):s.dispatchEvent(o)}var wv=0;function iI(){V.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bx()),document.body.insertAdjacentElement("beforeend",t[1]??bx()),wv++,()=>{wv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wv--}},[])}function bx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sv="focusScope.autoFocusOnMount",Ev="focusScope.autoFocusOnUnmount",Sx={bubbles:!1,cancelable:!0},n9="FocusScope",Gb=V.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[c,f]=V.useState(null),d=mr(s),p=mr(o),m=V.useRef(null),g=tn(e,E=>f(E)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let E=function(A){if(y.paused||!c)return;const z=A.target;c.contains(z)?m.current=z:eo(m.current,{select:!0})},C=function(A){if(y.paused||!c)return;const z=A.relatedTarget;z!==null&&(c.contains(z)||eo(m.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const N of A)N.removedNodes.length>0&&eo(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const T=new MutationObserver(k);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),T.disconnect()}}},[r,c,y.paused]),V.useEffect(()=>{if(c){Tx.add(y);const E=document.activeElement;if(!c.contains(E)){const k=new CustomEvent(Sv,Sx);c.addEventListener(Sv,d),c.dispatchEvent(k),k.defaultPrevented||(r9(l9(sI(c)),{select:!0}),document.activeElement===E&&eo(c))}return()=>{c.removeEventListener(Sv,d),setTimeout(()=>{const k=new CustomEvent(Ev,Sx);c.addEventListener(Ev,p),c.dispatchEvent(k),k.defaultPrevented||eo(E??document.body,{select:!0}),c.removeEventListener(Ev,p),Tx.remove(y)},0)}}},[c,d,p,y]);const w=V.useCallback(E=>{if(!n&&!r||y.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,k=document.activeElement;if(C&&k){const T=E.currentTarget,[A,z]=i9(T);A&&z?!E.shiftKey&&k===z?(E.preventDefault(),n&&eo(A,{select:!0})):E.shiftKey&&k===A&&(E.preventDefault(),n&&eo(z,{select:!0})):k===T&&E.preventDefault()}},[n,r,y.paused]);return W.jsx(Mt.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Gb.displayName=n9;function r9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(eo(r,{select:e}),document.activeElement!==n)return}function i9(t){const e=sI(t),n=Ex(e,t),r=Ex(e.reverse(),t);return[n,r]}function sI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ex(t,e){for(const n of t)if(!s9(n,{upTo:e}))return n}function s9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function o9(t){return t instanceof HTMLInputElement&&"select"in t}function eo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&o9(t)&&e&&t.select()}}var Tx=a9();function a9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=xx(t,e),t.unshift(e)},remove(e){var n;t=xx(t,e),(n=t[0])==null||n.resume()}}}function xx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function l9(t){return t.filter(e=>e.tagName!=="A")}var Zn=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},c9=TC[" useId ".trim().toString()]||(()=>{}),u9=0;function xl(t){const[e,n]=V.useState(c9());return Zn(()=>{n(r=>r??String(u9++))},[t]),t||(e?`radix-${e}`:"")}const f9=["top","right","bottom","left"],bo=Math.min,Ir=Math.max,Dh=Math.round,Md=Math.floor,Oi=t=>({x:t,y:t}),d9={left:"right",right:"left",bottom:"top",top:"bottom"},h9={start:"end",end:"start"};function T_(t,e,n){return Ir(t,bo(e,n))}function vs(t,e){return typeof t=="function"?t(e):t}function ys(t){return t.split("-")[0]}function rc(t){return t.split("-")[1]}function Yb(t){return t==="x"?"y":"x"}function Kb(t){return t==="y"?"height":"width"}function fs(t){return["top","bottom"].includes(ys(t))?"y":"x"}function Qb(t){return Yb(fs(t))}function p9(t,e,n){n===void 0&&(n=!1);const r=rc(t),s=Qb(t),o=Kb(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Ph(l)),[l,Ph(l)]}function m9(t){const e=Ph(t);return[x_(t),e,x_(e)]}function x_(t){return t.replace(/start|end/g,e=>h9[e])}function g9(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function v9(t,e,n,r){const s=rc(t);let o=g9(ys(t),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(x_)))),o}function Ph(t){return t.replace(/left|right|bottom|top/g,e=>d9[e])}function y9(t){return{top:0,right:0,bottom:0,left:0,...t}}function oI(t){return typeof t!="number"?y9(t):{top:t,right:t,bottom:t,left:t}}function Lh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Cx(t,e,n){let{reference:r,floating:s}=t;const o=fs(e),l=Qb(e),c=Kb(l),f=ys(e),d=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,g=r[c]/2-s[c]/2;let y;switch(f){case"top":y={x:p,y:r.y-s.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(rc(e)){case"start":y[l]-=g*(n&&d?-1:1);break;case"end":y[l]+=g*(n&&d?-1:1);break}return y}const _9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:m}=Cx(d,r,f),g=r,y={},w=0;for(let E=0;E<c.length;E++){const{name:C,fn:k}=c[E],{x:T,y:A,data:z,reset:N}=await k({x:p,y:m,initialPlacement:r,placement:g,strategy:s,middlewareData:y,rects:d,platform:l,elements:{reference:t,floating:e}});p=T??p,m=A??m,y={...y,[C]:{...y[C],...z}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(d=N.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:p,y:m}=Cx(d,g,f)),E=-1)}return{x:p,y:m,placement:g,strategy:s,middlewareData:y}};async function Vu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=vs(e,t),w=oI(y),C=c[g?m==="floating"?"reference":"floating":m],k=Lh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:f})),T=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),z=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},N=Lh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:A,strategy:f}):T);return{top:(k.top-N.top+w.top)/z.y,bottom:(N.bottom-k.bottom+w.bottom)/z.y,left:(k.left-N.left+w.left)/z.x,right:(N.right-k.right+w.right)/z.x}}const b9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:l,elements:c,middlewareData:f}=e,{element:d,padding:p=0}=vs(t,e)||{};if(d==null)return{};const m=oI(p),g={x:n,y:r},y=Qb(s),w=Kb(y),E=await l.getDimensions(d),C=y==="y",k=C?"top":"left",T=C?"bottom":"right",A=C?"clientHeight":"clientWidth",z=o.reference[w]+o.reference[y]-g[y]-o.floating[w],N=g[y]-o.reference[y],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let I=M?M[A]:0;(!I||!await(l.isElement==null?void 0:l.isElement(M)))&&(I=c.floating[A]||o.floating[w]);const P=z/2-N/2,Q=I/2-E[w]/2-1,ne=bo(m[k],Q),se=bo(m[T],Q),L=ne,ae=I-E[w]-se,ie=I/2-E[w]/2+P,H=T_(L,ie,ae),D=!f.arrow&&rc(s)!=null&&ie!==H&&o.reference[w]/2-(ie<L?ne:se)-E[w]/2<0,G=D?ie<L?ie-L:ie-ae:0;return{[y]:g[y]+G,data:{[y]:H,centerOffset:ie-H-G,...D&&{alignmentOffset:G}},reset:D}}}),w9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...C}=vs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=ys(s),T=fs(c),A=ys(c)===c,z=await(f.isRTL==null?void 0:f.isRTL(d.floating)),N=g||(A||!E?[Ph(c)]:m9(c)),M=w!=="none";!g&&M&&N.push(...v9(c,E,w,z));const I=[c,...N],P=await Vu(e,C),Q=[];let ne=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&Q.push(P[k]),m){const H=p9(s,l,z);Q.push(P[H[0]],P[H[1]])}if(ne=[...ne,{placement:s,overflows:Q}],!Q.every(H=>H<=0)){var se,L;const H=(((se=o.flip)==null?void 0:se.index)||0)+1,D=I[H];if(D){var ae;const q=m==="alignment"?T!==fs(D):!1,ye=((ae=ne[0])==null?void 0:ae.overflows[0])>0;if(!q||ye)return{data:{index:H,overflows:ne},reset:{placement:D}}}let G=(L=ne.filter(q=>q.overflows[0]<=0).sort((q,ye)=>q.overflows[1]-ye.overflows[1])[0])==null?void 0:L.placement;if(!G)switch(y){case"bestFit":{var ie;const q=(ie=ne.filter(ye=>{if(M){const R=fs(ye.placement);return R===T||R==="y"}return!0}).map(ye=>[ye.placement,ye.overflows.filter(R=>R>0).reduce((R,Z)=>R+Z,0)]).sort((ye,R)=>ye[1]-R[1])[0])==null?void 0:ie[0];q&&(G=q);break}case"initialPlacement":G=c;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function Ax(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Rx(t){return f9.some(e=>t[e]>=0)}const S9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vs(t,e);switch(r){case"referenceHidden":{const o=await Vu(e,{...s,elementContext:"reference"}),l=Ax(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Rx(l)}}}case"escaped":{const o=await Vu(e,{...s,altBoundary:!0}),l=Ax(o,n.floating);return{data:{escapedOffsets:l,escaped:Rx(l)}}}default:return{}}}}};async function E9(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=ys(n),c=rc(n),f=fs(n)==="y",d=["left","top"].includes(l)?-1:1,p=o&&f?-1:1,m=vs(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),f?{x:y*p,y:g*d}:{x:g*d,y:y*p}}const T9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=e,f=await E9(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},x9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:k,y:T}=C;return{x:k,y:T}}},...f}=vs(t,e),d={x:n,y:r},p=await Vu(e,f),m=fs(ys(s)),g=Yb(m);let y=d[g],w=d[m];if(o){const C=g==="y"?"top":"left",k=g==="y"?"bottom":"right",T=y+p[C],A=y-p[k];y=T_(T,y,A)}if(l){const C=m==="y"?"top":"left",k=m==="y"?"bottom":"right",T=w+p[C],A=w-p[k];w=T_(T,w,A)}const E=c.fn({...e,[g]:y,[m]:w});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[g]:o,[m]:l}}}}}},C9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:d=!0}=vs(t,e),p={x:n,y:r},m=fs(s),g=Yb(m);let y=p[g],w=p[m];const E=vs(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const A=g==="y"?"height":"width",z=o.reference[g]-o.floating[A]+C.mainAxis,N=o.reference[g]+o.reference[A]-C.mainAxis;y<z?y=z:y>N&&(y=N)}if(d){var k,T;const A=g==="y"?"width":"height",z=["top","left"].includes(ys(s)),N=o.reference[m]-o.floating[A]+(z&&((k=l.offset)==null?void 0:k[m])||0)+(z?0:C.crossAxis),M=o.reference[m]+o.reference[A]+(z?0:((T=l.offset)==null?void 0:T[m])||0)-(z?C.crossAxis:0);w<N?w=N:w>M&&(w=M)}return{[g]:y,[m]:w}}}},A9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:f=()=>{},...d}=vs(t,e),p=await Vu(e,d),m=ys(s),g=rc(s),y=fs(s)==="y",{width:w,height:E}=o.floating;let C,k;m==="top"||m==="bottom"?(C=m,k=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=m,C=g==="end"?"top":"bottom");const T=E-p.top-p.bottom,A=w-p.left-p.right,z=bo(E-p[C],T),N=bo(w-p[k],A),M=!e.middlewareData.shift;let I=z,P=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=T),M&&!g){const ne=Ir(p.left,0),se=Ir(p.right,0),L=Ir(p.top,0),ae=Ir(p.bottom,0);y?P=w-2*(ne!==0||se!==0?ne+se:Ir(p.left,p.right)):I=E-2*(L!==0||ae!==0?L+ae:Ir(p.top,p.bottom))}await f({...e,availableWidth:P,availableHeight:I});const Q=await l.getDimensions(c.floating);return w!==Q.width||E!==Q.height?{reset:{rects:!0}}:{}}}};function bp(){return typeof window<"u"}function ic(t){return aI(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Di(t){var e;return(e=(aI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aI(t){return bp()?t instanceof Node||t instanceof Nr(t).Node:!1}function ci(t){return bp()?t instanceof Element||t instanceof Nr(t).Element:!1}function Mi(t){return bp()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function kx(t){return!bp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}function lf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function R9(t){return["table","td","th"].includes(ic(t))}function wp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zb(t){const e=Xb(),n=ci(t)?ui(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function k9(t){let e=wo(t);for(;Mi(e)&&!Ll(e);){if(Zb(e))return e;if(wp(e))return null;e=wo(e)}return null}function Xb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ll(t){return["html","body","#document"].includes(ic(t))}function ui(t){return Nr(t).getComputedStyle(t)}function Sp(t){return ci(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wo(t){if(ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kx(t)&&t.host||Di(t);return kx(e)?e.host:e}function lI(t){const e=wo(t);return Ll(e)?t.ownerDocument?t.ownerDocument.body:t.body:Mi(e)&&lf(e)?e:lI(e)}function Hu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lI(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),l=Nr(s);if(o){const c=C_(l);return e.concat(l,l.visualViewport||[],lf(s)?s:[],c&&n?Hu(c):[])}return e.concat(s,Hu(s,[],n))}function C_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cI(t){const e=ui(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Mi(t),o=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=Dh(n)!==o||Dh(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Jb(t){return ci(t)?t:t.contextElement}function Cl(t){const e=Jb(t);if(!Mi(e))return Oi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=cI(e);let l=(o?Dh(n.width):n.width)/r,c=(o?Dh(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const O9=Oi(0);function uI(t){const e=Nr(t);return!Xb()||!e.visualViewport?O9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nr(t)?!1:e}function ga(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Jb(t);let l=Oi(1);e&&(r?ci(r)&&(l=Cl(r)):l=Cl(t));const c=I9(o,n,r)?uI(o):Oi(0);let f=(s.left+c.x)/l.x,d=(s.top+c.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const g=Nr(o),y=r&&ci(r)?Nr(r):r;let w=g,E=C_(w);for(;E&&r&&y!==w;){const C=Cl(E),k=E.getBoundingClientRect(),T=ui(E),A=k.left+(E.clientLeft+parseFloat(T.paddingLeft))*C.x,z=k.top+(E.clientTop+parseFloat(T.paddingTop))*C.y;f*=C.x,d*=C.y,p*=C.x,m*=C.y,f+=A,d+=z,w=Nr(E),E=C_(w)}}return Lh({width:p,height:m,x:f,y:d})}function e0(t,e){const n=Sp(t).scrollLeft;return e?e.left+n:ga(Di(t)).left+n}function fI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:e0(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function N9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",l=Di(r),c=e?wp(e.floating):!1;if(r===l||c&&o)return n;let f={scrollLeft:0,scrollTop:0},d=Oi(1);const p=Oi(0),m=Mi(r);if((m||!m&&!o)&&((ic(r)!=="body"||lf(l))&&(f=Sp(r)),Mi(r))){const y=ga(r);d=Cl(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const g=l&&!m&&!o?fI(l,f,!0):Oi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+p.x+g.x,y:n.y*d.y-f.scrollTop*d.y+p.y+g.y}}function M9(t){return Array.from(t.getClientRects())}function D9(t){const e=Di(t),n=Sp(t),r=t.ownerDocument.body,s=Ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+e0(t);const c=-n.scrollTop;return ui(r).direction==="rtl"&&(l+=Ir(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}function P9(t,e){const n=Nr(t),r=Di(t),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){o=s.width,l=s.height;const d=Xb();(!d||d&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:c,y:f}}function L9(t,e){const n=ga(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Mi(t)?Cl(t):Oi(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,f=s*o.x,d=r*o.y;return{width:l,height:c,x:f,y:d}}function Ox(t,e,n){let r;if(e==="viewport")r=P9(t,n);else if(e==="document")r=D9(Di(t));else if(ci(e))r=L9(e,n);else{const s=uI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Lh(r)}function dI(t,e){const n=wo(t);return n===e||!ci(n)||Ll(n)?!1:ui(n).position==="fixed"||dI(n,e)}function j9(t,e){const n=e.get(t);if(n)return n;let r=Hu(t,[],!1).filter(c=>ci(c)&&ic(c)!=="body"),s=null;const o=ui(t).position==="fixed";let l=o?wo(t):t;for(;ci(l)&&!Ll(l);){const c=ui(l),f=Zb(l);!f&&c.position==="fixed"&&(s=null),(o?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||lf(l)&&!f&&dI(t,l))?r=r.filter(p=>p!==l):s=c,l=wo(l)}return e.set(t,r),r}function U9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?wp(e)?[]:j9(e,this._c):[].concat(n),r],c=l[0],f=l.reduce((d,p)=>{const m=Ox(e,p,s);return d.top=Ir(m.top,d.top),d.right=bo(m.right,d.right),d.bottom=bo(m.bottom,d.bottom),d.left=Ir(m.left,d.left),d},Ox(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function B9(t){const{width:e,height:n}=cI(t);return{width:e,height:n}}function z9(t,e,n){const r=Mi(e),s=Di(e),o=n==="fixed",l=ga(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=Oi(0);function d(){f.x=e0(s)}if(r||!r&&!o)if((ic(e)!=="body"||lf(s))&&(c=Sp(e)),r){const y=ga(e,!0,o,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else s&&d();o&&!r&&s&&d();const p=s&&!r&&!o?fI(s,c):Oi(0),m=l.left+c.scrollLeft-f.x-p.x,g=l.top+c.scrollTop-f.y-p.y;return{x:m,y:g,width:l.width,height:l.height}}function Tv(t){return ui(t).position==="static"}function Ix(t,e){if(!Mi(t)||ui(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Di(t)===n&&(n=n.ownerDocument.body),n}function hI(t,e){const n=Nr(t);if(wp(t))return n;if(!Mi(t)){let s=wo(t);for(;s&&!Ll(s);){if(ci(s)&&!Tv(s))return s;s=wo(s)}return n}let r=Ix(t,e);for(;r&&R9(r)&&Tv(r);)r=Ix(r,e);return r&&Ll(r)&&Tv(r)&&!Zb(r)?n:r||k9(t)||n}const F9=async function(t){const e=this.getOffsetParent||hI,n=this.getDimensions,r=await n(t.floating);return{reference:z9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function V9(t){return ui(t).direction==="rtl"}const H9={convertOffsetParentRelativeRectToViewportRelativeRect:N9,getDocumentElement:Di,getClippingRect:U9,getOffsetParent:hI,getElementRects:F9,getClientRects:M9,getDimensions:B9,getScale:Cl,isElement:ci,isRTL:V9};function pI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function W9(t,e){let n=null,r;const s=Di(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const d=t.getBoundingClientRect(),{left:p,top:m,width:g,height:y}=d;if(c||e(),!g||!y)return;const w=Md(m),E=Md(s.clientWidth-(p+g)),C=Md(s.clientHeight-(m+y)),k=Md(p),A={rootMargin:-w+"px "+-E+"px "+-C+"px "+-k+"px",threshold:Ir(0,bo(1,f))||1};let z=!0;function N(M){const I=M[0].intersectionRatio;if(I!==f){if(!z)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!pI(d,t.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver(N,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,A)}n.observe(t)}return l(!0),o}function q9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=Jb(t),p=s||o?[...d?Hu(d):[],...Hu(e)]:[];p.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const m=d&&c?W9(d,n):null;let g=-1,y=null;l&&(y=new ResizeObserver(k=>{let[T]=k;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),d&&!f&&y.observe(d),y.observe(e));let w,E=f?ga(t):null;f&&C();function C(){const k=ga(t);E&&!pI(E,k)&&n(),E=k,w=requestAnimationFrame(C)}return n(),()=>{var k;p.forEach(T=>{s&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),m==null||m(),(k=y)==null||k.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const $9=T9,G9=x9,Y9=w9,K9=A9,Q9=S9,Nx=b9,Z9=C9,X9=(t,e,n)=>{const r=new Map,s={platform:H9,...n},o={...s.platform,_c:r};return _9(t,e,{...s,platform:o})};var eh=typeof document<"u"?V.useLayoutEffect:V.useEffect;function jh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!jh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function mI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Mx(t,e){const n=mI(t);return Math.round(e*n)/n}function xv(t){const e=V.useRef(t);return eh(()=>{e.current=t}),e}function J9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:f,open:d}=t,[p,m]=V.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=V.useState(r);jh(g,r)||y(r);const[w,E]=V.useState(null),[C,k]=V.useState(null),T=V.useCallback(q=>{q!==M.current&&(M.current=q,E(q))},[]),A=V.useCallback(q=>{q!==I.current&&(I.current=q,k(q))},[]),z=o||w,N=l||C,M=V.useRef(null),I=V.useRef(null),P=V.useRef(p),Q=f!=null,ne=xv(f),se=xv(s),L=xv(d),ae=V.useCallback(()=>{if(!M.current||!I.current)return;const q={placement:e,strategy:n,middleware:g};se.current&&(q.platform=se.current),X9(M.current,I.current,q).then(ye=>{const R={...ye,isPositioned:L.current!==!1};ie.current&&!jh(P.current,R)&&(P.current=R,sf.flushSync(()=>{m(R)}))})},[g,e,n,se,L]);eh(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[d]);const ie=V.useRef(!1);eh(()=>(ie.current=!0,()=>{ie.current=!1}),[]),eh(()=>{if(z&&(M.current=z),N&&(I.current=N),z&&N){if(ne.current)return ne.current(z,N,ae);ae()}},[z,N,ae,ne,Q]);const H=V.useMemo(()=>({reference:M,floating:I,setReference:T,setFloating:A}),[T,A]),D=V.useMemo(()=>({reference:z,floating:N}),[z,N]),G=V.useMemo(()=>{const q={position:n,left:0,top:0};if(!D.floating)return q;const ye=Mx(D.floating,p.x),R=Mx(D.floating,p.y);return c?{...q,transform:"translate("+ye+"px, "+R+"px)",...mI(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:R}},[n,c,D.floating,p.x,p.y]);return V.useMemo(()=>({...p,update:ae,refs:H,elements:D,floatingStyles:G}),[p,ae,H,D,G])}const eF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Nx({element:r.current,padding:s}).fn(n):{}:r?Nx({element:r,padding:s}).fn(n):{}}}},tF=(t,e)=>({...$9(t),options:[t,e]}),nF=(t,e)=>({...G9(t),options:[t,e]}),rF=(t,e)=>({...Z9(t),options:[t,e]}),iF=(t,e)=>({...Y9(t),options:[t,e]}),sF=(t,e)=>({...K9(t),options:[t,e]}),oF=(t,e)=>({...Q9(t),options:[t,e]}),aF=(t,e)=>({...eF(t),options:[t,e]});var lF="Arrow",gI=V.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return W.jsx(Mt.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:W.jsx("polygon",{points:"0,0 30,0 15,10"})})});gI.displayName=lF;var cF=gI;function uF(t){const[e,n]=V.useState(void 0);return Zn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const f=o.borderBoxSize,d=Array.isArray(f)?f[0]:f;l=d.inlineSize,c=d.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var t0="Popper",[vI,yI]=af(t0),[fF,_I]=vI(t0),bI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=V.useState(null);return W.jsx(fF,{scope:e,anchor:r,onAnchorChange:s,children:n})};bI.displayName=t0;var wI="PopperAnchor",SI=V.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=_I(wI,n),l=V.useRef(null),c=tn(e,l);return V.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:W.jsx(Mt.div,{...s,ref:c})});SI.displayName=wI;var n0="PopperContent",[dF,hF]=vI(n0),EI=V.forwardRef((t,e)=>{var J,K,be,ue,fe,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:w,...E}=t,C=_I(n0,n),[k,T]=V.useState(null),A=tn(e,Ne=>T(Ne)),[z,N]=V.useState(null),M=uF(z),I=(M==null?void 0:M.width)??0,P=(M==null?void 0:M.height)??0,Q=r+(o!=="center"?"-"+o:""),ne=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},se=Array.isArray(d)?d:[d],L=se.length>0,ae={padding:ne,boundary:se.filter(mF),altBoundary:L},{refs:ie,floatingStyles:H,placement:D,isPositioned:G,middlewareData:q}=J9({strategy:"fixed",placement:Q,whileElementsMounted:(...Ne)=>q9(...Ne,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[tF({mainAxis:s+P,alignmentAxis:l}),f&&nF({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?rF():void 0,...ae}),f&&iF({...ae}),sF({...ae,apply:({elements:Ne,rects:Ie,availableWidth:ce,availableHeight:me})=>{const{width:we,height:De}=Ie.reference,ke=Ne.floating.style;ke.setProperty("--radix-popper-available-width",`${ce}px`),ke.setProperty("--radix-popper-available-height",`${me}px`),ke.setProperty("--radix-popper-anchor-width",`${we}px`),ke.setProperty("--radix-popper-anchor-height",`${De}px`)}}),z&&aF({element:z,padding:c}),gF({arrowWidth:I,arrowHeight:P}),g&&oF({strategy:"referenceHidden",...ae})]}),[ye,R]=CI(D),Z=mr(w);Zn(()=>{G&&(Z==null||Z())},[G,Z]);const U=(J=q.arrow)==null?void 0:J.x,re=(K=q.arrow)==null?void 0:K.y,ve=((be=q.arrow)==null?void 0:be.centerOffset)!==0,[X,Ae]=V.useState();return Zn(()=>{k&&Ae(window.getComputedStyle(k).zIndex)},[k]),W.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(ue=q.transformOrigin)==null?void 0:ue.x,(fe=q.transformOrigin)==null?void 0:fe.y].join(" "),...((pe=q.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:W.jsx(dF,{scope:n,placedSide:ye,onArrowChange:N,arrowX:U,arrowY:re,shouldHideArrow:ve,children:W.jsx(Mt.div,{"data-side":ye,"data-align":R,...E,ref:A,style:{...E.style,animation:G?void 0:"none"}})})})});EI.displayName=n0;var TI="PopperArrow",pF={top:"bottom",right:"left",bottom:"top",left:"right"},xI=V.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=hF(TI,r),l=pF[o.placedSide];return W.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:W.jsx(cF,{...s,ref:n,style:{...s.style,display:"block"}})})});xI.displayName=TI;function mF(t){return t!==null}var gF=t=>({name:"transformOrigin",options:t,fn(e){var C,k,T;const{placement:n,rects:r,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[d,p]=CI(n),m={start:"0%",center:"50%",end:"100%"}[p],g=(((k=s.arrow)==null?void 0:k.x)??0)+c/2,y=(((T=s.arrow)==null?void 0:T.y)??0)+f/2;let w="",E="";return d==="bottom"?(w=l?m:`${g}px`,E=`${-f}px`):d==="top"?(w=l?m:`${g}px`,E=`${r.floating.height+f}px`):d==="right"?(w=`${-f}px`,E=l?m:`${y}px`):d==="left"&&(w=`${r.floating.width+f}px`,E=l?m:`${y}px`),{data:{x:w,y:E}}}});function CI(t){const[e,n="center"]=t.split("-");return[e,n]}var vF=bI,yF=SI,_F=EI,bF=xI,wF="Portal",r0=V.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,o]=V.useState(!1);Zn(()=>o(!0),[]);const l=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?lk.createPortal(W.jsx(Mt.div,{...r,ref:e}),l):null});r0.displayName=wF;var SF=TC[" useInsertionEffect ".trim().toString()]||Zn;function A_({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=EF({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:s;{const p=V.useRef(t!==void 0);V.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=V.useCallback(p=>{var m;if(c){const g=TF(p)?p(t):p;g!==t&&((m=l.current)==null||m.call(l,g))}else o(p)},[c,t,o,l]);return[f,d]}function EF({defaultProp:t,onChange:e}){const[n,r]=V.useState(t),s=V.useRef(n),o=V.useRef(e);return SF(()=>{o.current=e},[e]),V.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function TF(t){return typeof t=="function"}function xF(t){const e=V.useRef({value:t,previous:t});return V.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CF="VisuallyHidden",AF=V.forwardRef((t,e)=>W.jsx(Mt.span,{...t,ref:e,style:{...AI,...t.style}}));AF.displayName=CF;var RF=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},dl=new WeakMap,Dd=new WeakMap,Pd={},Cv=0,RI=function(t){return t&&(t.host||RI(t.parentNode))},kF=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=RI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OF=function(t,e,n,r){var s=kF(e,Array.isArray(t)?t:[t]);Pd[n]||(Pd[n]=new WeakMap);var o=Pd[n],l=[],c=new Set,f=new Set(s),d=function(m){!m||c.has(m)||(c.add(m),d(m.parentNode))};s.forEach(d);var p=function(m){!m||f.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))p(g);else try{var y=g.getAttribute(r),w=y!==null&&y!=="false",E=(dl.get(g)||0)+1,C=(o.get(g)||0)+1;dl.set(g,E),o.set(g,C),l.push(g),E===1&&w&&Dd.set(g,!0),C===1&&g.setAttribute(n,"true"),w||g.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return p(e),c.clear(),Cv++,function(){l.forEach(function(m){var g=dl.get(m)-1,y=o.get(m)-1;dl.set(m,g),o.set(m,y),g||(Dd.has(m)||m.removeAttribute(r),Dd.delete(m)),y||m.removeAttribute(n)}),Cv--,Cv||(dl=new WeakMap,dl=new WeakMap,Dd=new WeakMap,Pd={})}},kI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=RF(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),OF(r,s,n,"aria-hidden")):function(){return null}},th="right-scroll-bar-position",nh="width-before-scroll-bar",IF="with-scroll-bars-hidden",NF="--removed-body-scroll-bar-size";function Av(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function MF(t,e){var n=V.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var DF=typeof window<"u"?V.useLayoutEffect:V.useEffect,Dx=new WeakMap;function PF(t,e){var n=MF(null,function(r){return t.forEach(function(s){return Av(s,r)})});return DF(function(){var r=Dx.get(n);if(r){var s=new Set(r),o=new Set(t),l=n.current;s.forEach(function(c){o.has(c)||Av(c,null)}),o.forEach(function(c){s.has(c)||Av(c,l)})}Dx.set(n,t)},[t]),n}function LF(t){return t}function jF(t,e){e===void 0&&(e=LF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var l=e(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var f=function(){var p=l;l=[],p.forEach(o)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),n}}}};return s}function UF(t){t===void 0&&(t={});var e=jF(null);return e.options=Ti({async:!0,ssr:!1},t),e}var OI=function(t){var e=t.sideCar,n=Yu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,Ti({},n))};OI.isSideCarExport=!0;function BF(t,e){return t.useMedium(e),OI}var II=UF(),Rv=function(){},Ep=V.forwardRef(function(t,e){var n=V.useRef(null),r=V.useState({onScrollCapture:Rv,onWheelCapture:Rv,onTouchMoveCapture:Rv}),s=r[0],o=r[1],l=t.forwardProps,c=t.children,f=t.className,d=t.removeScrollBar,p=t.enabled,m=t.shards,g=t.sideCar,y=t.noRelative,w=t.noIsolation,E=t.inert,C=t.allowPinchZoom,k=t.as,T=k===void 0?"div":k,A=t.gapMode,z=Yu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=g,M=PF([n,e]),I=Ti(Ti({},z),s);return V.createElement(V.Fragment,null,p&&V.createElement(N,{sideCar:II,removeScrollBar:d,shards:m,noRelative:y,noIsolation:w,inert:E,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:A}),l?V.cloneElement(V.Children.only(c),Ti(Ti({},I),{ref:M})):V.createElement(T,Ti({},I,{className:f,ref:M}),c))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:nh,zeroRight:th};var zF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zF();return e&&t.setAttribute("nonce",e),t}function VF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function HF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var WF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=FF())&&(VF(e,n),HF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qF=function(){var t=WF();return function(e,n){V.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NI=function(){var t=qF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},$F={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},GF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(s)]},YF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $F;var e=GF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},KF=NI(),Al="data-scroll-locked",QF=function(t,e,n,r){var s=t.left,o=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Al,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(th,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(nh,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Al,`] {
    `).concat(NF,": ").concat(c,`px;
  }
`)},Px=function(){var t=parseInt(document.body.getAttribute(Al)||"0",10);return isFinite(t)?t:0},ZF=function(){V.useEffect(function(){return document.body.setAttribute(Al,(Px()+1).toString()),function(){var t=Px()-1;t<=0?document.body.removeAttribute(Al):document.body.setAttribute(Al,t.toString())}},[])},XF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;ZF();var o=V.useMemo(function(){return YF(s)},[s]);return V.createElement(KF,{styles:QF(o,!e,s,n?"":"!important")})},R_=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return R_=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{R_=!1}var hl=R_?{passive:!1}:!1,JF=function(t){return t.tagName==="TEXTAREA"},MI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!JF(t)&&n[e]==="visible")},eV=function(t){return MI(t,"overflowY")},tV=function(t){return MI(t,"overflowX")},Lx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=DI(t,r);if(s){var o=PI(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},DI=function(t,e){return t==="v"?eV(e):tV(e)},PI=function(t,e){return t==="v"?nV(e):rV(e)},iV=function(t,e){return t==="h"&&e==="rtl"?-1:1},sV=function(t,e,n,r,s){var o=iV(t,window.getComputedStyle(e).direction),l=o*r,c=n.target,f=e.contains(c),d=!1,p=l>0,m=0,g=0;do{var y=PI(t,c),w=y[0],E=y[1],C=y[2],k=E-C-o*w;(w||k)&&DI(t,c)&&(m+=k,g+=w),c=c.parentNode.host||c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(g)<1)&&(d=!0),d},jd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jx=function(t){return[t.deltaX,t.deltaY]},Ux=function(t){return t&&"current"in t?t.current:t},oV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lV=0,pl=[];function cV(t){var e=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),s=V.useState(lV++)[0],o=V.useState(NI)[0],l=V.useRef(t);V.useEffect(function(){l.current=t},[t]),V.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=g4([t.lockRef.current],(t.shards||[]).map(Ux),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=V.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var k=jd(E),T=n.current,A="deltaX"in E?E.deltaX:T[0]-k[0],z="deltaY"in E?E.deltaY:T[1]-k[1],N,M=E.target,I=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in E&&I==="h"&&M.type==="range")return!1;var P=Lx(I,M);if(!P)return!0;if(P?N=I:(N=I==="v"?"h":"v",P=Lx(I,M)),!P)return!1;if(!r.current&&"changedTouches"in E&&(A||z)&&(r.current=N),!N)return!0;var Q=r.current||N;return sV(Q,C,E,Q==="h"?A:z)},[]),f=V.useCallback(function(E){var C=E;if(!(!pl.length||pl[pl.length-1]!==o)){var k="deltaY"in C?jx(C):jd(C),T=e.current.filter(function(N){return N.name===C.type&&(N.target===C.target||C.target===N.shadowParent)&&oV(N.delta,k)})[0];if(T&&T.should){C.cancelable&&C.preventDefault();return}if(!T){var A=(l.current.shards||[]).map(Ux).filter(Boolean).filter(function(N){return N.contains(C.target)}),z=A.length>0?c(C,A[0]):!l.current.noIsolation;z&&C.cancelable&&C.preventDefault()}}},[]),d=V.useCallback(function(E,C,k,T){var A={name:E,delta:C,target:k,should:T,shadowParent:uV(k)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(z){return z!==A})},1)},[]),p=V.useCallback(function(E){n.current=jd(E),r.current=void 0},[]),m=V.useCallback(function(E){d(E.type,jx(E),E.target,c(E,t.lockRef.current))},[]),g=V.useCallback(function(E){d(E.type,jd(E),E.target,c(E,t.lockRef.current))},[]);V.useEffect(function(){return pl.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",f,hl),document.addEventListener("touchmove",f,hl),document.addEventListener("touchstart",p,hl),function(){pl=pl.filter(function(E){return E!==o}),document.removeEventListener("wheel",f,hl),document.removeEventListener("touchmove",f,hl),document.removeEventListener("touchstart",p,hl)}},[]);var y=t.removeScrollBar,w=t.inert;return V.createElement(V.Fragment,null,w?V.createElement(o,{styles:aV(s)}):null,y?V.createElement(XF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fV=BF(II,cV);var i0=V.forwardRef(function(t,e){return V.createElement(Ep,Ti({},t,{ref:e,sideCar:fV}))});i0.classNames=Ep.classNames;var dV=[" ","Enter","ArrowUp","ArrowDown"],hV=[" ","Enter"],va="Select",[Tp,xp,pV]=$z(va),[sc,uW]=af(va,[pV,yI]),Cp=yI(),[mV,Ro]=sc(va),[gV,vV]=sc(va),LI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:f,dir:d,name:p,autoComplete:m,disabled:g,required:y,form:w}=t,E=Cp(e),[C,k]=V.useState(null),[T,A]=V.useState(null),[z,N]=V.useState(!1),M=tI(d),[I,P]=A_({prop:r,defaultProp:s??!1,onChange:o,caller:va}),[Q,ne]=A_({prop:l,defaultProp:c,onChange:f,caller:va}),se=V.useRef(null),L=C?w||!!C.closest("form"):!0,[ae,ie]=V.useState(new Set),H=Array.from(ae).map(D=>D.props.value).join(";");return W.jsx(vF,{...E,children:W.jsxs(mV,{required:y,scope:e,trigger:C,onTriggerChange:k,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:z,onValueNodeHasChildrenChange:N,contentId:xl(),value:Q,onValueChange:ne,open:I,onOpenChange:P,dir:M,triggerPointerDownPosRef:se,disabled:g,children:[W.jsx(Tp.Provider,{scope:e,children:W.jsx(gV,{scope:t.__scopeSelect,onNativeOptionAdd:V.useCallback(D=>{ie(G=>new Set(G).add(D))},[]),onNativeOptionRemove:V.useCallback(D=>{ie(G=>{const q=new Set(G);return q.delete(D),q})},[]),children:n})}),L?W.jsxs(iN,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:m,value:Q,onChange:D=>ne(D.target.value),disabled:g,form:w,children:[Q===void 0?W.jsx("option",{value:""}):null,Array.from(ae)]},H):null]})})};LI.displayName=va;var jI="SelectTrigger",UI=V.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Cp(n),l=Ro(jI,n),c=l.disabled||r,f=tn(e,l.onTriggerChange),d=xp(n),p=V.useRef("touch"),[m,g,y]=oN(E=>{const C=d().filter(A=>!A.disabled),k=C.find(A=>A.value===l.value),T=aN(C,E,k);T!==void 0&&l.onValueChange(T.value)}),w=E=>{c||(l.onOpenChange(!0),y()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return W.jsx(yF,{asChild:!0,...o,children:W.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":sN(l.value)?"":void 0,...s,ref:f,onClick:jt(s.onClick,E=>{E.currentTarget.focus(),p.current!=="mouse"&&w(E)}),onPointerDown:jt(s.onPointerDown,E=>{p.current=E.pointerType;const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(w(E),E.preventDefault())}),onKeyDown:jt(s.onKeyDown,E=>{const C=m.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&g(E.key),!(C&&E.key===" ")&&dV.includes(E.key)&&(w(),E.preventDefault())})})})});UI.displayName=jI;var BI="SelectValue",zI=V.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...c}=t,f=Ro(BI,n),{onValueNodeHasChildrenChange:d}=f,p=o!==void 0,m=tn(e,f.onValueNodeChange);return Zn(()=>{d(p)},[d,p]),W.jsx(Mt.span,{...c,ref:m,style:{pointerEvents:"none"},children:sN(f.value)?W.jsx(W.Fragment,{children:l}):o})});zI.displayName=BI;var yV="SelectIcon",FI=V.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return W.jsx(Mt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});FI.displayName=yV;var _V="SelectPortal",VI=t=>W.jsx(r0,{asChild:!0,...t});VI.displayName=_V;var ya="SelectContent",HI=V.forwardRef((t,e)=>{const n=Ro(ya,t.__scopeSelect),[r,s]=V.useState();if(Zn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?sf.createPortal(W.jsx(WI,{scope:t.__scopeSelect,children:W.jsx(Tp.Slot,{scope:t.__scopeSelect,children:W.jsx("div",{children:t.children})})}),o):null}return W.jsx(qI,{...t,ref:e})});HI.displayName=ya;var Xr=10,[WI,ko]=sc(ya),bV="SelectContentImpl",wV=Pl("SelectContent.RemoveScroll"),qI=V.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:f,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:E,avoidCollisions:C,...k}=t,T=Ro(ya,n),[A,z]=V.useState(null),[N,M]=V.useState(null),I=tn(e,J=>z(J)),[P,Q]=V.useState(null),[ne,se]=V.useState(null),L=xp(n),[ae,ie]=V.useState(!1),H=V.useRef(!1);V.useEffect(()=>{if(A)return kI(A)},[A]),iI();const D=V.useCallback(J=>{const[K,...be]=L().map(pe=>pe.ref.current),[ue]=be.slice(-1),fe=document.activeElement;for(const pe of J)if(pe===fe||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===K&&N&&(N.scrollTop=0),pe===ue&&N&&(N.scrollTop=N.scrollHeight),pe==null||pe.focus(),document.activeElement!==fe))return},[L,N]),G=V.useCallback(()=>D([P,A]),[D,P,A]);V.useEffect(()=>{ae&&G()},[ae,G]);const{onOpenChange:q,triggerPointerDownPosRef:ye}=T;V.useEffect(()=>{if(A){let J={x:0,y:0};const K=ue=>{var fe,pe;J={x:Math.abs(Math.round(ue.pageX)-(((fe=ye.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((pe=ye.current)==null?void 0:pe.y)??0))}},be=ue=>{J.x<=10&&J.y<=10?ue.preventDefault():A.contains(ue.target)||q(!1),document.removeEventListener("pointermove",K),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",be,{capture:!0})}}},[A,q,ye]),V.useEffect(()=>{const J=()=>q(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[q]);const[R,Z]=oN(J=>{const K=L().filter(fe=>!fe.disabled),be=K.find(fe=>fe.ref.current===document.activeElement),ue=aN(K,J,be);ue&&setTimeout(()=>ue.ref.current.focus())}),U=V.useCallback((J,K,be)=>{const ue=!H.current&&!be;(T.value!==void 0&&T.value===K||ue)&&(Q(J),ue&&(H.current=!0))},[T.value]),re=V.useCallback(()=>A==null?void 0:A.focus(),[A]),ve=V.useCallback((J,K,be)=>{const ue=!H.current&&!be;(T.value!==void 0&&T.value===K||ue)&&se(J)},[T.value]),X=r==="popper"?k_:$I,Ae=X===k_?{side:c,sideOffset:f,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:y,sticky:w,hideWhenDetached:E,avoidCollisions:C}:{};return W.jsx(WI,{scope:n,content:A,viewport:N,onViewportChange:M,itemRefCallback:U,selectedItem:P,onItemLeave:re,itemTextRefCallback:ve,focusSelectedItem:G,selectedItemText:ne,position:r,isPositioned:ae,searchRef:R,children:W.jsx(i0,{as:wV,allowPinchZoom:!0,children:W.jsx(Gb,{asChild:!0,trapped:T.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:jt(s,J=>{var K;(K=T.trigger)==null||K.focus({preventScroll:!0}),J.preventDefault()}),children:W.jsx($b,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:W.jsx(X,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:J=>J.preventDefault(),...k,...Ae,onPlaced:()=>ie(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:jt(k.onKeyDown,J=>{const K=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!K&&J.key.length===1&&Z(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ue=L().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const fe=J.target,pe=ue.indexOf(fe);ue=ue.slice(pe+1)}setTimeout(()=>D(ue)),J.preventDefault()}})})})})})})});qI.displayName=bV;var SV="SelectItemAlignedPosition",$I=V.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ro(ya,n),l=ko(ya,n),[c,f]=V.useState(null),[d,p]=V.useState(null),m=tn(e,I=>p(I)),g=xp(n),y=V.useRef(!1),w=V.useRef(!0),{viewport:E,selectedItem:C,selectedItemText:k,focusSelectedItem:T}=l,A=V.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&E&&C&&k){const I=o.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),Q=o.valueNode.getBoundingClientRect(),ne=k.getBoundingClientRect();if(o.dir!=="rtl"){const fe=ne.left-P.left,pe=Q.left-fe,Ne=I.left-pe,Ie=I.width+Ne,ce=Math.max(Ie,P.width),me=window.innerWidth-Xr,we=S_(pe,[Xr,Math.max(Xr,me-ce)]);c.style.minWidth=Ie+"px",c.style.left=we+"px"}else{const fe=P.right-ne.right,pe=window.innerWidth-Q.right-fe,Ne=window.innerWidth-I.right-pe,Ie=I.width+Ne,ce=Math.max(Ie,P.width),me=window.innerWidth-Xr,we=S_(pe,[Xr,Math.max(Xr,me-ce)]);c.style.minWidth=Ie+"px",c.style.right=we+"px"}const se=g(),L=window.innerHeight-Xr*2,ae=E.scrollHeight,ie=window.getComputedStyle(d),H=parseInt(ie.borderTopWidth,10),D=parseInt(ie.paddingTop,10),G=parseInt(ie.borderBottomWidth,10),q=parseInt(ie.paddingBottom,10),ye=H+D+ae+q+G,R=Math.min(C.offsetHeight*5,ye),Z=window.getComputedStyle(E),U=parseInt(Z.paddingTop,10),re=parseInt(Z.paddingBottom,10),ve=I.top+I.height/2-Xr,X=L-ve,Ae=C.offsetHeight/2,J=C.offsetTop+Ae,K=H+D+J,be=ye-K;if(K<=ve){const fe=se.length>0&&C===se[se.length-1].ref.current;c.style.bottom="0px";const pe=d.clientHeight-E.offsetTop-E.offsetHeight,Ne=Math.max(X,Ae+(fe?re:0)+pe+G),Ie=K+Ne;c.style.height=Ie+"px"}else{const fe=se.length>0&&C===se[0].ref.current;c.style.top="0px";const Ne=Math.max(ve,H+E.offsetTop+(fe?U:0)+Ae)+be;c.style.height=Ne+"px",E.scrollTop=K-ve+E.offsetTop}c.style.margin=`${Xr}px 0`,c.style.minHeight=R+"px",c.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,o.trigger,o.valueNode,c,d,E,C,k,o.dir,r]);Zn(()=>A(),[A]);const[z,N]=V.useState();Zn(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const M=V.useCallback(I=>{I&&w.current===!0&&(A(),T==null||T(),w.current=!1)},[A,T]);return W.jsx(TV,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:W.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:W.jsx(Mt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$I.displayName=SV;var EV="SelectPopperPosition",k_=V.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xr,...o}=t,l=Cp(n);return W.jsx(_F,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});k_.displayName=EV;var[TV,s0]=sc(ya,{}),O_="SelectViewport",GI=V.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=ko(O_,n),l=s0(O_,n),c=tn(e,o.onViewportChange),f=V.useRef(0);return W.jsxs(W.Fragment,{children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),W.jsx(Tp.Slot,{scope:n,children:W.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:jt(s.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&m){const y=Math.abs(f.current-p.scrollTop);if(y>0){const w=window.innerHeight-Xr*2,E=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),k=Math.max(E,C);if(k<w){const T=k+y,A=Math.min(w,T),z=T-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=z>0?z:0,m.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});GI.displayName=O_;var YI="SelectGroup",[xV,CV]=sc(YI),AV=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xl();return W.jsx(xV,{scope:n,id:s,children:W.jsx(Mt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});AV.displayName=YI;var KI="SelectLabel",RV=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=CV(KI,n);return W.jsx(Mt.div,{id:s.id,...r,ref:e})});RV.displayName=KI;var Uh="SelectItem",[kV,QI]=sc(Uh),ZI=V.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=t,c=Ro(Uh,n),f=ko(Uh,n),d=c.value===r,[p,m]=V.useState(o??""),[g,y]=V.useState(!1),w=tn(e,T=>{var A;return(A=f.itemRefCallback)==null?void 0:A.call(f,T,r,s)}),E=xl(),C=V.useRef("touch"),k=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return W.jsx(kV,{scope:n,value:r,disabled:s,textId:E,isSelected:d,onItemTextChange:V.useCallback(T=>{m(A=>A||((T==null?void 0:T.textContent)??"").trim())},[]),children:W.jsx(Tp.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:W.jsx(Mt.div,{role:"option","aria-labelledby":E,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:jt(l.onFocus,()=>y(!0)),onBlur:jt(l.onBlur,()=>y(!1)),onClick:jt(l.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:jt(l.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:jt(l.onPointerDown,T=>{C.current=T.pointerType}),onPointerMove:jt(l.onPointerMove,T=>{var A;C.current=T.pointerType,s?(A=f.onItemLeave)==null||A.call(f):C.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(l.onPointerLeave,T=>{var A;T.currentTarget===document.activeElement&&((A=f.onItemLeave)==null||A.call(f))}),onKeyDown:jt(l.onKeyDown,T=>{var z;((z=f.searchRef)==null?void 0:z.current)!==""&&T.key===" "||(hV.includes(T.key)&&k(),T.key===" "&&T.preventDefault())})})})})});ZI.displayName=Uh;var gu="SelectItemText",XI=V.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,l=Ro(gu,n),c=ko(gu,n),f=QI(gu,n),d=vV(gu,n),[p,m]=V.useState(null),g=tn(e,k=>m(k),f.onItemTextChange,k=>{var T;return(T=c.itemTextRefCallback)==null?void 0:T.call(c,k,f.value,f.disabled)}),y=p==null?void 0:p.textContent,w=V.useMemo(()=>W.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:E,onNativeOptionRemove:C}=d;return Zn(()=>(E(w),()=>C(w)),[E,C,w]),W.jsxs(W.Fragment,{children:[W.jsx(Mt.span,{id:f.textId,...o,ref:g}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?sf.createPortal(o.children,l.valueNode):null]})});XI.displayName=gu;var JI="SelectItemIndicator",eN=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QI(JI,n).isSelected?W.jsx(Mt.span,{"aria-hidden":!0,...r,ref:e}):null});eN.displayName=JI;var I_="SelectScrollUpButton",tN=V.forwardRef((t,e)=>{const n=ko(I_,t.__scopeSelect),r=s0(I_,t.__scopeSelect),[s,o]=V.useState(!1),l=tn(e,r.onScrollButtonChange);return Zn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=f.scrollTop>0;o(d)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?W.jsx(rN,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});tN.displayName=I_;var N_="SelectScrollDownButton",nN=V.forwardRef((t,e)=>{const n=ko(N_,t.__scopeSelect),r=s0(N_,t.__scopeSelect),[s,o]=V.useState(!1),l=tn(e,r.onScrollButtonChange);return Zn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<d;o(p)};const f=n.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?W.jsx(rN,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=n;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});nN.displayName=N_;var rN=V.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=ko("SelectScrollButton",n),l=V.useRef(null),c=xp(n),f=V.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return V.useEffect(()=>()=>f(),[f]),Zn(()=>{var p;const d=c().find(m=>m.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),W.jsx(Mt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:jt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:jt(s.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:jt(s.onPointerLeave,()=>{f()})})}),OV="SelectSeparator",IV=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return W.jsx(Mt.div,{"aria-hidden":!0,...r,ref:e})});IV.displayName=OV;var M_="SelectArrow",NV=V.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cp(n),o=Ro(M_,n),l=ko(M_,n);return o.open&&l.position==="popper"?W.jsx(bF,{...s,...r,ref:e}):null});NV.displayName=M_;var MV="SelectBubbleInput",iN=V.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=V.useRef(null),o=tn(r,s),l=xF(e);return V.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),W.jsx(Mt.select,{...n,style:{...AI,...n.style},ref:o,defaultValue:e})});iN.displayName=MV;function sN(t){return t===""||t===void 0}function oN(t){const e=mr(t),n=V.useRef(""),r=V.useRef(0),s=V.useCallback(l=>{const c=n.current+l;e(c),function f(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),o=V.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return V.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function aN(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let l=DV(t,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==n));const f=l.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function DV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var PV=LI,LV=UI,jV=zI,UV=FI,BV=VI,zV=HI,FV=GI,VV=ZI,HV=XI,WV=eN,qV=tN,$V=nN;function lN({...t}){return W.jsx(PV,{"data-slot":"select",...t})}function cN({...t}){return W.jsx(jV,{"data-slot":"select-value",...t})}function uN({className:t,size:e="default",children:n,...r}){return W.jsxs(LV,{"data-slot":"select-trigger","data-size":e,className:nn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,W.jsx(UV,{asChild:!0,children:W.jsx(rk,{className:"size-4 opacity-50"})})]})}function fN({className:t,children:e,position:n="popper",...r}){return W.jsx(BV,{children:W.jsxs(zV,{"data-slot":"select-content",className:nn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[W.jsx(GV,{}),W.jsx(FV,{className:nn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),W.jsx(YV,{})]})})}function Bh({className:t,children:e,...n}){return W.jsxs(VV,{"data-slot":"select-item",className:nn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[W.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:W.jsx(WV,{children:W.jsx(jB,{className:"size-4"})})}),W.jsx(HV,{children:e})]})}function GV({className:t,...e}){return W.jsx(qV,{"data-slot":"select-scroll-up-button",className:nn("flex cursor-default items-center justify-center py-1",t),...e,children:W.jsx(zB,{className:"size-4"})})}function YV({className:t,...e}){return W.jsx($V,{"data-slot":"select-scroll-down-button",className:nn("flex cursor-default items-center justify-center py-1",t),...e,children:W.jsx(rk,{className:"size-4"})})}function Bx(t){return fi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.84 7.4 22.25 6 18 1.75l-1.4 1.41L18 4.58 16.6 6l-2.13-2.13-1.41-1.42-1.41 1.42.7.71L3 13.92a2 2 0 0 0-.3 2.45L4 18.56l-2.25 2.28 1.41 1.41L5.44 20l2.19 1.31a2 2 0 0 0 1 .28 2 2 0 0 0 1.45-.59l9.34-9.34.71.7 1.42-1.41-1.42-1.42L18 7.4 19.42 6zM18 10.23l-9.34 9.35L6 18l-1.58-2.66.86-.87 2.83 2.83 1.42-1.41-2.83-2.83 1.41-1.41 2.83 2.82 1.41-1.41-2.83-2.83 1.42-1.41 2.83 2.83 1.41-1.42-2.83-2.83L13.77 6z"},child:[]}]})(t)}function Rl({className:t,type:e,...n}){return W.jsx("input",{type:e,"data-slot":"input",className:nn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}const KV=({isDoctor:t})=>{const[e,n]=V.useState({dose:0,direction:t?"inject":"eject"}),[r,s]=V.useState(null),o=_p(li),l=hk(li),c=async()=>{if(!(!o.isConnected||o.isBusy)){s("Injecting Dose"),l(f=>({...f,isBusy:!0}));try{await yp({action:"INSERT_DOSE",data:e.dose*(e.direction==="inject"?1:-1)})==="ACK"?On.success("Dose injected successfully"):On.error("Failed to inject dose. Please try again.")}catch(f){console.error("Error injecting dose:",f),On.error("An error occurred while injecting the dose. Please try again.")}finally{s(null),l(f=>({...f,isBusy:!1}))}}};return W.jsxs("div",{className:"h-full flex flex-col justify-between",children:[r&&W.jsx(Ea,{text:r}),W.jsxs("p",{className:"underline flex items-center gap-1 text-xl text-accent-foreground/90 font-medium font-teko",children:["Inject Dose ",W.jsx(Bx,{})]}),W.jsx("div",{className:"flex flex-col gap-2 mt-5",children:W.jsxs("div",{className:"grid grid-cols-3 gap-5 items-center",children:[W.jsx("label",{htmlFor:"rotation",className:"text-sm font-medium text-gray-700",children:"Dose"}),W.jsx("div",{className:"flex items-center gap-3 col-span-2",children:W.jsx(Rl,{className:"text-sm h-8",placeholder:"Dosage ml",type:"number",step:1,min:1,value:e.dose||"",onChange:f=>n(d=>({...d,dose:parseInt(f.target.value)||0}))})}),W.jsx("label",{htmlFor:"rotation",className:"text-sm font-medium text-gray-700",children:"Direction"}),W.jsxs(lN,{value:e.direction,onValueChange:f=>n(d=>({...d,direction:f})),children:[W.jsx(uN,{size:"sm",id:"interval",disabled:!t,className:"w-full col-span-2",children:W.jsx(cN,{placeholder:"eg: (inject, eject)"})}),W.jsxs(fN,{children:[W.jsx(Bh,{value:"inject",children:"Inject"}),W.jsx(Bh,{value:"eject",children:"Eject"})]})]})]})}),W.jsxs(yr,{size:"sm",className:"mt-5",disabled:!o.isConnected||o.isBusy,onClick:c,children:["Perform",W.jsx(Bx,{})]})]})};function QV(t){return fi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"},child:[]}]})(t)}const dN=async(t,e)=>{const n=BR(FR,t);return await I6(n,e)},ZV=async t=>{const e=BR(FR,t);return await N6(e)},XV=({setRefreshPrograms:t})=>{const[e,n]=V.useState(null),[r,s]=V.useState({name:"",dose:0,interval:"hour",intervalValue:1}),o=async()=>{n("Saving Program");try{await dN(`programs/${r.name}`,{name:r.name,dose:r.dose,interval:r.interval,intervalValue:r.intervalValue}),s({name:"",dose:0,interval:"hour",intervalValue:1}),t(l=>!l),On.success("Program saved successfully!")}catch(l){console.error("Error saving program:",l),On.error("Failed to save the program. Please try again.")}finally{n(null)}};return W.jsxs("div",{className:"h-full flex flex-col justify-between w-full",children:[e&&W.jsx(Ea,{text:e}),W.jsxs("p",{className:"underline flex items-center gap-1 text-xl text-accent-foreground/90 font-medium font-teko",children:["Create Program ",W.jsx(WB,{})]}),W.jsx("div",{className:"flex flex-col gap-2 mt-5",children:W.jsxs("div",{className:"grid grid-cols-3 gap-5 items-center",children:[W.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Name"}),W.jsx("div",{className:"flex items-center gap-3 col-span-2",children:W.jsx(Rl,{id:"name",placeholder:"Program Name",className:"w-full",onChange:l=>s(c=>({...c,name:l.target.value})),value:r.name})}),W.jsx("label",{htmlFor:"dose",className:"text-sm font-medium text-gray-700",children:"Dose"}),W.jsx("div",{className:"flex items-center gap-3 col-span-2",children:W.jsx(Rl,{className:"text-sm h-8",placeholder:"Dosage ml",type:"number",step:1,min:1,value:r.dose||"",onChange:l=>s(c=>({...c,dose:parseInt(l.target.value)||0}))})}),W.jsx("label",{htmlFor:"rotation",className:"text-sm font-medium text-gray-700",children:"Interval"}),W.jsxs("div",{className:"grid col-span-2 gap-2 grid-cols-3 items-center",children:[W.jsxs(lN,{value:r.interval,onValueChange:l=>s(c=>({...c,interval:l})),children:[W.jsx(uN,{size:"sm",id:"interval",className:"w-full col-span-2",children:W.jsx(cN,{placeholder:"eg: (inject, eject)"})}),W.jsxs(fN,{children:[W.jsx(Bh,{value:"hour",children:"Hours"}),W.jsx(Bh,{value:"minute",children:"Minutes"})]})]}),W.jsx(Rl,{id:"name",type:"number",placeholder:"Program Name",className:"w-full",onChange:l=>s(c=>({...c,intervalValue:parseInt(l.target.value)||1})),value:r.intervalValue})]})]})}),W.jsxs(yr,{onClick:o,size:"sm",className:"mt-5",children:["Save",W.jsx(QV,{})]})]})};function JV(t,e){return V.useReducer((n,r)=>e[n][r]??n,t)}var Oo=t=>{const{present:e,children:n}=t,r=e7(e),s=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),o=tn(r.ref,t7(s));return typeof n=="function"||r.isPresent?V.cloneElement(s,{ref:o}):null};Oo.displayName="Presence";function e7(t){const[e,n]=V.useState(),r=V.useRef(null),s=V.useRef(t),o=V.useRef("none"),l=t?"mounted":"unmounted",[c,f]=JV(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const d=Ud(r.current);o.current=c==="mounted"?d:"none"},[c]),Zn(()=>{const d=r.current,p=s.current;if(p!==t){const g=o.current,y=Ud(d);t?f("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&g!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),Zn(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,m=y=>{const E=Ud(r.current).includes(y.animationName);if(y.target===e&&E&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},g=y=>{y.target===e&&(o.current=Ud(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:V.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ud(t){return(t==null?void 0:t.animationName)||"none"}function t7(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function n7(t,e){return V.useReducer((n,r)=>e[n][r]??n,t)}var o0="ScrollArea",[hN,fW]=af(o0),[r7,qr]=hN(o0),pN=V.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...l}=t,[c,f]=V.useState(null),[d,p]=V.useState(null),[m,g]=V.useState(null),[y,w]=V.useState(null),[E,C]=V.useState(null),[k,T]=V.useState(0),[A,z]=V.useState(0),[N,M]=V.useState(!1),[I,P]=V.useState(!1),Q=tn(e,se=>f(se)),ne=tI(s);return W.jsx(r7,{scope:n,type:r,dir:ne,scrollHideDelay:o,scrollArea:c,viewport:d,onViewportChange:p,content:m,onContentChange:g,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:M,scrollbarY:E,onScrollbarYChange:C,scrollbarYEnabled:I,onScrollbarYEnabledChange:P,onCornerWidthChange:T,onCornerHeightChange:z,children:W.jsx(Mt.div,{dir:ne,...l,ref:Q,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});pN.displayName=o0;var mN="ScrollAreaViewport",gN=V.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=t,l=qr(mN,n),c=V.useRef(null),f=tn(e,c,l.onViewportChange);return W.jsxs(W.Fragment,{children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),W.jsx(Mt.div,{"data-radix-scroll-area-viewport":"",...o,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:W.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gN.displayName=mN;var Pi="ScrollAreaScrollbar",vN=V.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qr(Pi,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=s,c=t.orientation==="horizontal";return V.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),s.type==="hover"?W.jsx(i7,{...r,ref:e,forceMount:n}):s.type==="scroll"?W.jsx(s7,{...r,ref:e,forceMount:n}):s.type==="auto"?W.jsx(yN,{...r,ref:e,forceMount:n}):s.type==="always"?W.jsx(a0,{...r,ref:e}):null});vN.displayName=Pi;var i7=V.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qr(Pi,t.__scopeScrollArea),[o,l]=V.useState(!1);return V.useEffect(()=>{const c=s.scrollArea;let f=0;if(c){const d=()=>{window.clearTimeout(f),l(!0)},p=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),W.jsx(Oo,{present:n||o,children:W.jsx(yN,{"data-state":o?"visible":"hidden",...r,ref:e})})}),s7=V.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qr(Pi,t.__scopeScrollArea),o=t.orientation==="horizontal",l=Rp(()=>f("SCROLL_END"),100),[c,f]=n7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return V.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,f]),V.useEffect(()=>{const d=s.viewport,p=o?"scrollLeft":"scrollTop";if(d){let m=d[p];const g=()=>{const y=d[p];m!==y&&(f("SCROLL"),l()),m=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[s.viewport,o,f,l]),W.jsx(Oo,{present:n||c!=="hidden",children:W.jsx(a0,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:jt(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:jt(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),yN=V.forwardRef((t,e)=>{const n=qr(Pi,t.__scopeScrollArea),{forceMount:r,...s}=t,[o,l]=V.useState(!1),c=t.orientation==="horizontal",f=Rp(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?d:p)}},10);return jl(n.viewport,f),jl(n.content,f),W.jsx(Oo,{present:r||o,children:W.jsx(a0,{"data-state":o?"visible":"hidden",...s,ref:e})})}),a0=V.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=qr(Pi,t.__scopeScrollArea),o=V.useRef(null),l=V.useRef(0),[c,f]=V.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=EN(c.viewport,c.content),p={...r,sizes:c,onSizesChange:f,hasThumb:d>0&&d<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function m(g,y){return f7(g,l.current,c,y)}return n==="horizontal"?W.jsx(o7,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,y=zx(g,c,s.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):n==="vertical"?W.jsx(a7,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,y=zx(g,c);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),o7=V.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=qr(Pi,t.__scopeScrollArea),[l,c]=V.useState(),f=V.useRef(null),d=tn(e,f,o.onScrollbarXChange);return V.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),W.jsx(bN,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ap(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(o.viewport){const g=o.viewport.scrollLeft+p.deltaX;t.onWheelScroll(g),xN(g,m)&&p.preventDefault()}},onResize:()=>{f.current&&o.viewport&&l&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Fh(l.paddingLeft),paddingEnd:Fh(l.paddingRight)}})}})}),a7=V.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,o=qr(Pi,t.__scopeScrollArea),[l,c]=V.useState(),f=V.useRef(null),d=tn(e,f,o.onScrollbarYChange);return V.useEffect(()=>{f.current&&c(getComputedStyle(f.current))},[f]),W.jsx(bN,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ap(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(o.viewport){const g=o.viewport.scrollTop+p.deltaY;t.onWheelScroll(g),xN(g,m)&&p.preventDefault()}},onResize:()=>{f.current&&o.viewport&&l&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Fh(l.paddingTop),paddingEnd:Fh(l.paddingBottom)}})}})}),[l7,_N]=hN(Pi),bN=V.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:f,onDragScroll:d,onWheelScroll:p,onResize:m,...g}=t,y=qr(Pi,n),[w,E]=V.useState(null),C=tn(e,Q=>E(Q)),k=V.useRef(null),T=V.useRef(""),A=y.viewport,z=r.content-r.viewport,N=mr(p),M=mr(f),I=Rp(m,10);function P(Q){if(k.current){const ne=Q.clientX-k.current.left,se=Q.clientY-k.current.top;d({x:ne,y:se})}}return V.useEffect(()=>{const Q=ne=>{const se=ne.target;(w==null?void 0:w.contains(se))&&N(ne,z)};return document.addEventListener("wheel",Q,{passive:!1}),()=>document.removeEventListener("wheel",Q,{passive:!1})},[A,w,z,N]),V.useEffect(M,[r,M]),jl(w,I),jl(y.content,I),W.jsx(l7,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:mr(o),onThumbPointerUp:mr(l),onThumbPositionChange:M,onThumbPointerDown:mr(c),children:W.jsx(Mt.div,{...g,ref:C,style:{position:"absolute",...g.style},onPointerDown:jt(t.onPointerDown,Q=>{Q.button===0&&(Q.target.setPointerCapture(Q.pointerId),k.current=w.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(Q))}),onPointerMove:jt(t.onPointerMove,P),onPointerUp:jt(t.onPointerUp,Q=>{const ne=Q.target;ne.hasPointerCapture(Q.pointerId)&&ne.releasePointerCapture(Q.pointerId),document.body.style.webkitUserSelect=T.current,y.viewport&&(y.viewport.style.scrollBehavior=""),k.current=null})})})}),zh="ScrollAreaThumb",wN=V.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_N(zh,t.__scopeScrollArea);return W.jsx(Oo,{present:n||s.hasThumb,children:W.jsx(c7,{ref:e,...r})})}),c7=V.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,o=qr(zh,n),l=_N(zh,n),{onThumbPositionChange:c}=l,f=tn(e,m=>l.onThumbChange(m)),d=V.useRef(void 0),p=Rp(()=>{d.current&&(d.current(),d.current=void 0)},100);return V.useEffect(()=>{const m=o.viewport;if(m){const g=()=>{if(p(),!d.current){const y=d7(m,c);d.current=y,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[o.viewport,p,c]),W.jsx(Mt.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:jt(t.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),w=m.clientX-y.left,E=m.clientY-y.top;l.onThumbPointerDown({x:w,y:E})}),onPointerUp:jt(t.onPointerUp,l.onThumbPointerUp)})});wN.displayName=zh;var l0="ScrollAreaCorner",SN=V.forwardRef((t,e)=>{const n=qr(l0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?W.jsx(u7,{...t,ref:e}):null});SN.displayName=l0;var u7=V.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=qr(l0,n),[o,l]=V.useState(0),[c,f]=V.useState(0),d=!!(o&&c);return jl(s.scrollbarX,()=>{var m;const p=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(p),f(p)}),jl(s.scrollbarY,()=>{var m;const p=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(p),l(p)}),d?W.jsx(Mt.div,{...r,ref:e,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Fh(t){return t?parseInt(t,10):0}function EN(t,e){const n=t/e;return isNaN(n)?0:n}function Ap(t){const e=EN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function f7(t,e,n,r="ltr"){const s=Ap(n),o=s/2,l=e||o,c=s-l,f=n.scrollbar.paddingStart+l,d=n.scrollbar.size-n.scrollbar.paddingEnd-c,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return TN([f,d],m)(t)}function zx(t,e,n="ltr"){const r=Ap(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,l=e.content-e.viewport,c=o-r,f=n==="ltr"?[0,l]:[l*-1,0],d=S_(t,f);return TN([0,l],[0,c])(d)}function TN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function xN(t,e){return t>0&&t<e}var d7=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},l=n.left!==o.left,c=n.top!==o.top;(l||c)&&e(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Rp(t,e){const n=mr(t),r=V.useRef(0);return V.useEffect(()=>()=>window.clearTimeout(r.current),[]),V.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function jl(t,e){const n=mr(e);Zn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var h7=pN,p7=gN,m7=SN;function g7({className:t,children:e,...n}){return W.jsxs(h7,{"data-slot":"scroll-area",className:nn("relative",t),...n,children:[W.jsx(p7,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),W.jsx(v7,{}),W.jsx(m7,{})]})}function v7({className:t,orientation:e="vertical",...n}){return W.jsx(vN,{"data-slot":"scroll-area-scrollbar",orientation:e,className:nn("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:W.jsx(wN,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const y7=({refreshPrograms:t})=>{const e=_p(li),[n,r]=V.useState(null),[s,o]=V.useState(null),l=async()=>{const p=(await ZV("programs")).val();if(p){const m=Object.keys(p).map(g=>({name:g,dose:p[g].dose,interval:p[g].interval,intervalValue:p[g].intervalValue}));o(m)}};V.useEffect(()=>{l()},[t]);const c=async d=>{if(!e.isConnected||e.isBusy)return;r("Running Program");const p=s==null?void 0:s[d];if(!p)return;await yp({action:"RUN_PROGRAM",data:{name:p.name,dose:p.dose,interval:p.interval,intervalValue:p.intervalValue}})==="ACK"?On.success("Program started successfully"):On.error("Failed to start the program. Please try again."),r(null)},f=async d=>{r("Deleting Program");const p=s==null?void 0:s[d];if(p)try{await dN(`programs/${p.name}`,null),On.success("Program deleted successfully"),o(m=>(m==null?void 0:m.filter((g,y)=>y!==d))||null)}catch(m){console.error("Error deleting program:",m),On.error("Failed to delete the program. Please try again.")}finally{r(null)}};return W.jsxs("div",{className:"h-full flex flex-col w-full gap-4",children:[n&&W.jsx(Ea,{text:n}),W.jsxs("p",{className:"underline flex items-center gap-1 text-xl text-accent-foreground/90 font-medium font-teko",children:["Run Program ",W.jsx(f5,{})]}),W.jsx(g7,{className:"h-50 w-full flex flex-col gap-2",children:W.jsx("div",{className:"flex flex-col gap-2",children:s!==null?s.map((d,p)=>W.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-md",children:[W.jsxs("div",{children:[W.jsx("p",{className:"text-sm font-medium underline",children:d.name}),W.jsxs("p",{className:"text-xs",children:["Dose: ",W.jsxs("strong",{children:[d.dose,"ml"]})," every ",W.jsxs("strong",{children:[d.intervalValue," ",d.interval==="hour"?"hr":"min"]})]})]}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx(yr,{size:"sm",disabled:!e.isConnected||e.isBusy,onClick:()=>c(p),children:"Run"}),W.jsx(yr,{size:"sm",variant:"destructive",className:"text-white",onClick:()=>f(p),children:W.jsx(h5,{})})]})]},p)):W.jsx(ik,{})})})]})};var kp="Dialog",[CN,dW]=af(kp),[_7,di]=CN(kp),AN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=V.useRef(null),f=V.useRef(null),[d,p]=A_({prop:r,defaultProp:s??!1,onChange:o,caller:kp});return W.jsx(_7,{scope:e,triggerRef:c,contentRef:f,contentId:xl(),titleId:xl(),descriptionId:xl(),open:d,onOpenChange:p,onOpenToggle:V.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};AN.displayName=kp;var RN="DialogTrigger",kN=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=di(RN,n),o=tn(e,s.triggerRef);return W.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":f0(s.open),...r,ref:o,onClick:jt(t.onClick,s.onOpenToggle)})});kN.displayName=RN;var c0="DialogPortal",[b7,ON]=CN(c0,{forceMount:void 0}),IN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=di(c0,e);return W.jsx(b7,{scope:e,forceMount:n,children:V.Children.map(r,l=>W.jsx(Oo,{present:n||o.open,children:W.jsx(r0,{asChild:!0,container:s,children:l})}))})};IN.displayName=c0;var Vh="DialogOverlay",NN=V.forwardRef((t,e)=>{const n=ON(Vh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=di(Vh,t.__scopeDialog);return o.modal?W.jsx(Oo,{present:r||o.open,children:W.jsx(S7,{...s,ref:e})}):null});NN.displayName=Vh;var w7=Pl("DialogOverlay.RemoveScroll"),S7=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=di(Vh,n);return W.jsx(i0,{as:w7,allowPinchZoom:!0,shards:[s.contentRef],children:W.jsx(Mt.div,{"data-state":f0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),_a="DialogContent",MN=V.forwardRef((t,e)=>{const n=ON(_a,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=di(_a,t.__scopeDialog);return W.jsx(Oo,{present:r||o.open,children:o.modal?W.jsx(E7,{...s,ref:e}):W.jsx(T7,{...s,ref:e})})});MN.displayName=_a;var E7=V.forwardRef((t,e)=>{const n=di(_a,t.__scopeDialog),r=V.useRef(null),s=tn(e,n.contentRef,r);return V.useEffect(()=>{const o=r.current;if(o)return kI(o)},[]),W.jsx(DN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:jt(t.onFocusOutside,o=>o.preventDefault())})}),T7=V.forwardRef((t,e)=>{const n=di(_a,t.__scopeDialog),r=V.useRef(!1),s=V.useRef(!1);return W.jsx(DN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,d;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),DN=V.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,c=di(_a,n),f=V.useRef(null),d=tn(e,f);return iI(),W.jsxs(W.Fragment,{children:[W.jsx(Gb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:W.jsx($b,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":f0(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),W.jsxs(W.Fragment,{children:[W.jsx(x7,{titleId:c.titleId}),W.jsx(A7,{contentRef:f,descriptionId:c.descriptionId})]})]})}),u0="DialogTitle",PN=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=di(u0,n);return W.jsx(Mt.h2,{id:s.titleId,...r,ref:e})});PN.displayName=u0;var LN="DialogDescription",jN=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=di(LN,n);return W.jsx(Mt.p,{id:s.descriptionId,...r,ref:e})});jN.displayName=LN;var UN="DialogClose",BN=V.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=di(UN,n);return W.jsx(Mt.button,{type:"button",...r,ref:e,onClick:jt(t.onClick,()=>s.onOpenChange(!1))})});BN.displayName=UN;function f0(t){return t?"open":"closed"}var zN="DialogTitleWarning",[hW,FN]=Wz(zN,{contentName:_a,titleName:u0,docsSlug:"dialog"}),x7=({titleId:t})=>{const e=FN(zN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return V.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},C7="DialogDescriptionWarning",A7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FN(C7).contentName}}.`;return V.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},R7=AN,k7=kN,O7=IN,I7=NN,N7=MN,M7=PN,D7=jN,P7=BN;function L7({...t}){return W.jsx(R7,{"data-slot":"dialog",...t})}function j7({...t}){return W.jsx(k7,{"data-slot":"dialog-trigger",...t})}function U7({...t}){return W.jsx(O7,{"data-slot":"dialog-portal",...t})}function B7({className:t,...e}){return W.jsx(I7,{"data-slot":"dialog-overlay",className:nn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function z7({className:t,children:e,showCloseButton:n=!0,...r}){return W.jsxs(U7,{"data-slot":"dialog-portal",children:[W.jsx(B7,{}),W.jsxs(N7,{"data-slot":"dialog-content",className:nn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&W.jsxs(P7,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[W.jsx($B,{}),W.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function F7({className:t,...e}){return W.jsx("div",{"data-slot":"dialog-header",className:nn("flex flex-col gap-2 text-center sm:text-left",t),...e})}function V7({className:t,...e}){return W.jsx(M7,{"data-slot":"dialog-title",className:nn("text-lg leading-none font-semibold",t),...e})}function H7({className:t,...e}){return W.jsx(D7,{"data-slot":"dialog-description",className:nn("text-muted-foreground text-sm",t),...e})}const W7=({isDoctor:t})=>{const e=hk(li),n=_p(li),[r,s]=V.useState(null),[o,l]=V.useState(!1),c=async()=>{s("Connecting"),e(p=>({...p,isBusy:!0}));try{await Fz(),s("Verifying Device"),await Vz()}catch(p){On.error("Failed to connect to the device. Please try again."),await Mh(),console.error("Error connecting to Bluetooth device:",p)}finally{e(p=>({...p,isBusy:!1})),s(null)}},f=async()=>{s("Disconnecting"),e(p=>({...p,isBusy:!0}));try{n.device&&await Mh(),e(p=>({...p,isConnected:!1,device:null}))}catch(p){On.error("Failed to disconnect from the device. Please try again."),console.error("Error disconnecting from Bluetooth device:",p)}finally{e(p=>({...p,isBusy:!1})),s(null)}},d=async()=>{if(!(!n.isConnected||n.isBusy)){s("Stopping Device"),e(p=>({...p,isBusy:!0}));try{await yp({action:"STOP"})==="ACK"?On.success("Device stopped successfully"):On.error("Failed to stop the device. Please try again.")}catch(p){console.error("Error stopping device:",p),On.error("An error occurred while stopping the device. Please try again.")}finally{s(null),e(p=>({...p,isBusy:!1}))}}};return W.jsxs(W.Fragment,{children:[r&&W.jsx(Ea,{text:r}),W.jsx("div",{className:"flex font-poppins justify-center items-center flex-col px-10 py-4 gap-5 w-full",children:W.jsx(pk,{className:"max-w-4xl",children:W.jsxs(vk,{className:"py-4",children:[W.jsxs("div",{className:"flex justify-between items-center mb-3",children:[W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx(mk,{className:"text-2xl font-bold",children:"Doser Configuration"}),W.jsx(gk,{className:"mt-[-5px]",children:"Configure/Use Connected Doser"})]}),W.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.isConnected?W.jsxs(yr,{size:"sm",variant:"destructive",className:"text-white",onClick:f,disabled:n.isBusy,children:["Disconnect ",W.jsx(m8,{})]}):W.jsxs(W.Fragment,{children:[t&&W.jsx(q7,{}),W.jsxs(yr,{size:"sm",onClick:c,disabled:n.isBusy,children:["Connect ",W.jsx(g8,{})]})]}),W.jsxs(yr,{size:"sm",variant:"destructive",className:"text-white",disabled:!n.isConnected||n.isBusy,onClick:d,children:["Stop ",W.jsx(Hz,{})]})]})]}),W.jsx(_k,{}),W.jsx("div",{className:"mt-5 min-h-48",children:W.jsxs("div",{className:"grid grid-cols-1 gap-5 h-full md:grid-cols-2 lg:grid-cols-3",children:[W.jsx(KV,{isDoctor:t}),t?W.jsx(XV,{setRefreshPrograms:l}):null,W.jsx("div",{style:{gridColumn:t?"span 1":"span 2"},children:W.jsx(y7,{refreshPrograms:o})})]})})]})})})]})},q7=()=>{const t=_p(li),[e,n]=V.useState(!1),[r,s]=V.useState(null),[o,l]=V.useState({}),[c,f]=V.useState(null);V.useEffect(()=>{try{const m={clientId:"react_mqtt_"+Math.random().toString(16).substr(2,8),protocol:"wss",port:8884},g=eI.connect("wss://broker.hivemq.com:8884/mqtt",m);g.on("connect",()=>{f(g),g.subscribe("doser_to_client/broadcast",y=>{y?(console.error("Failed to subscribe to MQTT topic:",y),f(null)):console.log("Subscribed to doser_to_client/broadcast")})}),g.on("error",y=>{console.error("MQTT Client Error:",y),f(null)}),g.on("end",()=>{console.log("MQTT Client Disconnected"),f(null)}),g.on("message",(y,w)=>{const E=w.toString();if(y==="doser_to_client/broadcast")try{const C=E.split("/")[1];l(k=>({...k,[C]:E}))}catch(C){console.error("Error parsing MQTT message:",C)}else if(y.startsWith("doser_to_client/")){const C=y.split("/")[1];E==="ACK"?(mo.set(li,k=>({...k,isConnected:!0,device:C})),n(!1),On.success(`Connected to ${C}`),g.end()):console.error("Unexpected message received:",E)}})}catch(m){console.error("Error initializing MQTT client:",m),f(null)}},[]);const d=async()=>{if(c)try{s("Scanning for MQTT devices");for(let m=0;m<3;m++)c.publish("client_to_doser/broadcast",JSON.stringify({action:"SCAN"}))}catch(m){console.error("Error during MQTT calibration:",m)}finally{s(null)}},p=async m=>{if(!c){On.error("MQTT client is not initialized. Please try again.");return}c.unsubscribe("doser_to_client/broadcast",g=>{g&&console.error("Failed to unsubscribe from MQTT topic:",g)}),c.subscribe(`doser_to_client/${m}`,g=>{if(g){console.error("Failed to subscribe to MQTT topic:",g),s(null);return}console.log(`Subscribed to doser_to_client/${m}`)}),c.publish(`client_to_doser/${m}`,JSON.stringify({action:"SYNC"}))};return W.jsxs(L7,{open:e,children:[r&&W.jsx(Ea,{text:r}),W.jsx(j7,{children:W.jsxs(yr,{size:"sm",disabled:t.isBusy||c===null,onClick:()=>n(!0),children:["Connect ",W.jsx(v8,{})]})}),W.jsxs(z7,{children:[W.jsxs(F7,{children:[W.jsx(V7,{children:"Connect to MQTT"}),W.jsx(H7,{children:"Connect to the MQTT broker to enable remote control and monitoring of the doser."})]}),W.jsx("div",{className:"flex justify-end",children:W.jsx(yr,{className:"font-semibold uppercase",onClick:d,disabled:t.isBusy,children:"Scan"})}),W.jsx(_k,{}),W.jsx("div",{className:"mt-4",children:Object.entries(o).map(([m,g],y)=>W.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-md",children:[W.jsxs("div",{children:[W.jsx("p",{className:"text-sm font-medium underline",children:m}),W.jsx("p",{className:"text-xs",children:g})]}),W.jsx("div",{className:"flex items-center gap-2",children:W.jsx(yr,{size:"sm",onClick:()=>p(m),children:"Connect"})})]},m+y))})]})]})};var $7="Label",VN=V.forwardRef((t,e)=>W.jsx(Mt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VN.displayName=$7;var G7=VN,cf=t=>t.type==="checkbox",oa=t=>t instanceof Date,ir=t=>t==null;const HN=t=>typeof t=="object";var Cn=t=>!ir(t)&&!Array.isArray(t)&&HN(t)&&!oa(t),WN=t=>Cn(t)&&t.target?cf(t.target)?t.target.checked:t.target.value:t,Y7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qN=(t,e)=>t.has(Y7(e)),K7=t=>{const e=t.constructor&&t.constructor.prototype;return Cn(e)&&e.hasOwnProperty("isPrototypeOf")},d0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(d0&&(t instanceof Blob||r))&&(n||Cn(t)))if(e=n?[]:{},!n&&!K7(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Qn(t[s]));else return t;return e}var Op=t=>Array.isArray(t)?t.filter(Boolean):[],xn=t=>t===void 0,Qe=(t,e,n)=>{if(!e||!Cn(t))return n;const r=Op(e.split(/[,[\].]+?/)).reduce((s,o)=>ir(s)?s:s[o],t);return xn(r)||r===t?xn(t[e])?n:t[e]:r},Or=t=>typeof t=="boolean",h0=t=>/^\w*$/.test(t),$N=t=>Op(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(t,e,n)=>{let r=-1;const s=h0(e)?[e]:$N(e),o=s.length,l=o-1;for(;++r<o;){const c=s[r];let f=n;if(r!==l){const d=t[c];f=Cn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=f,t=t[c]}};const Hh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ts={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GN=Pe.createContext(null),Ip=()=>Pe.useContext(GN),Q7=t=>{const{children:e,...n}=t;return Pe.createElement(GN.Provider,{value:n},e)};var YN=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const l=o;return e._proxyFormState[l]!==ti.all&&(e._proxyFormState[l]=!r||ti.all),n&&(n[l]=!0),t[l]}});return s};const p0=typeof window<"u"?V.useLayoutEffect:V.useEffect;function KN(t){const e=Ip(),{control:n=e.control,disabled:r,name:s,exact:o}=t||{},[l,c]=Pe.useState(n._formState),f=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return p0(()=>n._subscribe({name:s,formState:f.current,exact:o,callback:d=>{!r&&c({...n._formState,...d})}}),[s,r,o]),Pe.useEffect(()=>{f.current.isValid&&n._setValid(!0)},[n]),Pe.useMemo(()=>YN(l,n,f.current,!1),[l,n])}var Ai=t=>typeof t=="string",QN=(t,e,n,r,s)=>Ai(t)?(r&&e.watch.add(t),Qe(n,t,s)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Qe(n,o))):(r&&(e.watchAll=!0),n);function Z7(t){const e=Ip(),{control:n=e.control,name:r,defaultValue:s,disabled:o,exact:l}=t||{},c=Pe.useRef(s),[f,d]=Pe.useState(n._getWatch(r,c.current));return p0(()=>n._subscribe({name:r,formState:{values:!0},exact:l,callback:p=>!o&&d(QN(r,n._names,p.values||n._formValues,!1,c.current))}),[r,n,o,l]),Pe.useEffect(()=>n._removeUnmounted()),f}function X7(t){const e=Ip(),{name:n,disabled:r,control:s=e.control,shouldUnregister:o}=t,l=qN(s._names.array,n),c=Z7({control:s,name:n,defaultValue:Qe(s._formValues,n,Qe(s._defaultValues,n,t.defaultValue)),exact:!0}),f=KN({control:s,name:n,exact:!0}),d=Pe.useRef(t),p=Pe.useRef(s.register(n,{...t.rules,value:c,...Or(t.disabled)?{disabled:t.disabled}:{}})),m=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Qe(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Qe(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Qe(f.validatingFields,n)},error:{enumerable:!0,get:()=>Qe(f.errors,n)}}),[f,n]),g=Pe.useCallback(C=>p.current.onChange({target:{value:WN(C),name:n},type:Hh.CHANGE}),[n]),y=Pe.useCallback(()=>p.current.onBlur({target:{value:Qe(s._formValues,n),name:n},type:Hh.BLUR}),[n,s._formValues]),w=Pe.useCallback(C=>{const k=Qe(s._fields,n);k&&C&&(k._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:T=>C.setCustomValidity(T),reportValidity:()=>C.reportValidity()})},[s._fields,n]),E=Pe.useMemo(()=>({name:n,value:c,...Or(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:g,onBlur:y,ref:w}),[n,r,f.disabled,g,y,w,c]);return Pe.useEffect(()=>{const C=s._options.shouldUnregister||o;s.register(n,{...d.current.rules,...Or(d.current.disabled)?{disabled:d.current.disabled}:{}});const k=(T,A)=>{const z=Qe(s._fields,T);z&&z._f&&(z._f.mount=A)};if(k(n,!0),C){const T=Qn(Qe(s._options.defaultValues,n));Vt(s._defaultValues,n,T),xn(Qe(s._formValues,n))&&Vt(s._formValues,n,T)}return!l&&s.register(n),()=>{(l?C&&!s._state.action:C)?s.unregister(n):k(n,!1)}},[n,s,l,o]),Pe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Pe.useMemo(()=>({field:E,formState:f,fieldState:m}),[E,f,m])}const J7=t=>t.render(X7(t));var m0=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Au=t=>Array.isArray(t)?t:[t],Fx=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},D_=t=>ir(t)||!HN(t);function oo(t,e){if(D_(t)||D_(e))return t===e;if(oa(t)&&oa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const o=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const l=e[s];if(oa(o)&&oa(l)||Cn(o)&&Cn(l)||Array.isArray(o)&&Array.isArray(l)?!oo(o,l):o!==l)return!1}}return!0}var hr=t=>Cn(t)&&!Object.keys(t).length,g0=t=>t.type==="file",ni=t=>typeof t=="function",Wh=t=>{if(!d0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ZN=t=>t.type==="select-multiple",v0=t=>t.type==="radio",eH=t=>v0(t)||cf(t),Ov=t=>Wh(t)&&t.isConnected;function tH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=xn(t)?r++:t[e[r++]];return t}function nH(t){for(const e in t)if(t.hasOwnProperty(e)&&!xn(t[e]))return!1;return!0}function Pn(t,e){const n=Array.isArray(e)?e:h0(e)?[e]:$N(e),r=n.length===1?t:tH(t,n),s=n.length-1,o=n[s];return r&&delete r[o],s!==0&&(Cn(r)&&hr(r)||Array.isArray(r)&&nH(r))&&Pn(t,n.slice(0,-1)),t}var XN=t=>{for(const e in t)if(ni(t[e]))return!0;return!1};function qh(t,e={}){const n=Array.isArray(t);if(Cn(t)||n)for(const r in t)Array.isArray(t[r])||Cn(t[r])&&!XN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},qh(t[r],e[r])):ir(t[r])||(e[r]=!0);return e}function JN(t,e,n){const r=Array.isArray(t);if(Cn(t)||r)for(const s in t)Array.isArray(t[s])||Cn(t[s])&&!XN(t[s])?xn(e)||D_(n[s])?n[s]=Array.isArray(t[s])?qh(t[s],[]):{...qh(t[s])}:JN(t[s],ir(e)?{}:e[s],n[s]):n[s]=!oo(t[s],e[s]);return n}var lu=(t,e)=>JN(t,e,qh(e));const Vx={value:!1,isValid:!1},Hx={value:!0,isValid:!0};var e2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!xn(t[0].attributes.value)?xn(t[0].value)||t[0].value===""?Hx:{value:t[0].value,isValid:!0}:Hx:Vx}return Vx},t2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>xn(t)?t:e?t===""?NaN:t&&+t:n&&Ai(t)?new Date(t):r?r(t):t;const Wx={isValid:!1,value:null};var n2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Wx):Wx;function qx(t){const e=t.ref;return g0(e)?e.files:v0(e)?n2(t.refs).value:ZN(e)?[...e.selectedOptions].map(({value:n})=>n):cf(e)?e2(t.refs).value:t2(xn(e.value)?t.ref.value:e.value,t)}var rH=(t,e,n,r)=>{const s={};for(const o of t){const l=Qe(e,o);l&&Vt(s,o,l._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},$h=t=>t instanceof RegExp,cu=t=>xn(t)?t:$h(t)?t.source:Cn(t)?$h(t.value)?t.value.source:t.value:t,$x=t=>({isOnSubmit:!t||t===ti.onSubmit,isOnBlur:t===ti.onBlur,isOnChange:t===ti.onChange,isOnAll:t===ti.all,isOnTouch:t===ti.onTouched});const Gx="AsyncFunction";var iH=t=>!!t&&!!t.validate&&!!(ni(t.validate)&&t.validate.constructor.name===Gx||Cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Gx)),sH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Yx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ru=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const o=Qe(t,s);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Ru(c,e))break}else if(Cn(c)&&Ru(c,e))break}}};function Kx(t,e,n){const r=Qe(t,n);if(r||h0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),l=Qe(e,o),c=Qe(t,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};s.pop()}return{name:n}}var oH=(t,e,n,r)=>{n(t);const{name:s,...o}=t;return hr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!r||ti.all))},aH=(t,e,n)=>!t||!e||t===e||Au(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),lH=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,cH=(t,e)=>!Op(Qe(t,e)).length&&Pn(t,e),uH=(t,e,n)=>{const r=Au(Qe(t,n));return Vt(r,"root",e[n]),Vt(t,n,r),t},rh=t=>Ai(t);function Qx(t,e,n="validate"){if(rh(t)||Array.isArray(t)&&t.every(rh)||Or(t)&&!t)return{type:n,message:rh(t)?t:"",ref:e}}var ml=t=>Cn(t)&&!$h(t)?t:{value:t,message:""},Zx=async(t,e,n,r,s,o)=>{const{ref:l,refs:c,required:f,maxLength:d,minLength:p,min:m,max:g,pattern:y,validate:w,name:E,valueAsNumber:C,mount:k}=t._f,T=Qe(n,E);if(!k||e.has(E))return{};const A=c?c[0]:l,z=L=>{s&&A.reportValidity&&(A.setCustomValidity(Or(L)?"":L||""),A.reportValidity())},N={},M=v0(l),I=cf(l),P=M||I,Q=(C||g0(l))&&xn(l.value)&&xn(T)||Wh(l)&&l.value===""||T===""||Array.isArray(T)&&!T.length,ne=m0.bind(null,E,r,N),se=(L,ae,ie,H=ts.maxLength,D=ts.minLength)=>{const G=L?ae:ie;N[E]={type:L?H:D,message:G,ref:l,...ne(L?H:D,G)}};if(o?!Array.isArray(T)||!T.length:f&&(!P&&(Q||ir(T))||Or(T)&&!T||I&&!e2(c).isValid||M&&!n2(c).isValid)){const{value:L,message:ae}=rh(f)?{value:!!f,message:f}:ml(f);if(L&&(N[E]={type:ts.required,message:ae,ref:A,...ne(ts.required,ae)},!r))return z(ae),N}if(!Q&&(!ir(m)||!ir(g))){let L,ae;const ie=ml(g),H=ml(m);if(!ir(T)&&!isNaN(T)){const D=l.valueAsNumber||T&&+T;ir(ie.value)||(L=D>ie.value),ir(H.value)||(ae=D<H.value)}else{const D=l.valueAsDate||new Date(T),G=R=>new Date(new Date().toDateString()+" "+R),q=l.type=="time",ye=l.type=="week";Ai(ie.value)&&T&&(L=q?G(T)>G(ie.value):ye?T>ie.value:D>new Date(ie.value)),Ai(H.value)&&T&&(ae=q?G(T)<G(H.value):ye?T<H.value:D<new Date(H.value))}if((L||ae)&&(se(!!L,ie.message,H.message,ts.max,ts.min),!r))return z(N[E].message),N}if((d||p)&&!Q&&(Ai(T)||o&&Array.isArray(T))){const L=ml(d),ae=ml(p),ie=!ir(L.value)&&T.length>+L.value,H=!ir(ae.value)&&T.length<+ae.value;if((ie||H)&&(se(ie,L.message,ae.message),!r))return z(N[E].message),N}if(y&&!Q&&Ai(T)){const{value:L,message:ae}=ml(y);if($h(L)&&!T.match(L)&&(N[E]={type:ts.pattern,message:ae,ref:l,...ne(ts.pattern,ae)},!r))return z(ae),N}if(w){if(ni(w)){const L=await w(T,n),ae=Qx(L,A);if(ae&&(N[E]={...ae,...ne(ts.validate,ae.message)},!r))return z(ae.message),N}else if(Cn(w)){let L={};for(const ae in w){if(!hr(L)&&!r)break;const ie=Qx(await w[ae](T,n),A,ae);ie&&(L={...ie,...ne(ae,ie.message)},z(ie.message),r&&(N[E]=L))}if(!hr(L)&&(N[E]={ref:A,...L},!r))return N}}return z(!0),N};const fH={mode:ti.onSubmit,reValidateMode:ti.onChange,shouldFocusError:!0};function dH(t={}){let e={...fH,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ni(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Cn(e.defaultValues)||Cn(e.values)?Qn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Qn(s),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const g={array:Fx(),state:Fx()},y=e.criteriaMode===ti.all,w=$=>B=>{clearTimeout(d),d=setTimeout($,B)},E=async $=>{if(!e.disabled&&(p.isValid||m.isValid||$)){const B=e.resolver?hr((await I()).errors):await Q(r,!0);B!==n.isValid&&g.state.next({isValid:B})}},C=($,B)=>{!e.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&(($||Array.from(c.mount)).forEach(oe=>{oe&&(B?Vt(n.validatingFields,oe,B):Pn(n.validatingFields,oe))}),g.state.next({validatingFields:n.validatingFields,isValidating:!hr(n.validatingFields)}))},k=($,B=[],oe,Te,ge=!0,Me=!0)=>{if(Te&&oe&&!e.disabled){if(l.action=!0,Me&&Array.isArray(Qe(r,$))){const b=oe(Qe(r,$),Te.argA,Te.argB);ge&&Vt(r,$,b)}if(Me&&Array.isArray(Qe(n.errors,$))){const b=oe(Qe(n.errors,$),Te.argA,Te.argB);ge&&Vt(n.errors,$,b),cH(n.errors,$)}if((p.touchedFields||m.touchedFields)&&Me&&Array.isArray(Qe(n.touchedFields,$))){const b=oe(Qe(n.touchedFields,$),Te.argA,Te.argB);ge&&Vt(n.touchedFields,$,b)}(p.dirtyFields||m.dirtyFields)&&(n.dirtyFields=lu(s,o)),g.state.next({name:$,isDirty:se($,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Vt(o,$,B)},T=($,B)=>{Vt(n.errors,$,B),g.state.next({errors:n.errors})},A=$=>{n.errors=$,g.state.next({errors:n.errors,isValid:!1})},z=($,B,oe,Te)=>{const ge=Qe(r,$);if(ge){const Me=Qe(o,$,xn(oe)?Qe(s,$):oe);xn(Me)||Te&&Te.defaultChecked||B?Vt(o,$,B?Me:qx(ge._f)):ie($,Me),l.mount&&E()}},N=($,B,oe,Te,ge)=>{let Me=!1,b=!1;const S={name:$};if(!e.disabled){if(!oe||Te){(p.isDirty||m.isDirty)&&(b=n.isDirty,n.isDirty=S.isDirty=se(),Me=b!==S.isDirty);const x=oo(Qe(s,$),B);b=!!Qe(n.dirtyFields,$),x?Pn(n.dirtyFields,$):Vt(n.dirtyFields,$,!0),S.dirtyFields=n.dirtyFields,Me=Me||(p.dirtyFields||m.dirtyFields)&&b!==!x}if(oe){const x=Qe(n.touchedFields,$);x||(Vt(n.touchedFields,$,oe),S.touchedFields=n.touchedFields,Me=Me||(p.touchedFields||m.touchedFields)&&x!==oe)}Me&&ge&&g.state.next(S)}return Me?S:{}},M=($,B,oe,Te)=>{const ge=Qe(n.errors,$),Me=(p.isValid||m.isValid)&&Or(B)&&n.isValid!==B;if(e.delayError&&oe?(f=w(()=>T($,oe)),f(e.delayError)):(clearTimeout(d),f=null,oe?Vt(n.errors,$,oe):Pn(n.errors,$)),(oe?!oo(ge,oe):ge)||!hr(Te)||Me){const b={...Te,...Me&&Or(B)?{isValid:B}:{},errors:n.errors,name:$};n={...n,...b},g.state.next(b)}},I=async $=>{C($,!0);const B=await e.resolver(o,e.context,rH($||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C($),B},P=async $=>{const{errors:B}=await I($);if($)for(const oe of $){const Te=Qe(B,oe);Te?Vt(n.errors,oe,Te):Pn(n.errors,oe)}else n.errors=B;return B},Q=async($,B,oe={valid:!0})=>{for(const Te in $){const ge=$[Te];if(ge){const{_f:Me,...b}=ge;if(Me){const S=c.array.has(Me.name),x=ge._f&&iH(ge._f);x&&p.validatingFields&&C([Te],!0);const j=await Zx(ge,c.disabled,o,y,e.shouldUseNativeValidation&&!B,S);if(x&&p.validatingFields&&C([Te]),j[Me.name]&&(oe.valid=!1,B))break;!B&&(Qe(j,Me.name)?S?uH(n.errors,j,Me.name):Vt(n.errors,Me.name,j[Me.name]):Pn(n.errors,Me.name))}!hr(b)&&await Q(b,B,oe)}}return oe.valid},ne=()=>{for(const $ of c.unMount){const B=Qe(r,$);B&&(B._f.refs?B._f.refs.every(oe=>!Ov(oe)):!Ov(B._f.ref))&&J($)}c.unMount=new Set},se=($,B)=>!e.disabled&&($&&B&&Vt(o,$,B),!oo(R(),s)),L=($,B,oe)=>QN($,c,{...l.mount?o:xn(B)?s:Ai($)?{[$]:B}:B},oe,B),ae=$=>Op(Qe(l.mount?o:s,$,e.shouldUnregister?Qe(s,$,[]):[])),ie=($,B,oe={})=>{const Te=Qe(r,$);let ge=B;if(Te){const Me=Te._f;Me&&(!Me.disabled&&Vt(o,$,t2(B,Me)),ge=Wh(Me.ref)&&ir(B)?"":B,ZN(Me.ref)?[...Me.ref.options].forEach(b=>b.selected=ge.includes(b.value)):Me.refs?cf(Me.ref)?Me.refs.forEach(b=>{(!b.defaultChecked||!b.disabled)&&(Array.isArray(ge)?b.checked=!!ge.find(S=>S===b.value):b.checked=ge===b.value||!!ge)}):Me.refs.forEach(b=>b.checked=b.value===ge):g0(Me.ref)?Me.ref.value="":(Me.ref.value=ge,Me.ref.type||g.state.next({name:$,values:Qn(o)})))}(oe.shouldDirty||oe.shouldTouch)&&N($,ge,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&ye($)},H=($,B,oe)=>{for(const Te in B){if(!B.hasOwnProperty(Te))return;const ge=B[Te],Me=$+"."+Te,b=Qe(r,Me);(c.array.has($)||Cn(ge)||b&&!b._f)&&!oa(ge)?H(Me,ge,oe):ie(Me,ge,oe)}},D=($,B,oe={})=>{const Te=Qe(r,$),ge=c.array.has($),Me=Qn(B);Vt(o,$,Me),ge?(g.array.next({name:$,values:Qn(o)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&oe.shouldDirty&&g.state.next({name:$,dirtyFields:lu(s,o),isDirty:se($,Me)})):Te&&!Te._f&&!ir(Me)?H($,Me,oe):ie($,Me,oe),Yx($,c)&&g.state.next({...n}),g.state.next({name:l.mount?$:void 0,values:Qn(o)})},G=async $=>{l.mount=!0;const B=$.target;let oe=B.name,Te=!0;const ge=Qe(r,oe),Me=x=>{Te=Number.isNaN(x)||oa(x)&&isNaN(x.getTime())||oo(x,Qe(o,oe,x))},b=$x(e.mode),S=$x(e.reValidateMode);if(ge){let x,j;const te=B.type?qx(ge._f):WN($),he=$.type===Hh.BLUR||$.type===Hh.FOCUS_OUT,Se=!sH(ge._f)&&!e.resolver&&!Qe(n.errors,oe)&&!ge._f.deps||lH(he,Qe(n.touchedFields,oe),n.isSubmitted,S,b),qe=Yx(oe,c,he);Vt(o,oe,te),he?(ge._f.onBlur&&ge._f.onBlur($),f&&f(0)):ge._f.onChange&&ge._f.onChange($);const $e=N(oe,te,he),Je=!hr($e)||qe;if(!he&&g.state.next({name:oe,type:$.type,values:Qn(o)}),Se)return(p.isValid||m.isValid)&&(e.mode==="onBlur"?he&&E():he||E()),Je&&g.state.next({name:oe,...qe?{}:$e});if(!he&&qe&&g.state.next({...n}),e.resolver){const{errors:lt}=await I([oe]);if(Me(te),Te){const ot=Kx(n.errors,r,oe),In=Kx(lt,r,ot.name||oe);x=In.error,oe=In.name,j=hr(lt)}}else C([oe],!0),x=(await Zx(ge,c.disabled,o,y,e.shouldUseNativeValidation))[oe],C([oe]),Me(te),Te&&(x?j=!1:(p.isValid||m.isValid)&&(j=await Q(r,!0)));Te&&(ge._f.deps&&ye(ge._f.deps),M(oe,j,x,$e))}},q=($,B)=>{if(Qe(n.errors,B)&&$.focus)return $.focus(),1},ye=async($,B={})=>{let oe,Te;const ge=Au($);if(e.resolver){const Me=await P(xn($)?$:ge);oe=hr(Me),Te=$?!ge.some(b=>Qe(Me,b)):oe}else $?(Te=(await Promise.all(ge.map(async Me=>{const b=Qe(r,Me);return await Q(b&&b._f?{[Me]:b}:b)}))).every(Boolean),!(!Te&&!n.isValid)&&E()):Te=oe=await Q(r);return g.state.next({...!Ai($)||(p.isValid||m.isValid)&&oe!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:oe}:{},errors:n.errors}),B.shouldFocus&&!Te&&Ru(r,q,$?ge:c.mount),Te},R=$=>{const B={...l.mount?o:s};return xn($)?B:Ai($)?Qe(B,$):$.map(oe=>Qe(B,oe))},Z=($,B)=>({invalid:!!Qe((B||n).errors,$),isDirty:!!Qe((B||n).dirtyFields,$),error:Qe((B||n).errors,$),isValidating:!!Qe(n.validatingFields,$),isTouched:!!Qe((B||n).touchedFields,$)}),U=$=>{$&&Au($).forEach(B=>Pn(n.errors,B)),g.state.next({errors:$?n.errors:{}})},re=($,B,oe)=>{const Te=(Qe(r,$,{_f:{}})._f||{}).ref,ge=Qe(n.errors,$)||{},{ref:Me,message:b,type:S,...x}=ge;Vt(n.errors,$,{...x,...B,ref:Te}),g.state.next({name:$,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&Te&&Te.focus&&Te.focus()},ve=($,B)=>ni($)?g.state.subscribe({next:oe=>$(L(void 0,B),oe)}):L($,B,!0),X=$=>g.state.subscribe({next:B=>{aH($.name,B.name,$.exact)&&oH(B,$.formState||p,we,$.reRenderRoot)&&$.callback({values:{...o},...n,...B})}}).unsubscribe,Ae=$=>(l.mount=!0,m={...m,...$.formState},X({...$,formState:m})),J=($,B={})=>{for(const oe of $?Au($):c.mount)c.mount.delete(oe),c.array.delete(oe),B.keepValue||(Pn(r,oe),Pn(o,oe)),!B.keepError&&Pn(n.errors,oe),!B.keepDirty&&Pn(n.dirtyFields,oe),!B.keepTouched&&Pn(n.touchedFields,oe),!B.keepIsValidating&&Pn(n.validatingFields,oe),!e.shouldUnregister&&!B.keepDefaultValue&&Pn(s,oe);g.state.next({values:Qn(o)}),g.state.next({...n,...B.keepDirty?{isDirty:se()}:{}}),!B.keepIsValid&&E()},K=({disabled:$,name:B})=>{(Or($)&&l.mount||$||c.disabled.has(B))&&($?c.disabled.add(B):c.disabled.delete(B))},be=($,B={})=>{let oe=Qe(r,$);const Te=Or(B.disabled)||Or(e.disabled);return Vt(r,$,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:$}},name:$,mount:!0,...B}}),c.mount.add($),oe?K({disabled:Or(B.disabled)?B.disabled:e.disabled,name:$}):z($,!0,B.value),{...Te?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:cu(B.min),max:cu(B.max),minLength:cu(B.minLength),maxLength:cu(B.maxLength),pattern:cu(B.pattern)}:{},name:$,onChange:G,onBlur:G,ref:ge=>{if(ge){be($,B),oe=Qe(r,$);const Me=xn(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,b=eH(Me),S=oe._f.refs||[];if(b?S.find(x=>x===Me):Me===oe._f.ref)return;Vt(r,$,{_f:{...oe._f,...b?{refs:[...S.filter(Ov),Me,...Array.isArray(Qe(s,$))?[{}]:[]],ref:{type:Me.type,name:$}}:{ref:Me}}}),z($,!1,void 0,Me)}else oe=Qe(r,$,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(qN(c.array,$)&&l.action)&&c.unMount.add($)}}},ue=()=>e.shouldFocusError&&Ru(r,q,c.mount),fe=$=>{Or($)&&(g.state.next({disabled:$}),Ru(r,(B,oe)=>{const Te=Qe(r,oe);Te&&(B.disabled=Te._f.disabled||$,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(ge=>{ge.disabled=Te._f.disabled||$}))},0,!1))},pe=($,B)=>async oe=>{let Te;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ge=Qn(o);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:Me,values:b}=await I();n.errors=Me,ge=b}else await Q(r);if(c.disabled.size)for(const Me of c.disabled)Vt(ge,Me,void 0);if(Pn(n.errors,"root"),hr(n.errors)){g.state.next({errors:{}});try{await $(ge,oe)}catch(Me){Te=Me}}else B&&await B({...n.errors},oe),ue(),setTimeout(ue);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hr(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},Ne=($,B={})=>{Qe(r,$)&&(xn(B.defaultValue)?D($,Qn(Qe(s,$))):(D($,B.defaultValue),Vt(s,$,Qn(B.defaultValue))),B.keepTouched||Pn(n.touchedFields,$),B.keepDirty||(Pn(n.dirtyFields,$),n.isDirty=B.defaultValue?se($,Qn(Qe(s,$))):se()),B.keepError||(Pn(n.errors,$),p.isValid&&E()),g.state.next({...n}))},Ie=($,B={})=>{const oe=$?Qn($):s,Te=Qn(oe),ge=hr($),Me=ge?s:Te;if(B.keepDefaultValues||(s=oe),!B.keepValues){if(B.keepDirtyValues){const b=new Set([...c.mount,...Object.keys(lu(s,o))]);for(const S of Array.from(b))Qe(n.dirtyFields,S)?Vt(Me,S,Qe(o,S)):D(S,Qe(Me,S))}else{if(d0&&xn($))for(const b of c.mount){const S=Qe(r,b);if(S&&S._f){const x=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(Wh(x)){const j=x.closest("form");if(j){j.reset();break}}}}for(const b of c.mount)D(b,Qe(Me,b))}o=Qn(Me),g.array.next({values:{...Me}}),g.state.next({values:{...Me}})}c={mount:B.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!B.keepIsValid||!!B.keepDirtyValues,l.watch=!!e.shouldUnregister,g.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!oo($,s)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:B.keepDirtyValues?B.keepDefaultValues&&o?lu(s,o):n.dirtyFields:B.keepDefaultValues&&$?lu(s,$):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ce=($,B)=>Ie(ni($)?$(o):$,B),me=($,B={})=>{const oe=Qe(r,$),Te=oe&&oe._f;if(Te){const ge=Te.refs?Te.refs[0]:Te.ref;ge.focus&&(ge.focus(),B.shouldSelect&&ni(ge.select)&&ge.select())}},we=$=>{n={...n,...$}},ke={control:{register:be,unregister:J,getFieldState:Z,handleSubmit:pe,setError:re,_subscribe:X,_runSchema:I,_focusError:ue,_getWatch:L,_getDirty:se,_setValid:E,_setFieldArray:k,_setDisabledField:K,_setErrors:A,_getFieldArray:ae,_reset:Ie,_resetDefaultValues:()=>ni(e.defaultValues)&&e.defaultValues().then($=>{ce($,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:fe,_subjects:g,_proxyFormState:p,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state($){l=$},get _defaultValues(){return s},get _names(){return c},set _names($){c=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ae,trigger:ye,register:be,handleSubmit:pe,watch:ve,setValue:D,getValues:R,reset:ce,resetField:Ne,clearErrors:U,unregister:J,setError:re,setFocus:me,getFieldState:Z};return{...ke,formControl:ke}}function hH(t={}){const e=Pe.useRef(void 0),n=Pe.useRef(void 0),[r,s]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:ni(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ni(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:dH(t),formState:r},t.formControl&&t.defaultValues&&!ni(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,p0(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),o._formState.isReady=!0,l},[o]),Pe.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Pe.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Pe.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Pe.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==r.isDirty&&o._subjects.state.next({isDirty:l})}},[o,r.isDirty]),Pe.useEffect(()=>{t.values&&!oo(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,s(l=>({...l}))):o._resetDefaultValues()},[o,t.values]),Pe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=YN(r,o),e.current}function pH({className:t,...e}){return W.jsx(G7,{"data-slot":"label",className:nn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const mH=Q7,r2=V.createContext({}),Xx=({...t})=>W.jsx(r2.Provider,{value:{name:t.name},children:W.jsx(J7,{...t})}),y0=()=>{const t=V.useContext(r2),e=V.useContext(i2),{getFieldState:n}=Ip(),r=KN({name:t.name}),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},i2=V.createContext({});function Jx({className:t,...e}){const n=V.useId();return W.jsx(i2.Provider,{value:{id:n},children:W.jsx("div",{"data-slot":"form-item",className:nn("grid gap-2",t),...e})})}function eC({className:t,...e}){const{error:n,formItemId:r}=y0();return W.jsx(pH,{"data-slot":"form-label","data-error":!!n,className:nn("data-[error=true]:text-destructive",t),htmlFor:r,...e})}function tC({...t}){const{error:e,formItemId:n,formDescriptionId:r,formMessageId:s}=y0();return W.jsx(HR,{"data-slot":"form-control",id:n,"aria-describedby":e?`${r} ${s}`:`${r}`,"aria-invalid":!!e,...t})}function nC({className:t,...e}){const{error:n,formMessageId:r}=y0(),s=n?String((n==null?void 0:n.message)??""):e.children;return s?W.jsx("p",{"data-slot":"form-message",id:r,className:nn("text-destructive text-sm",t),...e,children:s}):null}const rC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Qe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},P_=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?rC(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>rC(s,n,t))}},iC=(t,e)=>{e.shouldUseNativeValidation&&P_(t,e);const n={};for(const r in t){const s=Qe(e.fields,r),o=Object.assign(t[r]||{},{ref:s&&s.ref});if(gH(e.names||Object.keys(t),r)){const l=Object.assign({},Qe(n,r));Vt(l,"root",o),Vt(n,r,l)}else Vt(n,r,o)}return n},gH=(t,e)=>{const n=sC(e);return t.some(r=>sC(r).match(`^${n}\\.\\d+`))};function sC(t){return t.replace(/\]|\[/g,"")}function s2(t,e,n){function r(c,f){var d;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(d=c._zod).traits??(d.traits=new Set),c._zod.traits.add(t),e(c,f);for(const p in l.prototype)p in c||Object.defineProperty(c,p,{value:l.prototype[p].bind(c)});c._zod.constr=l,c._zod.def=f}const s=(n==null?void 0:n.Parent)??Object;class o extends s{}Object.defineProperty(o,"name",{value:t});function l(c){var f;const d=n!=null&&n.Parent?new o:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var f,d;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(d=(f=c==null?void 0:c._zod)==null?void 0:f.traits)==null?void 0:d.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class vH extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const yH={};function o2(t){return yH}function _H(t,e){return typeof e=="bigint"?e.toString():e}function Bd(t){return typeof t=="string"?t:t==null?void 0:t.message}function a2(t,e,n){var s,o,l,c,f,d;const r={...t,path:t.path??[]};if(!t.message){const p=Bd((l=(o=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:o.error)==null?void 0:l.call(o,t))??Bd((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??Bd((f=n.customError)==null?void 0:f.call(n,t))??Bd((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const l2=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,_H,2)},enumerable:!0})},bH=s2("$ZodError",l2),c2=s2("$ZodError",l2,{Parent:Error}),wH=t=>(e,n,r,s)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new vH;if(l.issues.length){const c=new((s==null?void 0:s.Err)??t)(l.issues.map(f=>a2(f,o,o2())));throw Error.captureStackTrace(c,s==null?void 0:s.callee),c}return l.value},SH=wH(c2),EH=t=>async(e,n,r,s)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((s==null?void 0:s.Err)??t)(l.issues.map(f=>a2(f,o,o2())));throw Error.captureStackTrace(c,s==null?void 0:s.callee),c}return l.value},TH=EH(c2);function oC(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function xH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,o=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:o,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(m){return t.push(m)})}),e){var f=n[l].types,d=f&&f[r.code];n[l]=m0(l,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n}function CH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,o=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"){var c=r.errors[0][0];n[l]={message:c.message,type:c.code}}else n[l]={message:o,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(p){return p.forEach(function(m){return t.push(m)})}),e){var f=n[l].types,d=f&&f[r.code];n[l]=m0(l,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n}function AH(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,o){try{return Promise.resolve(oC(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return o.shouldUseNativeValidation&&P_({},o),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(c){return Array.isArray(c==null?void 0:c.issues)}(l))return{values:{},errors:iC(xH(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,o){try{return Promise.resolve(oC(function(){return Promise.resolve((n.mode==="sync"?SH:TH)(t,r,e)).then(function(l){return o.shouldUseNativeValidation&&P_({},o),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if(function(c){return c instanceof bH}(l))return{values:{},errors:iC(CH(l.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}var Ut;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of o)l[c]=s[c];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},t.find=(s,o)=>{for(const l of s)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ut||(Ut={}));var aC;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(aC||(aC={}));const it=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),to=t=>{switch(typeof t){case"undefined":return it.undefined;case"string":return it.string;case"number":return Number.isNaN(t)?it.nan:it.number;case"boolean":return it.boolean;case"function":return it.function;case"bigint":return it.bigint;case"symbol":return it.symbol;case"object":return Array.isArray(t)?it.array:t===null?it.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?it.promise:typeof Map<"u"&&t instanceof Map?it.map:typeof Set<"u"&&t instanceof Set?it.set:typeof Date<"u"&&t instanceof Date?it.date:it.object;default:return it.unknown}},Ge=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,f=0;for(;f<l.path.length;){const d=l.path[f];f===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(l))):c[d]=c[d]||{_errors:[]},c=c[d],f++}}};return s(this),r}static assert(e){if(!(e instanceof _s))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_s.create=t=>new _s(t);const L_=(t,e)=>{let n;switch(t.code){case Ge.invalid_type:t.received===it.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ut.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ut.joinValues(t.keys,", ")}`;break;case Ge.invalid_union:n="Invalid input";break;case Ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ut.joinValues(t.options)}`;break;case Ge.invalid_enum_value:n=`Invalid enum value. Expected ${Ut.joinValues(t.options)}, received '${t.received}'`;break;case Ge.invalid_arguments:n="Invalid function arguments";break;case Ge.invalid_return_type:n="Invalid function return type";break;case Ge.invalid_date:n="Invalid date";break;case Ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ut.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ge.custom:n="Invalid input";break;case Ge.invalid_intersection_types:n="Intersection results could not be merged";break;case Ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ut.assertNever(t)}return{message:n}};let RH=L_;function kH(){return RH}const OH=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,o=[...n,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let c="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)c=d(l,{data:e,defaultError:c}).message;return{...s,path:o,message:c}};function Xe(t,e){const n=kH(),r=OH({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===L_?void 0:L_].filter(s=>!!s)});t.common.issues.push(r)}class Mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const o=await s.key,l=await s.value;r.push({key:o,value:l})}return Mr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return gt;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const gt=Object.freeze({status:"aborted"}),vu=t=>({status:"dirty",value:t}),$r=t=>({status:"valid",value:t}),lC=t=>t.status==="aborted",cC=t=>t.status==="dirty",Ul=t=>t.status==="valid",Gh=t=>typeof Promise<"u"&&t instanceof Promise;var st;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(st||(st={}));class So{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uC=(t,e)=>{if(Ul(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _s(t.common.issues);return this._error=n,this._error}}};function xt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,c)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??c.defaultError}:typeof c.data>"u"?{message:f??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:f??n??c.defaultError}},description:s}}class Dt{get description(){return this._def.description}_getType(e){return to(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:to(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mr,ctx:{common:e.parent.common,data:e.data,parsedType:to(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:to(e)},s=this._parseSync({data:e,path:r.path,parent:r});return uC(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:to(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Ul(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(s=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Ul(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:to(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(Gh(s)?s:Promise.resolve(s));return uC(r,o)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const l=e(s),c=()=>o.addIssue({code:Ge.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new zl({schema:this,typeName:vt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return go.create(this,this._def)}nullable(){return Fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ii.create(this)}promise(){return Zh.create(this,this._def)}or(e){return Kh.create([this,e],this._def)}and(e){return Qh.create(this,e,this._def)}transform(e){return new zl({...xt(this._def),schema:this,typeName:vt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new U_({...xt(this._def),innerType:this,defaultValue:n,typeName:vt.ZodDefault})}brand(){return new JH({typeName:vt.ZodBranded,type:this,...xt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new B_({...xt(this._def),innerType:this,catchValue:n,typeName:vt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _0.create(this,e)}readonly(){return z_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IH=/^c[^\s-]{8,}$/i,NH=/^[0-9a-z]+$/,MH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PH=/^[a-z0-9_-]{21}$/i,LH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Iv;const zH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,HH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,WH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,u2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$H=new RegExp(`^${u2}$`);function f2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function GH(t){return new RegExp(`^${f2(t)}$`)}function YH(t){let e=`${u2}T${f2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function KH(t,e){return!!((e==="v4"||!e)&&zH.test(t)||(e==="v6"||!e)&&VH.test(t))}function QH(t,e){if(!LH.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function ZH(t,e){return!!((e==="v4"||!e)&&FH.test(t)||(e==="v6"||!e)&&HH.test(t))}class ao extends Dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==it.string){const o=this._getOrReturnCtx(e);return Xe(o,{code:Ge.invalid_type,expected:it.string,received:o.parsedType}),gt}const r=new Mr;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(s=this._getOrReturnCtx(e,s),l?Xe(s,{code:Ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&Xe(s,{code:Ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")UH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"email",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Iv||(Iv=new RegExp(BH,"u")),Iv.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"emoji",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")DH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"uuid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")PH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"nanoid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")IH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"cuid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")NH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"cuid2",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")MH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"ulid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Xe(s,{validation:"url",code:Ge.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"regex",code:Ge.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?YH(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?$H.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?GH(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?jH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"duration",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?KH(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"ip",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?QH(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"jwt",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?ZH(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"cidr",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?WH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"base64",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?qH.test(e.data)||(s=this._getOrReturnCtx(e,s),Xe(s,{validation:"base64url",code:Ge.invalid_string,message:o.message}),r.dirty()):Ut.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ge.invalid_string,...st.errToObj(r)})}_addCheck(e){return new ao({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...st.errToObj(e)})}url(e){return this._addCheck({kind:"url",...st.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...st.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...st.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...st.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...st.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...st.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...st.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...st.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...st.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...st.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...st.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...st.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...st.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...st.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...st.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...st.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...st.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...st.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...st.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...st.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...st.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...st.errToObj(n)})}nonempty(e){return this.min(1,st.errToObj(e))}trim(){return new ao({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ao({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ao.create=t=>new ao({checks:[],typeName:vt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...xt(t)});function XH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,o=Number.parseInt(t.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return o%l/10**s}class Wu extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==it.number){const o=this._getOrReturnCtx(e);return Xe(o,{code:Ge.invalid_type,expected:it.number,received:o.parsedType}),gt}let r;const s=new Mr;for(const o of this._def.checks)o.kind==="int"?Ut.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?XH(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.not_finite,message:o.message}),s.dirty()):Ut.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,r,s){return new Wu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:st.toString(s)}]})}_addCheck(e){return new Wu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:st.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:st.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:st.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:st.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ut.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Wu.create=t=>new Wu({checks:[],typeName:vt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...xt(t)});class qu extends Dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==it.bigint)return this._getInvalidInput(e);let r;const s=new Mr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:Ge.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ut.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Xe(n,{code:Ge.invalid_type,expected:it.bigint,received:n.parsedType}),gt}gte(e,n){return this.setLimit("min",e,!0,st.toString(n))}gt(e,n){return this.setLimit("min",e,!1,st.toString(n))}lte(e,n){return this.setLimit("max",e,!0,st.toString(n))}lt(e,n){return this.setLimit("max",e,!1,st.toString(n))}setLimit(e,n,r,s){return new qu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:st.toString(s)}]})}_addCheck(e){return new qu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:st.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:st.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:st.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:st.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:st.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qu.create=t=>new qu({checks:[],typeName:vt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...xt(t)});class fC extends Dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==it.boolean){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.boolean,received:r.parsedType}),gt}return $r(e.data)}}fC.create=t=>new fC({typeName:vt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...xt(t)});class Yh extends Dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==it.date){const o=this._getOrReturnCtx(e);return Xe(o,{code:Ge.invalid_type,expected:it.date,received:o.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Xe(o,{code:Ge.invalid_date}),gt}const r=new Mr;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Xe(s,{code:Ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ut.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Yh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:st.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:st.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Yh.create=t=>new Yh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:vt.ZodDate,...xt(t)});class dC extends Dt{_parse(e){if(this._getType(e)!==it.symbol){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.symbol,received:r.parsedType}),gt}return $r(e.data)}}dC.create=t=>new dC({typeName:vt.ZodSymbol,...xt(t)});class hC extends Dt{_parse(e){if(this._getType(e)!==it.undefined){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.undefined,received:r.parsedType}),gt}return $r(e.data)}}hC.create=t=>new hC({typeName:vt.ZodUndefined,...xt(t)});class pC extends Dt{_parse(e){if(this._getType(e)!==it.null){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.null,received:r.parsedType}),gt}return $r(e.data)}}pC.create=t=>new pC({typeName:vt.ZodNull,...xt(t)});class mC extends Dt{constructor(){super(...arguments),this._any=!0}_parse(e){return $r(e.data)}}mC.create=t=>new mC({typeName:vt.ZodAny,...xt(t)});class gC extends Dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $r(e.data)}}gC.create=t=>new gC({typeName:vt.ZodUnknown,...xt(t)});class Eo extends Dt{_parse(e){const n=this._getOrReturnCtx(e);return Xe(n,{code:Ge.invalid_type,expected:it.never,received:n.parsedType}),gt}}Eo.create=t=>new Eo({typeName:vt.ZodNever,...xt(t)});class vC extends Dt{_parse(e){if(this._getType(e)!==it.undefined){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.void,received:r.parsedType}),gt}return $r(e.data)}}vC.create=t=>new vC({typeName:vt.ZodVoid,...xt(t)});class Ii extends Dt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==it.array)return Xe(n,{code:Ge.invalid_type,expected:it.array,received:n.parsedType}),gt;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(Xe(n,{code:l?Ge.too_big:Ge.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Xe(n,{code:Ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Xe(n,{code:Ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new So(n,l,n.path,c)))).then(l=>Mr.mergeArray(r,l));const o=[...n.data].map((l,c)=>s.type._parseSync(new So(n,l,n.path,c)));return Mr.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Ii({...this._def,minLength:{value:e,message:st.toString(n)}})}max(e,n){return new Ii({...this._def,maxLength:{value:e,message:st.toString(n)}})}length(e,n){return new Ii({...this._def,exactLength:{value:e,message:st.toString(n)}})}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({type:t,minLength:null,maxLength:null,exactLength:null,typeName:vt.ZodArray,...xt(e)});function vl(t){if(t instanceof kn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=go.create(vl(r))}return new kn({...t._def,shape:()=>e})}else return t instanceof Ii?new Ii({...t._def,type:vl(t.element)}):t instanceof go?go.create(vl(t.unwrap())):t instanceof Fl?Fl.create(vl(t.unwrap())):t instanceof ba?ba.create(t.items.map(e=>vl(e))):t}class kn extends Dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ut.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==it.object){const d=this._getOrReturnCtx(e);return Xe(d,{code:Ge.invalid_type,expected:it.object,received:d.parsedType}),gt}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Eo&&this._def.unknownKeys==="strip"))for(const d in s.data)l.includes(d)||c.push(d);const f=[];for(const d of l){const p=o[d],m=s.data[d];f.push({key:{status:"valid",value:d},value:p._parse(new So(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Eo){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of c)f.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(d==="strict")c.length>0&&(Xe(s,{code:Ge.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of c){const m=s.data[p];f.push({key:{status:"valid",value:p},value:d._parse(new So(s,m,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of f){const m=await p.key,g=await p.value;d.push({key:m,value:g,alwaysSet:p.alwaysSet})}return d}).then(d=>Mr.mergeObjectSync(r,d)):Mr.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return st.errToObj,new kn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,l;const s=((l=(o=this._def).errorMap)==null?void 0:l.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:st.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new kn({...this._def,unknownKeys:"strip"})}passthrough(){return new kn({...this._def,unknownKeys:"passthrough"})}extend(e){return new kn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:vt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new kn({...this._def,catchall:e})}pick(e){const n={};for(const r of Ut.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new kn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ut.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new kn({...this._def,shape:()=>n})}deepPartial(){return vl(this)}partial(e){const n={};for(const r of Ut.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new kn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ut.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof go;)o=o._def.innerType;n[r]=o}return new kn({...this._def,shape:()=>n})}keyof(){return d2(Ut.objectKeys(this.shape))}}kn.create=(t,e)=>new kn({shape:()=>t,unknownKeys:"strip",catchall:Eo.create(),typeName:vt.ZodObject,...xt(e)});kn.strictCreate=(t,e)=>new kn({shape:()=>t,unknownKeys:"strict",catchall:Eo.create(),typeName:vt.ZodObject,...xt(e)});kn.lazycreate=(t,e)=>new kn({shape:t,unknownKeys:"strip",catchall:Eo.create(),typeName:vt.ZodObject,...xt(e)});class Kh extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new _s(c.ctx.common.issues));return Xe(n,{code:Ge.invalid_union,unionErrors:l}),gt}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=f._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!o&&(o={result:p,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(f=>new _s(f));return Xe(n,{code:Ge.invalid_union,unionErrors:c}),gt}}get options(){return this._def.options}}Kh.create=(t,e)=>new Kh({options:t,typeName:vt.ZodUnion,...xt(e)});function j_(t,e){const n=to(t),r=to(e);if(t===e)return{valid:!0,data:t};if(n===it.object&&r===it.object){const s=Ut.objectKeys(e),o=Ut.objectKeys(t).filter(c=>s.indexOf(c)!==-1),l={...t,...e};for(const c of o){const f=j_(t[c],e[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(n===it.array&&r===it.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const l=t[o],c=e[o],f=j_(l,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===it.date&&r===it.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qh extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(o,l)=>{if(lC(o)||lC(l))return gt;const c=j_(o.value,l.value);return c.valid?((cC(o)||cC(l))&&n.dirty(),{status:n.value,value:c.data}):(Xe(r,{code:Ge.invalid_intersection_types}),gt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qh.create=(t,e,n)=>new Qh({left:t,right:e,typeName:vt.ZodIntersection,...xt(n)});class ba extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.array)return Xe(r,{code:Ge.invalid_type,expected:it.array,received:r.parsedType}),gt;if(r.data.length<this._def.items.length)return Xe(r,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&r.data.length>this._def.items.length&&(Xe(r,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new So(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>Mr.mergeArray(n,l)):Mr.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new ba({...this._def,rest:e})}}ba.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ba({items:t,typeName:vt.ZodTuple,rest:null,...xt(e)})};class yC extends Dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.map)return Xe(r,{code:Ge.invalid_type,expected:it.map,received:r.parsedType}),gt;const s=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,f],d)=>({key:s._parse(new So(r,c,r.path,[d,"key"])),value:o._parse(new So(r,f,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const d=await f.key,p=await f.value;if(d.status==="aborted"||p.status==="aborted")return gt;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(d.value,p.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of l){const d=f.key,p=f.value;if(d.status==="aborted"||p.status==="aborted")return gt;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),c.set(d.value,p.value)}return{status:n.value,value:c}}}}yC.create=(t,e,n)=>new yC({valueType:e,keyType:t,typeName:vt.ZodMap,...xt(n)});class $u extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.set)return Xe(r,{code:Ge.invalid_type,expected:it.set,received:r.parsedType}),gt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Xe(r,{code:Ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Xe(r,{code:Ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function l(f){const d=new Set;for(const p of f){if(p.status==="aborted")return gt;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((f,d)=>o._parse(new So(r,f,r.path,d)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(e,n){return new $u({...this._def,minSize:{value:e,message:st.toString(n)}})}max(e,n){return new $u({...this._def,maxSize:{value:e,message:st.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$u.create=(t,e)=>new $u({valueType:t,minSize:null,maxSize:null,typeName:vt.ZodSet,...xt(e)});class _C extends Dt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_C.create=(t,e)=>new _C({getter:t,typeName:vt.ZodLazy,...xt(e)});class bC extends Dt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Xe(n,{received:n.data,code:Ge.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}bC.create=(t,e)=>new bC({value:t,typeName:vt.ZodLiteral,...xt(e)});function d2(t,e){return new Bl({values:t,typeName:vt.ZodEnum,...xt(e)})}class Bl extends Dt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Xe(n,{expected:Ut.joinValues(r),received:n.parsedType,code:Ge.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Xe(n,{received:n.data,code:Ge.invalid_enum_value,options:r}),gt}return $r(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Bl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Bl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Bl.create=d2;class wC extends Dt{_parse(e){const n=Ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==it.string&&r.parsedType!==it.number){const s=Ut.objectValues(n);return Xe(r,{expected:Ut.joinValues(s),received:r.parsedType,code:Ge.invalid_type}),gt}if(this._cache||(this._cache=new Set(Ut.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ut.objectValues(n);return Xe(r,{received:r.data,code:Ge.invalid_enum_value,options:s}),gt}return $r(e.data)}get enum(){return this._def.values}}wC.create=(t,e)=>new wC({values:t,typeName:vt.ZodNativeEnum,...xt(e)});class Zh extends Dt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==it.promise&&n.common.async===!1)return Xe(n,{code:Ge.invalid_type,expected:it.promise,received:n.parsedType}),gt;const r=n.parsedType===it.promise?n.data:Promise.resolve(n.data);return $r(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zh.create=(t,e)=>new Zh({type:t,typeName:vt.ZodPromise,...xt(e)});class zl extends Dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===vt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{Xe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return gt;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?gt:f.status==="dirty"||n.value==="dirty"?vu(f.value):f});{if(n.value==="aborted")return gt;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?gt:c.status==="dirty"||n.value==="dirty"?vu(c.value):c}}if(s.type==="refinement"){const l=c=>{const f=s.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ul(l))return gt;const c=s.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ul(l)?Promise.resolve(s.transform(l.value,o)).then(c=>({status:n.value,value:c})):gt);Ut.assertNever(s)}}zl.create=(t,e,n)=>new zl({schema:t,typeName:vt.ZodEffects,effect:e,...xt(n)});zl.createWithPreprocess=(t,e,n)=>new zl({schema:e,effect:{type:"preprocess",transform:t},typeName:vt.ZodEffects,...xt(n)});class go extends Dt{_parse(e){return this._getType(e)===it.undefined?$r(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}go.create=(t,e)=>new go({innerType:t,typeName:vt.ZodOptional,...xt(e)});class Fl extends Dt{_parse(e){return this._getType(e)===it.null?$r(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fl.create=(t,e)=>new Fl({innerType:t,typeName:vt.ZodNullable,...xt(e)});class U_ extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===it.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}U_.create=(t,e)=>new U_({innerType:t,typeName:vt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xt(e)});class B_ extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gh(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _s(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}B_.create=(t,e)=>new B_({innerType:t,typeName:vt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xt(e)});class SC extends Dt{_parse(e){if(this._getType(e)!==it.nan){const r=this._getOrReturnCtx(e);return Xe(r,{code:Ge.invalid_type,expected:it.nan,received:r.parsedType}),gt}return{status:"valid",value:e.data}}}SC.create=t=>new SC({typeName:vt.ZodNaN,...xt(t)});class JH extends Dt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _0 extends Dt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?gt:o.status==="dirty"?(n.dirty(),vu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?gt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new _0({in:e,out:n,typeName:vt.ZodPipeline})}}class z_ extends Dt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ul(s)&&(s.value=Object.freeze(s.value)),s);return Gh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}z_.create=(t,e)=>new z_({innerType:t,typeName:vt.ZodReadonly,...xt(e)});var vt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(vt||(vt={}));const EC=ao.create;Eo.create;Ii.create;const eW=kn.create;Kh.create;Qh.create;ba.create;Bl.create;Zh.create;go.create;Fl.create;const tW=eW({email:EC().email(),password:EC().min(8,"Password must be at least 8 characters long")}),nW=()=>{const[t,e]=V.useState(null),n=hH({defaultValues:{email:"",password:""},resolver:AH(tW)}),r=async s=>{e("Logging in");try{await p5(s.email,s.password),On.success("Logged in successfully")}catch(o){console.error("Login error:",o),On.error("Failed to log in. Please check your credentials.")}finally{e(null),n.reset()}};return W.jsxs("div",{className:"w-full mt-30 flex items-center justify-center",children:[t&&W.jsx(Ea,{text:t}),W.jsxs("div",{className:"max-w-sm w-full flex flex-col items-center border rounded-lg p-6 shadow-sm",children:[W.jsx("p",{className:"mt-4 text-xl font-bold tracking-tight",children:"Log in to Smart Doser"}),W.jsx(mH,{...n,children:W.jsxs("form",{className:"w-full space-y-4",onSubmit:n.handleSubmit(r),children:[W.jsx(Xx,{control:n.control,name:"email",render:({field:s})=>W.jsxs(Jx,{children:[W.jsx(eC,{children:"Email"}),W.jsx(tC,{children:W.jsx(Rl,{type:"email",placeholder:"Email",className:"w-full",...s})}),W.jsx(nC,{})]})}),W.jsx(Xx,{control:n.control,name:"password",render:({field:s})=>W.jsxs(Jx,{children:[W.jsx(eC,{children:"Password"}),W.jsx(tC,{children:W.jsx(Rl,{type:"password",placeholder:"Password",className:"w-full",...s})}),W.jsx(nC,{})]})}),W.jsx(yr,{type:"submit",className:"mt-4 w-full",children:"Continue with Email"})]})})]})]})};function rW(){const t=W6(),e=V.useMemo(()=>t?t.uid==="qtCswbf6aFWqc65kYpTO45LRSpD3":!1,[t]);return W.jsx("div",{className:"h-screen font-poppins",children:W.jsxs("div",{className:"flex justify-center items-start flex-col px-10 py-4 gap-5",children:[W.jsx(H5,{}),t?W.jsx(W7,{isDoctor:e}):W.jsx(nW,{})]})})}var iW=(t,e,n,r,s,o,l,c)=>{let f=document.documentElement,d=["light","dark"];function p(y){(Array.isArray(t)?t:[t]).forEach(w=>{let E=w==="class",C=E&&o?s.map(k=>o[k]||k):s;E?(f.classList.remove(...C),f.classList.add(o&&o[y]?o[y]:y)):f.setAttribute(w,y)}),m(y)}function m(y){c&&d.includes(y)&&(f.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let y=localStorage.getItem(e)||n,w=l&&y==="system"?g():y;p(w)}catch{}},sW=V.createContext(void 0),oW={setTheme:t=>{},themes:[]},aW=()=>{var t;return(t=V.useContext(sW))!=null?t:oW};V.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:f,scriptProps:d})=>{let p=JSON.stringify([n,e,o,t,c,l,r,s]).slice(1,-1);return V.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${iW.toString()})(${p})`}})});const lW=({...t})=>{const{theme:e="system"}=aW();return W.jsx(V5,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};ND.createRoot(document.getElementById("root")).render(W.jsx(V.StrictMode,{children:W.jsxs(QB,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:[W.jsx(rW,{}),W.jsx(lW,{})]})}));
